/*! For license information please see main.43f0d6a0.js.LICENSE.txt */
(()=>{var t={24:function(t){t.exports=function(){"use strict";function t(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(e,n){return e.get(t(e,n))}function i(t,n,i){e(t,n),n.set(t,i)}function r(e,n,i){return e.set(t(e,n),i),i}const s=100,o={},a=()=>{o.previousActiveElement instanceof HTMLElement?(o.previousActiveElement.focus(),o.previousActiveElement=null):document.body&&document.body.focus()},l=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,i=window.scrollY;o.restoreFocusTimeout=setTimeout(()=>{a(),e()},s),window.scrollTo(n,i)}),c="swal2-",u=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce((t,e)=>(t[e]=c+e,t),{}),h=["success","warning","info","question","error"].reduce((t,e)=>(t[e]=c+e,t),{}),d="SweetAlert2:",f=t=>t.charAt(0).toUpperCase()+t.slice(1),p=t=>{console.warn("".concat(d," ").concat("object"===typeof t?t.join(" "):t))},g=t=>{console.error("".concat(d," ").concat(t))},m=[],v=t=>{m.includes(t)||(m.push(t),p(t))},y=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;v('"'.concat(t,'" is deprecated and will be removed in the next major release.').concat(e?' Use "'.concat(e,'" instead.'):""))},w=t=>"function"===typeof t?t():t,b=t=>t&&"function"===typeof t.toPromise,_=t=>b(t)?t.toPromise():Promise.resolve(t),x=t=>t&&Promise.resolve(t)===t,S=()=>document.body.querySelector(".".concat(u.container)),k=t=>{const e=S();return e?e.querySelector(t):null},C=t=>k(".".concat(t)),N=()=>C(u.popup),A=()=>C(u.icon),E=()=>C(u["icon-content"]),L=()=>C(u.title),P=()=>C(u["html-container"]),j=()=>C(u.image),R=()=>C(u["progress-steps"]),T=()=>C(u["validation-message"]),I=()=>k(".".concat(u.actions," .").concat(u.confirm)),F=()=>k(".".concat(u.actions," .").concat(u.cancel)),O=()=>k(".".concat(u.actions," .").concat(u.deny)),M=()=>C(u["input-label"]),D=()=>k(".".concat(u.loader)),B=()=>C(u.actions),z=()=>C(u.footer),U=()=>C(u["timer-progress-bar"]),q=()=>C(u.close),W='\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n',H=()=>{const t=N();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((t,e)=>{const n=parseInt(t.getAttribute("tabindex")||"0"),i=parseInt(e.getAttribute("tabindex")||"0");return n>i?1:n<i?-1:0}),i=t.querySelectorAll(W),r=Array.from(i).filter(t=>"-1"!==t.getAttribute("tabindex"));return[...new Set(n.concat(r))].filter(t=>ut(t))},V=()=>X(document.body,u.shown)&&!X(document.body,u["toast-shown"])&&!X(document.body,u["no-backdrop"]),G=()=>{const t=N();return!!t&&X(t,u.toast)},K=()=>{const t=N();return!!t&&t.hasAttribute("data-loading")},Y=(t,e)=>{if(t.textContent="",e){const n=(new DOMParser).parseFromString(e,"text/html"),i=n.querySelector("head");i&&Array.from(i.childNodes).forEach(e=>{t.appendChild(e)});const r=n.querySelector("body");r&&Array.from(r.childNodes).forEach(e=>{e instanceof HTMLVideoElement||e instanceof HTMLAudioElement?t.appendChild(e.cloneNode(!0)):t.appendChild(e)})}},X=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let i=0;i<n.length;i++)if(!t.classList.contains(n[i]))return!1;return!0},Z=(t,e)=>{Array.from(t.classList).forEach(n=>{Object.values(u).includes(n)||Object.values(h).includes(n)||Object.values(e.showClass||{}).includes(n)||t.classList.remove(n)})},J=(t,e,n)=>{if(Z(t,e),!e.customClass)return;const i=e.customClass[n];i&&("string"===typeof i||i.forEach?et(t,i):p("Invalid type of customClass.".concat(n,'! Expected string or iterable object, got "').concat(typeof i,'"')))},$=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(".".concat(u.popup," > .").concat(u[e]));case"checkbox":return t.querySelector(".".concat(u.popup," > .").concat(u.checkbox," input"));case"radio":return t.querySelector(".".concat(u.popup," > .").concat(u.radio," input:checked"))||t.querySelector(".".concat(u.popup," > .").concat(u.radio," input:first-child"));case"range":return t.querySelector(".".concat(u.popup," > .").concat(u.range," input"));default:return t.querySelector(".".concat(u.popup," > .").concat(u.input))}},Q=t=>{if(t.focus(),"file"!==t.type){const e=t.value;t.value="",t.value=e}},tt=(t,e,n)=>{t&&e&&("string"===typeof e&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(e=>{Array.isArray(t)?t.forEach(t=>{n?t.classList.add(e):t.classList.remove(e)}):n?t.classList.add(e):t.classList.remove(e)}))},et=(t,e)=>{tt(t,e,!0)},nt=(t,e)=>{tt(t,e,!1)},it=(t,e)=>{const n=Array.from(t.children);for(let i=0;i<n.length;i++){const t=n[i];if(t instanceof HTMLElement&&X(t,e))return t}},rt=(t,e,n)=>{n==="".concat(parseInt("".concat(n)))&&(n=parseInt(n)),n||0===parseInt("".concat(n))?t.style.setProperty(e,"number"===typeof n?"".concat(n,"px"):n):t.style.removeProperty(e)},st=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";t&&(t.style.display=e)},ot=t=>{t&&(t.style.display="none")},at=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";t&&new MutationObserver(()=>{ct(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},lt=(t,e,n,i)=>{const r=t.querySelector(e);r&&r.style.setProperty(n,i)},ct=function(t,e){e?st(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):ot(t)},ut=t=>!(!t||!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),ht=()=>!ut(I())&&!ut(O())&&!ut(F()),dt=t=>!!(t.scrollHeight>t.clientHeight),ft=(t,e)=>{let n=t;for(;n&&n!==e;){if(dt(n))return!0;n=n.parentElement}return!1},pt=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),i=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||i>0},gt=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=U();n&&ut(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition="width ".concat(t/1e3,"s linear"),n.style.width="0%"},10))},mt=()=>{const t=U();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=e/parseInt(window.getComputedStyle(t).width)*100;t.style.width="".concat(n,"%")},vt=()=>"undefined"===typeof window||"undefined"===typeof document,yt='\n <div aria-labelledby="'.concat(u.title,'" aria-describedby="').concat(u["html-container"],'" class="').concat(u.popup,'" tabindex="-1">\n   <button type="button" class="').concat(u.close,'"></button>\n   <ul class="').concat(u["progress-steps"],'"></ul>\n   <div class="').concat(u.icon,'"></div>\n   <img class="').concat(u.image,'" />\n   <h2 class="').concat(u.title,'" id="').concat(u.title,'"></h2>\n   <div class="').concat(u["html-container"],'" id="').concat(u["html-container"],'"></div>\n   <input class="').concat(u.input,'" id="').concat(u.input,'" />\n   <input type="file" class="').concat(u.file,'" />\n   <div class="').concat(u.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(u.select,'" id="').concat(u.select,'"></select>\n   <div class="').concat(u.radio,'"></div>\n   <label class="').concat(u.checkbox,'">\n     <input type="checkbox" id="').concat(u.checkbox,'" />\n     <span class="').concat(u.label,'"></span>\n   </label>\n   <textarea class="').concat(u.textarea,'" id="').concat(u.textarea,'"></textarea>\n   <div class="').concat(u["validation-message"],'" id="').concat(u["validation-message"],'"></div>\n   <div class="').concat(u.actions,'">\n     <div class="').concat(u.loader,'"></div>\n     <button type="button" class="').concat(u.confirm,'"></button>\n     <button type="button" class="').concat(u.deny,'"></button>\n     <button type="button" class="').concat(u.cancel,'"></button>\n   </div>\n   <div class="').concat(u.footer,'"></div>\n   <div class="').concat(u["timer-progress-bar-container"],'">\n     <div class="').concat(u["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),wt=()=>{const t=S();return!!t&&(t.remove(),nt([document.documentElement,document.body],[u["no-backdrop"],u["toast-shown"],u["has-column"]]),!0)},bt=()=>{o.currentInstance.resetValidationMessage()},_t=()=>{const t=N(),e=it(t,u.input),n=it(t,u.file),i=t.querySelector(".".concat(u.range," input")),r=t.querySelector(".".concat(u.range," output")),s=it(t,u.select),o=t.querySelector(".".concat(u.checkbox," input")),a=it(t,u.textarea);e.oninput=bt,n.onchange=bt,s.onchange=bt,o.onchange=bt,a.oninput=bt,i.oninput=()=>{bt(),r.value=i.value},i.onchange=()=>{bt(),r.value=i.value}},xt=t=>"string"===typeof t?document.querySelector(t):t,St=t=>{const e=N();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},kt=t=>{"rtl"===window.getComputedStyle(t).direction&&et(S(),u.rtl)},Ct=t=>{const e=wt();if(vt())return void g("SweetAlert2 requires document to initialize");const n=document.createElement("div");n.className=u.container,e&&et(n,u["no-transition"]),Y(n,yt),n.dataset.swal2Theme=t.theme;const i=xt(t.target);i.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),St(t),kt(i),_t()},Nt=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):"object"===typeof t?At(t,e):t&&Y(e,t)},At=(t,e)=>{t.jquery?Et(e,t):Y(e,t.toString())},Et=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},Lt=(t,e)=>{const n=B(),i=D();n&&i&&(e.showConfirmButton||e.showDenyButton||e.showCancelButton?st(n):ot(n),J(n,e,"actions"),Pt(n,i,e),Y(i,e.loaderHtml||""),J(i,e,"loader"))};function Pt(t,e,n){const i=I(),r=O(),s=F();i&&r&&s&&(Tt(i,"confirm",n),Tt(r,"deny",n),Tt(s,"cancel",n),jt(i,r,s,n),n.reverseButtons&&(n.toast?(t.insertBefore(s,i),t.insertBefore(r,i)):(t.insertBefore(s,e),t.insertBefore(r,e),t.insertBefore(i,e))))}function jt(t,e,n,i){i.buttonsStyling?(et([t,e,n],u.styled),i.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",i.confirmButtonColor),i.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",i.denyButtonColor),i.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",i.cancelButtonColor),Rt(t),Rt(e),Rt(n)):nt([t,e,n],u.styled)}function Rt(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/," ".concat(n)))}function Tt(t,e,n){const i=f(e);ct(t,n["show".concat(i,"Button")],"inline-block"),Y(t,n["".concat(e,"ButtonText")]||""),t.setAttribute("aria-label",n["".concat(e,"ButtonAriaLabel")]||""),t.className=u[e],J(t,n,"".concat(e,"Button"))}const It=(t,e)=>{const n=q();n&&(Y(n,e.closeButtonHtml||""),J(n,e,"closeButton"),ct(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},Ft=(t,e)=>{const n=S();n&&(Ot(n,e.backdrop),Mt(n,e.position),Dt(n,e.grow),J(n,e,"container"))};function Ot(t,e){"string"===typeof e?t.style.background=e:e||et([document.documentElement,document.body],u["no-backdrop"])}function Mt(t,e){e&&(e in u?et(t,u[e]):(p('The "position" parameter is not valid, defaulting to "center"'),et(t,u.center)))}function Dt(t,e){e&&et(t,u["grow-".concat(e)])}var Bt={innerParams:new WeakMap,domCache:new WeakMap};const zt=["input","file","range","select","radio","checkbox","textarea"],Ut=(t,e)=>{const n=N();if(!n)return;const i=Bt.innerParams.get(t),r=!i||e.input!==i.input;zt.forEach(t=>{const i=it(n,u[t]);i&&(Ht(t,e.inputAttributes),i.className=u[t],r&&ot(i))}),e.input&&(r&&qt(e),Vt(e))},qt=t=>{if(!t.input)return;if(!Zt[t.input])return void g("Unexpected type of input! Expected ".concat(Object.keys(Zt).join(" | "),', got "').concat(t.input,'"'));const e=Yt(t.input);if(!e)return;const n=Zt[t.input](e,t);st(e),t.inputAutoFocus&&setTimeout(()=>{Q(n)})},Wt=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},Ht=(t,e)=>{const n=N();if(!n)return;const i=$(n,t);if(i){Wt(i);for(const t in e)i.setAttribute(t,e[t])}},Vt=t=>{if(!t.input)return;const e=Yt(t.input);e&&J(e,t,"input")},Gt=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},Kt=(t,e,n)=>{if(n.inputLabel){const i=document.createElement("label"),r=u["input-label"];i.setAttribute("for",t.id),i.className=r,"object"===typeof n.customClass&&et(i,n.customClass.inputLabel),i.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",i)}},Yt=t=>{const e=N();if(e)return it(e,u[t]||u.input)},Xt=(t,e)=>{["string","number"].includes(typeof e)?t.value="".concat(e):x(e)||p('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof e,'"'))},Zt={};Zt.text=Zt.email=Zt.password=Zt.number=Zt.tel=Zt.url=Zt.search=Zt.date=Zt["datetime-local"]=Zt.time=Zt.week=Zt.month=(t,e)=>(Xt(t,e.inputValue),Kt(t,t,e),Gt(t,e),t.type=e.input,t),Zt.file=(t,e)=>(Kt(t,t,e),Gt(t,e),t),Zt.range=(t,e)=>{const n=t.querySelector("input"),i=t.querySelector("output");return Xt(n,e.inputValue),n.type=e.input,Xt(i,e.inputValue),Kt(n,t,e),t},Zt.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");Y(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return Kt(t,t,e),t},Zt.radio=t=>(t.textContent="",t),Zt.checkbox=(t,e)=>{const n=$(N(),"checkbox");n.value="1",n.checked=Boolean(e.inputValue);const i=t.querySelector("span");return Y(i,e.inputPlaceholder||e.inputLabel),n},Zt.textarea=(t,e)=>{Xt(t,e.inputValue),Gt(t,e),Kt(t,t,e);const n=t=>parseInt(window.getComputedStyle(t).marginLeft)+parseInt(window.getComputedStyle(t).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const i=parseInt(window.getComputedStyle(N()).width);new MutationObserver(()=>{if(!document.body.contains(t))return;const r=t.offsetWidth+n(t);r>i?N().style.width="".concat(r,"px"):rt(N(),"width",e.width)}).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const Jt=(t,e)=>{const n=P();n&&(at(n),J(n,e,"htmlContainer"),e.html?(Nt(e.html,n),st(n,"block")):e.text?(n.textContent=e.text,st(n,"block")):ot(n),Ut(t,e))},$t=(t,e)=>{const n=z();n&&(at(n),ct(n,Boolean(e.footer),"block"),e.footer&&Nt(e.footer,n),J(n,e,"footer"))},Qt=(t,e)=>{const n=Bt.innerParams.get(t),i=A();if(i){if(n&&e.icon===n.icon)return re(i,e),void te(i,e);if(e.icon||e.iconHtml){if(e.icon&&-1===Object.keys(h).indexOf(e.icon))return g('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(e.icon,'"')),void ot(i);st(i),re(i,e),te(i,e),et(i,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",ee)}else ot(i)}},te=(t,e)=>{for(const[n,i]of Object.entries(h))e.icon!==n&&nt(t,i);et(t,e.icon&&h[e.icon]),se(t,e),ee(),J(t,e,"icon")},ee=()=>{const t=N();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let i=0;i<n.length;i++)n[i].style.backgroundColor=e},ne=t=>"\n  ".concat(t.animation?'<div class="swal2-success-circular-line-left"></div>':"",'\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div>\n  ').concat(t.animation?'<div class="swal2-success-fix"></div>':"","\n  ").concat(t.animation?'<div class="swal2-success-circular-line-right"></div>':"","\n"),ie='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n',re=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,i="";e.iconHtml?i=oe(e.iconHtml):"success"===e.icon?(i=ne(e),n=n.replace(/ style=".*?"/g,"")):"error"===e.icon?i=ie:e.icon&&(i=oe({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==i.trim()&&Y(t,i)},se=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])lt(t,n,"background-color",e.iconColor);lt(t,".swal2-success-ring","border-color",e.iconColor)}},oe=t=>'<div class="'.concat(u["icon-content"],'">').concat(t,"</div>"),ae=(t,e)=>{const n=j();n&&(e.imageUrl?(st(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),rt(n,"width",e.imageWidth),rt(n,"height",e.imageHeight),n.className=u.image,J(n,e,"image")):ot(n))};let le=!1,ce=0,ue=0,he=0,de=0;const fe=t=>{t.addEventListener("mousedown",ge),document.body.addEventListener("mousemove",me),t.addEventListener("mouseup",ve),t.addEventListener("touchstart",ge),document.body.addEventListener("touchmove",me),t.addEventListener("touchend",ve)},pe=t=>{t.removeEventListener("mousedown",ge),document.body.removeEventListener("mousemove",me),t.removeEventListener("mouseup",ve),t.removeEventListener("touchstart",ge),document.body.removeEventListener("touchmove",me),t.removeEventListener("touchend",ve)},ge=t=>{const e=N();if(t.target===e||A().contains(t.target)){le=!0;const n=ye(t);ce=n.clientX,ue=n.clientY,he=parseInt(e.style.insetInlineStart)||0,de=parseInt(e.style.insetBlockStart)||0,et(e,"swal2-dragging")}},me=t=>{const e=N();if(le){let{clientX:n,clientY:i}=ye(t);e.style.insetInlineStart="".concat(he+(n-ce),"px"),e.style.insetBlockStart="".concat(de+(i-ue),"px")}},ve=()=>{const t=N();le=!1,nt(t,"swal2-dragging")},ye=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},we=(t,e)=>{const n=S(),i=N();if(n&&i){if(e.toast){rt(n,"width",e.width),i.style.width="100%";const t=D();t&&i.insertBefore(t,A())}else rt(i,"width",e.width);rt(i,"padding",e.padding),e.color&&(i.style.color=e.color),e.background&&(i.style.background=e.background),ot(T()),be(i,e),e.draggable&&!e.toast?(et(i,u.draggable),fe(i)):(nt(i,u.draggable),pe(i))}},be=(t,e)=>{const n=e.showClass||{};t.className="".concat(u.popup," ").concat(ut(t)?n.popup:""),e.toast?(et([document.documentElement,document.body],u["toast-shown"]),et(t,u.toast)):et(t,u.modal),J(t,e,"popup"),"string"===typeof e.customClass&&et(t,e.customClass),e.icon&&et(t,u["icon-".concat(e.icon)])},_e=(t,e)=>{const n=R();if(!n)return;const{progressSteps:i,currentProgressStep:r}=e;i&&0!==i.length&&void 0!==r?(st(n),n.textContent="",r>=i.length&&p("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),i.forEach((t,s)=>{const o=xe(t);if(n.appendChild(o),s===r&&et(o,u["active-progress-step"]),s!==i.length-1){const t=Se(e);n.appendChild(t)}})):ot(n)},xe=t=>{const e=document.createElement("li");return et(e,u["progress-step"]),Y(e,t),e},Se=t=>{const e=document.createElement("li");return et(e,u["progress-step-line"]),t.progressStepsDistance&&rt(e,"width",t.progressStepsDistance),e},ke=(t,e)=>{const n=L();n&&(at(n),ct(n,Boolean(e.title||e.titleText),"block"),e.title&&Nt(e.title,n),e.titleText&&(n.innerText=e.titleText),J(n,e,"title"))},Ce=(t,e)=>{we(t,e),Ft(t,e),_e(t,e),Qt(t,e),ae(t,e),ke(t,e),It(t,e),Jt(t,e),Lt(t,e),$t(t,e);const n=N();"function"===typeof e.didRender&&n&&e.didRender(n),o.eventEmitter.emit("didRender",n)},Ne=()=>ut(N()),Ae=()=>{var t;return null===(t=I())||void 0===t?void 0:t.click()},Ee=()=>{var t;return null===(t=O())||void 0===t?void 0:t.click()},Le=()=>{var t;return null===(t=F())||void 0===t?void 0:t.click()},Pe=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),je=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},Re=(t,e,n)=>{je(t),e.toast||(t.keydownHandler=t=>Oe(e,t,n),t.keydownTarget=e.keydownListenerCapture?window:N(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},Te=(t,e)=>{var n;const i=H();if(i.length)return-2===(t+=e)&&(t=i.length-1),t===i.length?t=0:-1===t&&(t=i.length-1),void i[t].focus();null===(n=N())||void 0===n||n.focus()},Ie=["ArrowRight","ArrowDown"],Fe=["ArrowLeft","ArrowUp"],Oe=(t,e,n)=>{t&&(e.isComposing||229===e.keyCode||(t.stopKeydownPropagation&&e.stopPropagation(),"Enter"===e.key?Me(e,t):"Tab"===e.key?De(e):[...Ie,...Fe].includes(e.key)?Be(e.key):"Escape"===e.key&&ze(e,t,n)))},Me=(t,e)=>{if(!w(e.allowEnterKey))return;const n=$(N(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;Ae(),t.preventDefault()}},De=t=>{const e=t.target,n=H();let i=-1;for(let r=0;r<n.length;r++)if(e===n[r]){i=r;break}t.shiftKey?Te(i,-1):Te(i,1),t.stopPropagation(),t.preventDefault()},Be=t=>{const e=B(),n=I(),i=O(),r=F();if(!e||!n||!i||!r)return;const s=[n,i,r];if(document.activeElement instanceof HTMLElement&&!s.includes(document.activeElement))return;const o=Ie.includes(t)?"nextElementSibling":"previousElementSibling";let a=document.activeElement;if(a){for(let t=0;t<e.children.length;t++){if(a=a[o],!a)return;if(a instanceof HTMLButtonElement&&ut(a))break}a instanceof HTMLButtonElement&&a.focus()}},ze=(t,e,n)=>{t.preventDefault(),w(e.allowEscapeKey)&&n(Pe.esc)};var Ue={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const qe=()=>{const t=S();Array.from(document.body.children).forEach(e=>{e.contains(t)||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")||""),e.setAttribute("aria-hidden","true"))})},We=()=>{Array.from(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")||""),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})},He="undefined"!==typeof window&&!!window.GestureEvent,Ve=()=>{if(He&&!X(document.body,u.iosfix)){const t=document.body.scrollTop;document.body.style.top="".concat(-1*t,"px"),et(document.body,u.iosfix),Ge()}},Ge=()=>{const t=S();if(!t)return;let e;t.ontouchstart=t=>{e=Ke(t)},t.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},Ke=t=>{const e=t.target,n=S(),i=P();return!(!n||!i)&&!Ye(t)&&!Xe(t)&&(e===n||!(dt(n)||!(e instanceof HTMLElement)||ft(e,i)||"INPUT"===e.tagName||"TEXTAREA"===e.tagName||dt(i)&&i.contains(e)))},Ye=t=>t.touches&&t.touches.length&&"stylus"===t.touches[0].touchType,Xe=t=>t.touches&&t.touches.length>1,Ze=()=>{if(X(document.body,u.iosfix)){const t=parseInt(document.body.style.top,10);nt(document.body,u.iosfix),document.body.style.top="",document.body.scrollTop=-1*t}},Je=()=>{const t=document.createElement("div");t.className=u["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let $e=null;const Qe=t=>{null===$e&&(document.body.scrollHeight>window.innerHeight||"scroll"===t)&&($e=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat($e+Je(),"px"))},tn=()=>{null!==$e&&(document.body.style.paddingRight="".concat($e,"px"),$e=null)};function en(t,e,n,i){G()?hn(t,i):(l(n).then(()=>hn(t,i)),je(o)),He?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),V()&&(tn(),Ze(),We()),nn()}function nn(){nt([document.documentElement,document.body],[u.shown,u["height-auto"],u["no-backdrop"],u["toast-shown"]])}function rn(t){t=ln(t);const e=Ue.swalPromiseResolve.get(this),n=sn(this);this.isAwaitingPromise?t.isDismissed||(an(this),e(t)):n&&e(t)}const sn=t=>{const e=N();if(!e)return!1;const n=Bt.innerParams.get(t);if(!n||X(e,n.hideClass.popup))return!1;nt(e,n.showClass.popup),et(e,n.hideClass.popup);const i=S();return nt(i,n.showClass.backdrop),et(i,n.hideClass.backdrop),cn(t,e,n),!0};function on(t){const e=Ue.swalPromiseReject.get(this);an(this),e&&e(t)}const an=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Bt.innerParams.get(t)||t._destroy())},ln=t=>"undefined"===typeof t?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),cn=(t,e,n)=>{var i;const r=S(),s=pt(e);"function"===typeof n.willClose&&n.willClose(e),null===(i=o.eventEmitter)||void 0===i||i.emit("willClose",e),s?un(t,e,r,n.returnFocus,n.didClose):en(t,r,n.returnFocus,n.didClose)},un=(t,e,n,i,r)=>{o.swalCloseEventFinishedCallback=en.bind(null,t,n,i,r);const s=function(t){var n;t.target===e&&(null===(n=o.swalCloseEventFinishedCallback)||void 0===n||n.call(o),delete o.swalCloseEventFinishedCallback,e.removeEventListener("animationend",s),e.removeEventListener("transitionend",s))};e.addEventListener("animationend",s),e.addEventListener("transitionend",s)},hn=(t,e)=>{setTimeout(()=>{var n;"function"===typeof e&&e.bind(t.params)(),null===(n=o.eventEmitter)||void 0===n||n.emit("didClose"),t._destroy&&t._destroy()})},dn=t=>{let e=N();if(e||new gr,e=N(),!e)return;const n=D();G()?ot(A()):fn(e,t),st(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},fn=(t,e)=>{const n=B(),i=D();n&&i&&(!e&&ut(I())&&(e=I()),st(n),e&&(ot(e),i.setAttribute("data-button-to-replace",e.className),n.insertBefore(i,e)),et([t,n],u.loading))},pn=(t,e)=>{"select"===e.input||"radio"===e.input?wn(t,e):["text","email","number","tel","textarea"].some(t=>t===e.input)&&(b(e.inputValue)||x(e.inputValue))&&(dn(I()),bn(t,e))},gn=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return mn(n);case"radio":return vn(n);case"file":return yn(n);default:return e.inputAutoTrim?n.value.trim():n.value}},mn=t=>t.checked?1:0,vn=t=>t.checked?t.value:null,yn=t=>t.files&&t.files.length?null!==t.getAttribute("multiple")?t.files:t.files[0]:null,wn=(t,e)=>{const n=N();if(!n)return;const i=t=>{"select"===e.input?_n(n,Sn(t),e):"radio"===e.input&&xn(n,Sn(t),e)};b(e.inputOptions)||x(e.inputOptions)?(dn(I()),_(e.inputOptions).then(e=>{t.hideLoading(),i(e)})):"object"===typeof e.inputOptions?i(e.inputOptions):g("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof e.inputOptions))},bn=(t,e)=>{const n=t.getInput();n&&(ot(n),_(e.inputValue).then(i=>{n.value="number"===e.input?"".concat(parseFloat(i)||0):"".concat(i),st(n),n.focus(),t.hideLoading()}).catch(e=>{g("Error in inputValue promise: ".concat(e)),n.value="",st(n),n.focus(),t.hideLoading()}))};function _n(t,e,n){const i=it(t,u.select);if(!i)return;const r=(t,e,i)=>{const r=document.createElement("option");r.value=i,Y(r,e),r.selected=kn(i,n.inputValue),t.appendChild(r)};e.forEach(t=>{const e=t[0],n=t[1];if(Array.isArray(n)){const t=document.createElement("optgroup");t.label=e,t.disabled=!1,i.appendChild(t),n.forEach(e=>r(t,e[1],e[0]))}else r(i,n,e)}),i.focus()}function xn(t,e,n){const i=it(t,u.radio);if(!i)return;e.forEach(t=>{const e=t[0],r=t[1],s=document.createElement("input"),o=document.createElement("label");s.type="radio",s.name=u.radio,s.value=e,kn(e,n.inputValue)&&(s.checked=!0);const a=document.createElement("span");Y(a,r),a.className=u.label,o.appendChild(s),o.appendChild(a),i.appendChild(o)});const r=i.querySelectorAll("input");r.length&&r[0].focus()}const Sn=t=>{const e=[];return t instanceof Map?t.forEach((t,n)=>{let i=t;"object"===typeof i&&(i=Sn(i)),e.push([n,i])}):Object.keys(t).forEach(n=>{let i=t[n];"object"===typeof i&&(i=Sn(i)),e.push([n,i])}),e},kn=(t,e)=>!!e&&e.toString()===t.toString(),Cn=t=>{const e=Bt.innerParams.get(t);t.disableButtons(),e.input?En(t,"confirm"):Tn(t,!0)},Nn=t=>{const e=Bt.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?En(t,"deny"):Pn(t,!1)},An=(t,e)=>{t.disableButtons(),e(Pe.cancel)},En=(t,e)=>{const n=Bt.innerParams.get(t);if(!n.input)return void g('The "input" parameter is needed to be set when using returnInputValueOn'.concat(f(e)));const i=t.getInput(),r=gn(t,n);n.inputValidator?Ln(t,r,e):i&&!i.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||i.validationMessage)):"deny"===e?Pn(t,r):Tn(t,r)},Ln=(t,e,n)=>{const i=Bt.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>_(i.inputValidator(e,i.validationMessage))).then(i=>{t.enableButtons(),t.enableInput(),i?t.showValidationMessage(i):"deny"===n?Pn(t,e):Tn(t,e)})},Pn=(t,e)=>{const n=Bt.innerParams.get(t||void 0);n.showLoaderOnDeny&&dn(O()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>_(n.preDeny(e,n.validationMessage))).then(n=>{!1===n?(t.hideLoading(),an(t)):t.close({isDenied:!0,value:"undefined"===typeof n?e:n})}).catch(e=>Rn(t||void 0,e))):t.close({isDenied:!0,value:e})},jn=(t,e)=>{t.close({isConfirmed:!0,value:e})},Rn=(t,e)=>{t.rejectPromise(e)},Tn=(t,e)=>{const n=Bt.innerParams.get(t||void 0);n.showLoaderOnConfirm&&dn(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>_(n.preConfirm(e,n.validationMessage))).then(n=>{ut(T())||!1===n?(t.hideLoading(),an(t)):jn(t,"undefined"===typeof n?e:n)}).catch(e=>Rn(t||void 0,e))):jn(t,e)};function In(){const t=Bt.innerParams.get(this);if(!t)return;const e=Bt.domCache.get(this);ot(e.loader),G()?t.icon&&st(A()):Fn(e),nt([e.popup,e.actions],u.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const Fn=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?st(e[0],"inline-block"):ht()&&ot(t.actions)};function On(){const t=Bt.innerParams.get(this),e=Bt.domCache.get(this);return e?$(e.popup,t.input):null}function Mn(t,e,n){const i=Bt.domCache.get(t);e.forEach(t=>{i[t].disabled=n})}function Dn(t,e){const n=N();if(n&&t)if("radio"===t.type){const t=n.querySelectorAll('[name="'.concat(u.radio,'"]'));for(let n=0;n<t.length;n++)t[n].disabled=e}else t.disabled=e}function Bn(){Mn(this,["confirmButton","denyButton","cancelButton"],!1)}function zn(){Mn(this,["confirmButton","denyButton","cancelButton"],!0)}function Un(){Dn(this.getInput(),!1)}function qn(){Dn(this.getInput(),!0)}function Wn(t){const e=Bt.domCache.get(this),n=Bt.innerParams.get(this);Y(e.validationMessage,t),e.validationMessage.className=u["validation-message"],n.customClass&&n.customClass.validationMessage&&et(e.validationMessage,n.customClass.validationMessage),st(e.validationMessage);const i=this.getInput();i&&(i.setAttribute("aria-invalid","true"),i.setAttribute("aria-describedby",u["validation-message"]),Q(i),et(i,u.inputerror))}function Hn(){const t=Bt.domCache.get(this);t.validationMessage&&ot(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),nt(e,u.inputerror))}const Vn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},Gn=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Kn={allowEnterKey:void 0},Yn=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Xn=t=>Object.prototype.hasOwnProperty.call(Vn,t),Zn=t=>-1!==Gn.indexOf(t),Jn=t=>Kn[t],$n=t=>{Xn(t)||p('Unknown parameter "'.concat(t,'"'))},Qn=t=>{Yn.includes(t)&&p('The parameter "'.concat(t,'" is incompatible with toasts'))},ti=t=>{const e=Jn(t);e&&y(t,e)},ei=t=>{!1===t.backdrop&&t.allowOutsideClick&&p('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&p('Invalid theme "'.concat(t.theme,'"'));for(const e in t)$n(e),t.toast&&Qn(e),ti(e)};function ni(t){const e=S(),n=N(),i=Bt.innerParams.get(this);if(!n||X(n,i.hideClass.popup))return void p("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const r=ii(t),s=Object.assign({},i,r);ei(s),e.dataset.swal2Theme=s.theme,Ce(this,s),Bt.innerParams.set(this,s),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const ii=t=>{const e={};return Object.keys(t).forEach(n=>{Zn(n)?e[n]=t[n]:p("Invalid parameter to update: ".concat(n))}),e};function ri(){const t=Bt.domCache.get(this),e=Bt.innerParams.get(this);e?(t.popup&&o.swalCloseEventFinishedCallback&&(o.swalCloseEventFinishedCallback(),delete o.swalCloseEventFinishedCallback),"function"===typeof e.didDestroy&&e.didDestroy(),o.eventEmitter.emit("didDestroy"),si(this)):oi(this)}const si=t=>{oi(t),delete t.params,delete o.keydownHandler,delete o.keydownTarget,delete o.currentInstance},oi=t=>{t.isAwaitingPromise?(ai(Bt,t),t.isAwaitingPromise=!0):(ai(Ue,t),ai(Bt,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},ai=(t,e)=>{for(const n in t)t[n].delete(e)};var li=Object.freeze({__proto__:null,_destroy:ri,close:rn,closeModal:rn,closePopup:rn,closeToast:rn,disableButtons:zn,disableInput:qn,disableLoading:In,enableButtons:Bn,enableInput:Un,getInput:On,handleAwaitingPromise:an,hideLoading:In,rejectPromise:on,resetValidationMessage:Hn,showValidationMessage:Wn,update:ni});const ci=(t,e,n)=>{t.toast?ui(t,e,n):(fi(e),pi(e),gi(t,e,n))},ui=(t,e,n)=>{e.popup.onclick=()=>{t&&(hi(t)||t.timer||t.input)||n(Pe.close)}},hi=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let di=!1;const fi=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(di=!0)}}},pi=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(e){t.popup.onmouseup=()=>{},(e.target===t.popup||e.target instanceof HTMLElement&&t.popup.contains(e.target))&&(di=!0)}}},gi=(t,e,n)=>{e.container.onclick=i=>{di?di=!1:i.target===e.container&&w(t.allowOutsideClick)&&n(Pe.backdrop)}},mi=t=>"object"===typeof t&&t.jquery,vi=t=>t instanceof Element||mi(t),yi=t=>{const e={};return"object"!==typeof t[0]||vi(t[0])?["title","html","icon"].forEach((n,i)=>{const r=t[i];"string"===typeof r||vi(r)?e[n]=r:void 0!==r&&g("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(typeof r))}):Object.assign(e,t[0]),e};function wi(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new this(...e)}function bi(t){class e extends(this){_main(e,n){return super._main(e,Object.assign({},t,n))}}return e}const _i=()=>o.timeout&&o.timeout.getTimerLeft(),xi=()=>{if(o.timeout)return mt(),o.timeout.stop()},Si=()=>{if(o.timeout){const t=o.timeout.start();return gt(t),t}},ki=()=>{const t=o.timeout;return t&&(t.running?xi():Si())},Ci=t=>{if(o.timeout){const e=o.timeout.increase(t);return gt(e,!0),e}},Ni=()=>!(!o.timeout||!o.timeout.isRunning());let Ai=!1;const Ei={};function Li(){Ei[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Ai||(document.body.addEventListener("click",Pi),Ai=!0)}const Pi=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const t in Ei){const n=e.getAttribute(t);if(n)return void Ei[t].fire({template:n})}};class ji{constructor(){this.events={}}_getHandlersByEventName(t){return"undefined"===typeof this.events[t]&&(this.events[t]=[]),this.events[t]}on(t,e){const n=this._getHandlersByEventName(t);n.includes(e)||n.push(e)}once(t,e){var n=this;const i=function(){n.removeListener(t,i);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];e.apply(n,s)};this.on(t,i)}emit(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this._getHandlersByEventName(t).forEach(t=>{try{t.apply(this,n)}catch(g){console.error(g)}})}removeListener(t,e){const n=this._getHandlersByEventName(t),i=n.indexOf(e);i>-1&&n.splice(i,1)}removeAllListeners(t){void 0!==this.events[t]&&(this.events[t].length=0)}reset(){this.events={}}}o.eventEmitter=new ji;const Ri=(t,e)=>{o.eventEmitter.on(t,e)},Ti=(t,e)=>{o.eventEmitter.once(t,e)},Ii=(t,e)=>{t?e?o.eventEmitter.removeListener(t,e):o.eventEmitter.removeAllListeners(t):o.eventEmitter.reset()};var Fi=Object.freeze({__proto__:null,argsToParams:yi,bindClickHandler:Li,clickCancel:Le,clickConfirm:Ae,clickDeny:Ee,enableLoading:dn,fire:wi,getActions:B,getCancelButton:F,getCloseButton:q,getConfirmButton:I,getContainer:S,getDenyButton:O,getFocusableElements:H,getFooter:z,getHtmlContainer:P,getIcon:A,getIconContent:E,getImage:j,getInputLabel:M,getLoader:D,getPopup:N,getProgressSteps:R,getTimerLeft:_i,getTimerProgressBar:U,getTitle:L,getValidationMessage:T,increaseTimer:Ci,isDeprecatedParameter:Jn,isLoading:K,isTimerRunning:Ni,isUpdatableParameter:Zn,isValidParameter:Xn,isVisible:Ne,mixin:bi,off:Ii,on:Ri,once:Ti,resumeTimer:Si,showLoading:dn,stopTimer:xi,toggleTimer:ki});class Oi{constructor(t,e){this.callback=t,this.remaining=e,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(t){const e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Mi=["swal-title","swal-html","swal-footer"],Di=t=>{const e="string"===typeof t.template?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return Gi(n),Object.assign(Bi(n),zi(n),Ui(n),qi(n),Wi(n),Hi(n),Vi(n,Mi))},Bi=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(t=>{Ki(t,["name","value"]);const n=t.getAttribute("name"),i=t.getAttribute("value");n&&i&&("boolean"===typeof Vn[n]?e[n]="false"!==i:"object"===typeof Vn[n]?e[n]=JSON.parse(i):e[n]=i)}),e},zi=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(t=>{const n=t.getAttribute("name"),i=t.getAttribute("value");n&&i&&(e[n]=new Function("return ".concat(i))())}),e},Ui=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(t=>{Ki(t,["type","color","aria-label"]);const n=t.getAttribute("type");n&&["confirm","cancel","deny"].includes(n)&&(e["".concat(n,"ButtonText")]=t.innerHTML,e["show".concat(f(n),"Button")]=!0,t.hasAttribute("color")&&(e["".concat(n,"ButtonColor")]=t.getAttribute("color")),t.hasAttribute("aria-label")&&(e["".concat(n,"ButtonAriaLabel")]=t.getAttribute("aria-label")))}),e},qi=t=>{const e={},n=t.querySelector("swal-image");return n&&(Ki(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},Wi=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Ki(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},Hi=t=>{const e={},n=t.querySelector("swal-input");n&&(Ki(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const i=Array.from(t.querySelectorAll("swal-input-option"));return i.length&&(e.inputOptions={},i.forEach(t=>{Ki(t,["value"]);const n=t.getAttribute("value");if(!n)return;const i=t.innerHTML;e.inputOptions[n]=i})),e},Vi=(t,e)=>{const n={};for(const i in e){const r=e[i],s=t.querySelector(r);s&&(Ki(s,[]),n[r.replace(/^swal-/,"")]=s.innerHTML.trim())}return n},Gi=t=>{const e=Mi.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(t=>{const n=t.tagName.toLowerCase();e.includes(n)||p("Unrecognized element <".concat(n,">"))})},Ki=(t,e)=>{Array.from(t.attributes).forEach(n=>{-1===e.indexOf(n.name)&&p(['Unrecognized attribute "'.concat(n.name,'" on <').concat(t.tagName.toLowerCase(),">."),"".concat(e.length?"Allowed attributes are: ".concat(e.join(", ")):"To set the value, use HTML within the element.")])})},Yi=10,Xi=t=>{const e=S(),n=N();"function"===typeof t.willOpen&&t.willOpen(n),o.eventEmitter.emit("willOpen",n);const i=window.getComputedStyle(document.body).overflowY;Qi(e,n,t),setTimeout(()=>{Ji(e,n)},Yi),V()&&($i(e,t.scrollbarPadding,i),qe()),G()||o.previousActiveElement||(o.previousActiveElement=document.activeElement),"function"===typeof t.didOpen&&setTimeout(()=>t.didOpen(n)),o.eventEmitter.emit("didOpen",n)},Zi=t=>{const e=N();if(t.target!==e)return;const n=S();e.removeEventListener("animationend",Zi),e.removeEventListener("transitionend",Zi),n.style.overflowY="auto",nt(n,u["no-transition"])},Ji=(t,e)=>{pt(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",Zi),e.addEventListener("transitionend",Zi)):t.style.overflowY="auto"},$i=(t,e,n)=>{Ve(),e&&"hidden"!==n&&Qe(n),setTimeout(()=>{t.scrollTop=0})},Qi=(t,e,n)=>{et(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),st(e,"grid"),setTimeout(()=>{et(e,n.showClass.popup),e.style.removeProperty("opacity")},Yi)):st(e,"grid"),et([document.documentElement,document.body],u.shown),n.heightAuto&&n.backdrop&&!n.toast&&et([document.documentElement,document.body],u["height-auto"])};var tr={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function er(t){t.inputValidator||("email"===t.input&&(t.inputValidator=tr.email),"url"===t.input&&(t.inputValidator=tr.url))}function nr(t){(!t.target||"string"===typeof t.target&&!document.querySelector(t.target)||"string"!==typeof t.target&&!t.target.appendChild)&&(p('Target parameter is not valid, defaulting to "body"'),t.target="body")}function ir(t){er(t),t.showLoaderOnConfirm&&!t.preConfirm&&p("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),nr(t),"string"===typeof t.title&&(t.title=t.title.split("\n").join("<br />")),Ct(t)}let rr;var sr=new WeakMap;class or{constructor(){if(i(this,sr,void 0),"undefined"===typeof window)return;rr=this;for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const s=Object.freeze(this.constructor.argsToParams(e));this.params=s,this.isAwaitingPromise=!1,r(sr,this,this._main(rr.params))}_main(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(ei(Object.assign({},e,t)),o.currentInstance){const t=Ue.swalPromiseResolve.get(o.currentInstance),{isAwaitingPromise:e}=o.currentInstance;o.currentInstance._destroy(),e||t({isDismissed:!0}),V()&&We()}o.currentInstance=rr;const n=lr(t,e);ir(n),Object.freeze(n),o.timeout&&(o.timeout.stop(),delete o.timeout),clearTimeout(o.restoreFocusTimeout);const i=cr(rr);return Ce(rr,n),Bt.innerParams.set(rr,n),ar(rr,i,n)}then(t){return n(sr,this).then(t)}finally(t){return n(sr,this).finally(t)}}const ar=(t,e,n)=>new Promise((i,r)=>{const s=e=>{t.close({isDismissed:!0,dismiss:e,isConfirmed:!1,isDenied:!1})};Ue.swalPromiseResolve.set(t,i),Ue.swalPromiseReject.set(t,r),e.confirmButton.onclick=()=>{Cn(t)},e.denyButton.onclick=()=>{Nn(t)},e.cancelButton.onclick=()=>{An(t,s)},e.closeButton.onclick=()=>{s(Pe.close)},ci(n,e,s),Re(o,n,s),pn(t,n),Xi(n),ur(o,n,s),hr(e,n),setTimeout(()=>{e.container.scrollTop=0})}),lr=(t,e)=>{const n=Di(t),i=Object.assign({},Vn,e,n,t);return i.showClass=Object.assign({},Vn.showClass,i.showClass),i.hideClass=Object.assign({},Vn.hideClass,i.hideClass),!1===i.animation&&(i.showClass={backdrop:"swal2-noanimation"},i.hideClass={}),i},cr=t=>{const e={popup:N(),container:S(),actions:B(),confirmButton:I(),denyButton:O(),cancelButton:F(),loader:D(),closeButton:q(),validationMessage:T(),progressSteps:R()};return Bt.domCache.set(t,e),e},ur=(t,e,n)=>{const i=U();ot(i),e.timer&&(t.timeout=new Oi(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(st(i),J(i,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&gt(e.timer)})))},hr=(t,e)=>{if(!e.toast)return w(e.allowEnterKey)?void(dr(t)||fr(t,e)||Te(-1,1)):(y("allowEnterKey"),void pr())},dr=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&ut(n))return n.focus(),!0;return!1},fr=(t,e)=>e.focusDeny&&ut(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&ut(t.cancelButton)?(t.cancelButton.focus(),!0):!(!e.focusConfirm||!ut(t.confirmButton))&&(t.confirmButton.focus(),!0),pr=()=>{document.activeElement instanceof HTMLElement&&"function"===typeof document.activeElement.blur&&document.activeElement.blur()};or.prototype.disableButtons=zn,or.prototype.enableButtons=Bn,or.prototype.getInput=On,or.prototype.disableInput=qn,or.prototype.enableInput=Un,or.prototype.hideLoading=In,or.prototype.disableLoading=In,or.prototype.showValidationMessage=Wn,or.prototype.resetValidationMessage=Hn,or.prototype.close=rn,or.prototype.closePopup=rn,or.prototype.closeModal=rn,or.prototype.closeToast=rn,or.prototype.rejectPromise=on,or.prototype.update=ni,or.prototype._destroy=ri,Object.assign(or,Fi),Object.keys(li).forEach(t=>{or[t]=function(){return rr&&rr[t]?rr[t](...arguments):null}}),or.DismissReason=Pe,or.version="11.26.3";const gr=or;return gr.default=gr,gr}(),"undefined"!==typeof this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch(t){n.innerText=e}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}')},226:(t,e)=>{"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}function y(){}function w(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,g(b,v.prototype),b.isPureReactComponent=!0;var _=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function C(t,e,i){var r,s={},o=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)x.call(e,r)&&!k.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(1===l)s.children=i;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:n,type:t,key:o,ref:a,props:s,_owner:S.current}}function N(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var A=/\/+/g;function E(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(t){return e[t]})}(""+t.key):e.toString(36)}function L(t,e,r,s,o){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case i:l=!0}}if(l)return o=o(l=t),t=""===s?"."+E(l,0):s,_(o)?(r="",null!=t&&(r=t.replace(A,"$&/")+"/"),L(o,e,r,"",function(t){return t})):null!=o&&(N(o)&&(o=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(A,"$&/")+"/")+t)),e.push(o)),1;if(l=0,s=""===s?".":s+":",_(t))for(var c=0;c<t.length;c++){var u=s+E(a=t[c],c);l+=L(a,e,r,u,o)}else if(u=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"===typeof u)for(t=u.call(t),c=0;!(a=t.next()).done;)l+=L(a=a.value,e,r,u=s+E(a,c++),o);else if("object"===a)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function P(t,e,n){if(null==t)return t;var i=[],r=0;return L(t,i,"","",function(t){return e.call(n,t,r++)}),i}function j(t){if(-1===t._status){var e=t._result;(e=e()).then(function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)},function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)}),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var R={current:null},T={transition:null},I={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:T,ReactCurrentOwner:S};function F(){throw Error("act(...) is not supported in production builds of React.")}e.Children={map:P,forEach:function(t,e,n){P(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return P(t,function(){e++}),e},toArray:function(t){return P(t,function(t){return t})||[]},only:function(t){if(!N(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=v,e.Fragment=r,e.Profiler=o,e.PureComponent=w,e.StrictMode=s,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,e.act=F,e.cloneElement=function(t,e,i){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=g({},t.props),s=t.key,o=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(o=e.ref,a=S.current),void 0!==e.key&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)x.call(e,c)&&!k.hasOwnProperty(c)&&(r[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:t.type,key:s,ref:o,props:r,_owner:a}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=C,e.createFactory=function(t){var e=C.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=N,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:j}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=T.transition;T.transition={};try{t()}finally{T.transition=e}},e.unstable_act=F,e.useCallback=function(t,e){return R.current.useCallback(t,e)},e.useContext=function(t){return R.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return R.current.useDeferredValue(t)},e.useEffect=function(t,e){return R.current.useEffect(t,e)},e.useId=function(){return R.current.useId()},e.useImperativeHandle=function(t,e,n){return R.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return R.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return R.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return R.current.useMemo(t,e)},e.useReducer=function(t,e,n){return R.current.useReducer(t,e,n)},e.useRef=function(t){return R.current.useRef(t)},e.useState=function(t){return R.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return R.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return R.current.useTransition()},e.version="18.3.1"},306:(t,e,n)=>{"use strict";var i=n(9643),r=n(1261);function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(a[t]=e,t=0;t<e.length;t++)o.add(e[t])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(t,e,n,i,r,s,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){m[t]=new g(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];m[e]=new g(e,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){m[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){m[t]=new g(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){m[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){m[t]=new g(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){m[t]=new g(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){m[t]=new g(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){m[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(t){return t[1].toUpperCase()}function w(t,e,n,i){var r=m.hasOwnProperty(e)?m[e]:null;(null!==r?0!==r.type:i||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,i){if(null===e||"undefined"===typeof e||function(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,r,i)&&(n=null),i||null===r?function(t){return!!h.call(p,t)||!h.call(f,t)&&(d.test(t)?p[t]=!0:(f[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=null===n?3!==r.type&&"":n:(e=r.attributeName,i=r.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(v,y);m[e]=new g(e,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(v,y);m[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(v,y);m[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)}),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)});var b=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),A=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var T=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function F(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=I&&t[I]||t["@@iterator"])?t:null}var O,M=Object.assign;function D(t){if(void 0===O)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);O=e&&e[1]||""}return"\n"+O+t}var B=!1;function z(t,e){if(!t||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),s=i.stack.split("\n"),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||r[o]!==s[a]){var l="\n"+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=o&&0<=a);break}}}finally{B=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?D(t):""}function U(t){switch(t.tag){case 5:return D(t.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return t=z(t.type,!1);case 11:return t=z(t.type.render,!1);case 1:return t=z(t.type,!0);default:return""}}function q(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case S:return"Fragment";case x:return"Portal";case C:return"Profiler";case k:return"StrictMode";case L:return"Suspense";case P:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case A:return(t.displayName||"Context")+".Consumer";case N:return(t._context.displayName||"Context")+".Provider";case E:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case j:return null!==(e=t.displayName||null)?e:q(t.type)||"Memo";case R:e=t._payload,t=t._init;try{return q(t(e))}catch(n){}}return null}function W(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(e);case 8:return e===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function H(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function V(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function G(t){t._valueTracker||(t._valueTracker=function(t){var e=V(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){i=""+t,s.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function K(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=V(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function Y(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function X(t,e){var n=e.checked;return M({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Z(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=H(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function J(t,e){null!=(e=e.checked)&&w(t,"checked",e,!1)}function $(t,e){J(t,e);var n=H(e.value),i=e.type;if(null!=n)"number"===i?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,H(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Q(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&Y(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+H(n),e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(i&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function it(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(s(91));return M({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(s(92));if(et(n)){if(1<n.length)throw Error(s(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:H(n)}}function st(t,e){var n=H(e.value),i=H(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=i&&(t.defaultValue=""+i)}function ot(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?at(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,ut,ht=(ut=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,i){MSApp.execUnsafeLocalFunction(function(){return ut(t,e)})}:ut);function dt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function gt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||ft.hasOwnProperty(t)&&ft[t]?(""+e).trim():e+"px"}function mt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=gt(n,e[n],i);"float"===n&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}Object.keys(ft).forEach(function(t){pt.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ft[e]=ft[t]})});var vt=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yt(t,e){if(e){if(vt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(s(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(s(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(s(62))}}function wt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bt=null;function _t(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var xt=null,St=null,kt=null;function Ct(t){if(t=wr(t)){if("function"!==typeof xt)throw Error(s(280));var e=t.stateNode;e&&(e=_r(e),xt(t.stateNode,t.type,e))}}function Nt(t){St?kt?kt.push(t):kt=[t]:St=t}function At(){if(St){var t=St,e=kt;if(kt=St=null,Ct(t),e)for(t=0;t<e.length;t++)Ct(e[t])}}function Et(t,e){return t(e)}function Lt(){}var Pt=!1;function jt(t,e,n){if(Pt)return t(e,n);Pt=!0;try{return Et(t,e,n)}finally{Pt=!1,(null!==St||null!==kt)&&(Lt(),At())}}function Rt(t,e){var n=t.stateNode;if(null===n)return null;var i=_r(n);if(null===i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(s(231,e,typeof n));return n}var Tt=!1;if(u)try{var It={};Object.defineProperty(It,"passive",{get:function(){Tt=!0}}),window.addEventListener("test",It,It),window.removeEventListener("test",It,It)}catch(ut){Tt=!1}function Ft(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Ot=!1,Mt=null,Dt=!1,Bt=null,zt={onError:function(t){Ot=!0,Mt=t}};function Ut(t,e,n,i,r,s,o,a,l){Ot=!1,Mt=null,Ft.apply(zt,arguments)}function qt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Wt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Ht(t){if(qt(t)!==t)throw Error(s(188))}function Vt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=qt(t)))throw Error(s(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return Ht(r),t;if(o===i)return Ht(r),e;o=o.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=o;break}if(l===i){a=!0,i=r,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,i=r;break}if(l===i){a=!0,i=o,n=r;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?t:e}(t))?Gt(t):null}function Gt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Gt(t);if(null!==e)return e;t=t.sibling}return null}var Kt=r.unstable_scheduleCallback,Yt=r.unstable_cancelCallback,Xt=r.unstable_shouldYield,Zt=r.unstable_requestPaint,Jt=r.unstable_now,$t=r.unstable_getCurrentPriorityLevel,Qt=r.unstable_ImmediatePriority,te=r.unstable_UserBlockingPriority,ee=r.unstable_NormalPriority,ne=r.unstable_LowPriority,ie=r.unstable_IdlePriority,re=null,se=null;var oe=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(ae(t)/le|0)|0},ae=Math.log,le=Math.LN2;var ce=64,ue=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function de(t,e){var n=t.pendingLanes;if(0===n)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=268435455&n;if(0!==o){var a=o&~r;0!==a?i=he(a):0!==(s&=o)&&(i=he(s))}else 0!==(o=n&~r)?i=he(o):0!==s&&(i=he(s));if(0===i)return 0;if(0!==e&&e!==i&&0===(e&r)&&((r=i&-i)>=(s=e&-e)||16===r&&0!==(4194240&s)))return e;if(0!==(4&i)&&(i|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=i;0<e;)r=1<<(n=31-oe(e)),i|=t[n],e&=~r;return i}function fe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ge(){var t=ce;return 0===(4194240&(ce<<=1))&&(ce=64),t}function me(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ve(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-oe(e)]=n}function ye(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-oe(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var we=0;function be(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var _e,xe,Se,ke,Ce,Ne=!1,Ae=[],Ee=null,Le=null,Pe=null,je=new Map,Re=new Map,Te=[],Ie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fe(t,e){switch(t){case"focusin":case"focusout":Ee=null;break;case"dragenter":case"dragleave":Le=null;break;case"mouseover":case"mouseout":Pe=null;break;case"pointerover":case"pointerout":je.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Re.delete(e.pointerId)}}function Oe(t,e,n,i,r,s){return null===t||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},null!==e&&(null!==(e=wr(e))&&xe(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,null!==r&&-1===e.indexOf(r)&&e.push(r),t)}function Me(t){var e=yr(t.target);if(null!==e){var n=qt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Wt(n)))return t.blockedOn=e,void Ce(t.priority,function(){Se(n)})}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function De(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=wr(n))&&xe(e),t.blockedOn=n,!1;var i=new(n=t.nativeEvent).constructor(n.type,n);bt=i,n.target.dispatchEvent(i),bt=null,e.shift()}return!0}function Be(t,e,n){De(t)&&n.delete(e)}function ze(){Ne=!1,null!==Ee&&De(Ee)&&(Ee=null),null!==Le&&De(Le)&&(Le=null),null!==Pe&&De(Pe)&&(Pe=null),je.forEach(Be),Re.forEach(Be)}function Ue(t,e){t.blockedOn===e&&(t.blockedOn=null,Ne||(Ne=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ze)))}function qe(t){function e(e){return Ue(e,t)}if(0<Ae.length){Ue(Ae[0],t);for(var n=1;n<Ae.length;n++){var i=Ae[n];i.blockedOn===t&&(i.blockedOn=null)}}for(null!==Ee&&Ue(Ee,t),null!==Le&&Ue(Le,t),null!==Pe&&Ue(Pe,t),je.forEach(e),Re.forEach(e),n=0;n<Te.length;n++)(i=Te[n]).blockedOn===t&&(i.blockedOn=null);for(;0<Te.length&&null===(n=Te[0]).blockedOn;)Me(n),null===n.blockedOn&&Te.shift()}var We=b.ReactCurrentBatchConfig,He=!0;function Ve(t,e,n,i){var r=we,s=We.transition;We.transition=null;try{we=1,Ke(t,e,n,i)}finally{we=r,We.transition=s}}function Ge(t,e,n,i){var r=we,s=We.transition;We.transition=null;try{we=4,Ke(t,e,n,i)}finally{we=r,We.transition=s}}function Ke(t,e,n,i){if(He){var r=Xe(t,e,n,i);if(null===r)Hi(t,e,i,Ye,n),Fe(t,i);else if(function(t,e,n,i,r){switch(e){case"focusin":return Ee=Oe(Ee,t,e,n,i,r),!0;case"dragenter":return Le=Oe(Le,t,e,n,i,r),!0;case"mouseover":return Pe=Oe(Pe,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return je.set(s,Oe(je.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Re.set(s,Oe(Re.get(s)||null,t,e,n,i,r)),!0}return!1}(r,t,e,n,i))i.stopPropagation();else if(Fe(t,i),4&e&&-1<Ie.indexOf(t)){for(;null!==r;){var s=wr(r);if(null!==s&&_e(s),null===(s=Xe(t,e,n,i))&&Hi(t,e,i,Ye,n),s===r)break;r=s}null!==r&&i.stopPropagation()}else Hi(t,e,i,null,n)}}var Ye=null;function Xe(t,e,n,i){if(Ye=null,null!==(t=yr(t=_t(i))))if(null===(e=qt(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Wt(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ye=t,null}function Ze(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($t()){case Qt:return 1;case te:return 4;case ee:case ne:return 16;case ie:return 536870912;default:return 16}default:return 16}}var Je=null,$e=null,Qe=null;function tn(){if(Qe)return Qe;var t,e,n=$e,i=n.length,r="value"in Je?Je.value:Je.textContent,s=r.length;for(t=0;t<i&&n[t]===r[t];t++);var o=i-t;for(e=1;e<=o&&n[i-e]===r[s-e];e++);return Qe=r.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function sn(t){function e(e,n,i,r,s){for(var o in this._reactName=e,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,t)t.hasOwnProperty(o)&&(e=t[o],this[o]=e?e(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=M({},cn,{view:0,detail:0}),dn=sn(hn),fn=M({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&"mousemove"===t.type?(on=t.screenX-ln.screenX,an=t.screenY-ln.screenY):an=on=0,ln=t),on)},movementY:function(t){return"movementY"in t?t.movementY:an}}),pn=sn(fn),gn=sn(M({},fn,{dataTransfer:0})),mn=sn(M({},hn,{relatedTarget:0})),vn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wn=sn(yn),bn=sn(M({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Sn[t])&&!!e[t]}function Cn(){return kn}var Nn=M({},hn,{key:function(t){if(t.key){var e=_n[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?xn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),An=sn(Nn),En=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ln=sn(M({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Pn=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),jn=M({},fn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(jn),Tn=[9,13,27,32],In=u&&"CompositionEvent"in window,Fn=null;u&&"documentMode"in document&&(Fn=document.documentMode);var On=u&&"TextEvent"in window&&!Fn,Mn=u&&(!In||Fn&&8<Fn&&11>=Fn),Dn=String.fromCharCode(32),Bn=!1;function zn(t,e){switch(t){case"keyup":return-1!==Tn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var qn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Wn[t.type]:"textarea"===e}function Vn(t,e,n,i){Nt(i),0<(e=Gi(e,"onChange")).length&&(n=new un("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Gn=null,Kn=null;function Yn(t){Di(t,0)}function Xn(t){if(K(br(t)))return t}function Zn(t,e){if("change"===t)return e}var Jn=!1;if(u){var $n;if(u){var Qn="oninput"in document;if(!Qn){var ti=document.createElement("div");ti.setAttribute("oninput","return;"),Qn="function"===typeof ti.oninput}$n=Qn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function ei(){Gn&&(Gn.detachEvent("onpropertychange",ni),Kn=Gn=null)}function ni(t){if("value"===t.propertyName&&Xn(Kn)){var e=[];Vn(e,Kn,t,_t(t)),jt(Yn,e)}}function ii(t,e,n){"focusin"===t?(ei(),Kn=n,(Gn=e).attachEvent("onpropertychange",ni)):"focusout"===t&&ei()}function ri(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Xn(Kn)}function si(t,e){if("click"===t)return Xn(e)}function oi(t,e){if("input"===t||"change"===t)return Xn(e)}var ai="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function li(t,e){if(ai(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!h.call(e,r)||!ai(t[r],e[r]))return!1}return!0}function ci(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ui(t,e){var n,i=ci(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=ci(i)}}function hi(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hi(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function di(){for(var t=window,e=Y();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(i){n=!1}if(!n)break;e=Y((t=e.contentWindow).document)}return e}function fi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pi(t){var e=di(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hi(n.ownerDocument.documentElement,n)){if(null!==i&&fi(n))if(e=i.start,void 0===(t=i.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=void 0===i.end?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=ui(n,s);var o=ui(n,i);r&&o&&(1!==t.rangeCount||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&((e=e.createRange()).setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gi=u&&"documentMode"in document&&11>=document.documentMode,mi=null,vi=null,yi=null,wi=!1;function bi(t,e,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wi||null==mi||mi!==Y(i)||("selectionStart"in(i=mi)&&fi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},yi&&li(yi,i)||(yi=i,0<(i=Gi(vi,"onSelect")).length&&(e=new un("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=mi)))}function _i(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xi={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionend:_i("Transition","TransitionEnd")},Si={},ki={};function Ci(t){if(Si[t])return Si[t];if(!xi[t])return t;var e,n=xi[t];for(e in n)if(n.hasOwnProperty(e)&&e in ki)return Si[t]=n[e];return t}u&&(ki=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);var Ni=Ci("animationend"),Ai=Ci("animationiteration"),Ei=Ci("animationstart"),Li=Ci("transitionend"),Pi=new Map,ji="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ri(t,e){Pi.set(t,e),l(e,[t])}for(var Ti=0;Ti<ji.length;Ti++){var Ii=ji[Ti];Ri(Ii.toLowerCase(),"on"+(Ii[0].toUpperCase()+Ii.slice(1)))}Ri(Ni,"onAnimationEnd"),Ri(Ai,"onAnimationIteration"),Ri(Ei,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(Li,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Oi=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fi));function Mi(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,i,r,o,a,l,c){if(Ut.apply(this,arguments),Ot){if(!Ot)throw Error(s(198));var u=Mt;Ot=!1,Mt=null,Dt||(Dt=!0,Bt=u)}}(i,e,void 0,t),t.currentTarget=null}function Di(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;t:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break t;Mi(r,a,c),s=l}else for(o=0;o<i.length;o++){if(l=(a=i[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break t;Mi(r,a,c),s=l}}}if(Dt)throw t=Bt,Dt=!1,Bt=null,t}function Bi(t,e){var n=e[gr];void 0===n&&(n=e[gr]=new Set);var i=t+"__bubble";n.has(i)||(Wi(e,t,2,!1),n.add(i))}function zi(t,e,n){var i=0;e&&(i|=4),Wi(n,t,i,e)}var Ui="_reactListening"+Math.random().toString(36).slice(2);function qi(t){if(!t[Ui]){t[Ui]=!0,o.forEach(function(e){"selectionchange"!==e&&(Oi.has(e)||zi(e,!1,t),zi(e,!0,t))});var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Ui]||(e[Ui]=!0,zi("selectionchange",!1,e))}}function Wi(t,e,n,i){switch(Ze(e)){case 1:var r=Ve;break;case 4:r=Ge;break;default:r=Ke}n=r.bind(null,e,n,t),r=void 0,!Tt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(r=!0),i?void 0!==r?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):void 0!==r?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Hi(t,e,n,i,r){var s=i;if(0===(1&e)&&0===(2&e)&&null!==i)t:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var a=i.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===o)for(o=i.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;o=o.return}for(;null!==a;){if(null===(o=yr(a)))return;if(5===(l=o.tag)||6===l){i=s=o;continue t}a=a.parentNode}}i=i.return}jt(function(){var i=s,r=_t(n),o=[];t:{var a=Pi.get(t);if(void 0!==a){var l=un,c=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":l=An;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ln;break;case Ni:case Ai:case Ei:l=vn;break;case Li:l=Pn;break;case"scroll":l=dn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var u=0!==(4&e),h=!u&&"scroll"===t,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=i;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=Rt(p,d))&&u.push(Vi(p,g,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,r),o.push({event:a,listeners:u}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||n===bt||!(c=n.relatedTarget||n.fromElement)||!yr(c)&&!c[pr])&&(l||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?yr(c):null)&&(c!==(h=qt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=pn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(u=En,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:br(l),f=null==c?a:br(c),(a=new u(g,p+"leave",l,n,r)).target=h,a.relatedTarget=f,g=null,yr(r)===i&&((u=new u(d,p+"enter",c,n,r)).target=f,u.relatedTarget=h,g=u),h=g,l&&c)t:{for(d=c,p=0,f=u=l;f;f=Ki(f))p++;for(f=0,g=d;g;g=Ki(g))f++;for(;0<p-f;)u=Ki(u),p--;for(;0<f-p;)d=Ki(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break t;u=Ki(u),d=Ki(d)}u=null}else u=null;null!==l&&Yi(o,a,l,u,!1),null!==c&&null!==h&&Yi(o,h,c,u,!0)}if("select"===(l=(a=i?br(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Zn;else if(Hn(a))if(Jn)m=oi;else{m=ri;var v=ii}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=si);switch(m&&(m=m(t,i))?Vn(o,m,n,r):(v&&v(t,a,i),"focusout"===t&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&tt(a,"number",a.value)),v=i?br(i):window,t){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(mi=v,vi=i,yi=null);break;case"focusout":yi=vi=mi=null;break;case"mousedown":wi=!0;break;case"contextmenu":case"mouseup":case"dragend":wi=!1,bi(o,n,r);break;case"selectionchange":if(gi)break;case"keydown":case"keyup":bi(o,n,r)}var y;if(In)t:{switch(t){case"compositionstart":var w="onCompositionStart";break t;case"compositionend":w="onCompositionEnd";break t;case"compositionupdate":w="onCompositionUpdate";break t}w=void 0}else qn?zn(t,n)&&(w="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(w="onCompositionStart");w&&(Mn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==w?"onCompositionEnd"===w&&qn&&(y=tn()):($e="value"in(Je=r)?Je.value:Je.textContent,qn=!0)),0<(v=Gi(i,w)).length&&(w=new bn(w,t,null,n,r),o.push({event:w,listeners:v}),y?w.data=y:null!==(y=Un(n))&&(w.data=y))),(y=On?function(t,e){switch(t){case"compositionend":return Un(e);case"keypress":return 32!==e.which?null:(Bn=!0,Dn);case"textInput":return(t=e.data)===Dn&&Bn?null:t;default:return null}}(t,n):function(t,e){if(qn)return"compositionend"===t||!In&&zn(t,e)?(t=tn(),Qe=$e=Je=null,qn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Mn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(i=Gi(i,"onBeforeInput")).length&&(r=new bn("onBeforeInput","beforeinput",null,n,r),o.push({event:r,listeners:i}),r.data=y))}Di(o,e)})}function Vi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gi(t,e){for(var n=e+"Capture",i=[];null!==t;){var r=t,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=Rt(t,n))&&i.unshift(Vi(t,s,r)),null!=(s=Rt(t,e))&&i.push(Vi(t,s,r))),t=t.return}return i}function Ki(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Yi(t,e,n,i,r){for(var s=e._reactName,o=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==c&&(a=c,r?null!=(l=Rt(n,s))&&o.unshift(Vi(n,l,a)):r||null!=(l=Rt(n,s))&&o.push(Vi(n,l,a))),n=n.return}0!==o.length&&t.push({event:e,listeners:o})}var Xi=/\r\n?/g,Zi=/\u0000|\uFFFD/g;function Ji(t){return("string"===typeof t?t:""+t).replace(Xi,"\n").replace(Zi,"")}function $i(t,e,n){if(e=Ji(e),Ji(t)!==e&&n)throw Error(s(425))}function Qi(){}var tr=null,er=null;function nr(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,sr="function"===typeof Promise?Promise:void 0,or="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sr?function(t){return sr.resolve(null).then(t).catch(ar)}:ir;function ar(t){setTimeout(function(){throw t})}function lr(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return t.removeChild(r),void qe(e);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);qe(e)}function cr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ur(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var hr=Math.random().toString(36).slice(2),dr="__reactFiber$"+hr,fr="__reactProps$"+hr,pr="__reactContainer$"+hr,gr="__reactEvents$"+hr,mr="__reactListeners$"+hr,vr="__reactHandles$"+hr;function yr(t){var e=t[dr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pr]||n[dr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=ur(t);null!==t;){if(n=t[dr])return n;t=ur(t)}return e}n=(t=n).parentNode}return null}function wr(t){return!(t=t[dr]||t[pr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function br(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(s(33))}function _r(t){return t[fr]||null}var xr=[],Sr=-1;function kr(t){return{current:t}}function Cr(t){0>Sr||(t.current=xr[Sr],xr[Sr]=null,Sr--)}function Nr(t,e){Sr++,xr[Sr]=t.current,t.current=e}var Ar={},Er=kr(Ar),Lr=kr(!1),Pr=Ar;function jr(t,e){var n=t.type.contextTypes;if(!n)return Ar;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in n)s[r]=e[r];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Rr(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Tr(){Cr(Lr),Cr(Er)}function Ir(t,e,n){if(Er.current!==Ar)throw Error(s(168));Nr(Er,e),Nr(Lr,n)}function Fr(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in e))throw Error(s(108,W(t)||"Unknown",r));return M({},n,i)}function Or(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ar,Pr=Er.current,Nr(Er,t),Nr(Lr,Lr.current),!0}function Mr(t,e,n){var i=t.stateNode;if(!i)throw Error(s(169));n?(t=Fr(t,e,Pr),i.__reactInternalMemoizedMergedChildContext=t,Cr(Lr),Cr(Er),Nr(Er,t)):Cr(Lr),Nr(Lr,n)}var Dr=null,Br=!1,zr=!1;function Ur(t){null===Dr?Dr=[t]:Dr.push(t)}function qr(){if(!zr&&null!==Dr){zr=!0;var t=0,e=we;try{var n=Dr;for(we=1;t<n.length;t++){var i=n[t];do{i=i(!0)}while(null!==i)}Dr=null,Br=!1}catch(r){throw null!==Dr&&(Dr=Dr.slice(t+1)),Kt(Qt,qr),r}finally{we=e,zr=!1}}return null}var Wr=[],Hr=0,Vr=null,Gr=0,Kr=[],Yr=0,Xr=null,Zr=1,Jr="";function $r(t,e){Wr[Hr++]=Gr,Wr[Hr++]=Vr,Vr=t,Gr=e}function Qr(t,e,n){Kr[Yr++]=Zr,Kr[Yr++]=Jr,Kr[Yr++]=Xr,Xr=t;var i=Zr;t=Jr;var r=32-oe(i)-1;i&=~(1<<r),n+=1;var s=32-oe(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Zr=1<<32-oe(e)+r|n<<r|i,Jr=s+t}else Zr=1<<s|n<<r|i,Jr=t}function ts(t){null!==t.return&&($r(t,1),Qr(t,1,0))}function es(t){for(;t===Vr;)Vr=Wr[--Hr],Wr[Hr]=null,Gr=Wr[--Hr],Wr[Hr]=null;for(;t===Xr;)Xr=Kr[--Yr],Kr[Yr]=null,Jr=Kr[--Yr],Kr[Yr]=null,Zr=Kr[--Yr],Kr[Yr]=null}var ns=null,is=null,rs=!1,ss=null;function os(t,e){var n=jc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function as(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,ns=t,is=cr(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,ns=t,is=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Xr?{id:Zr,overflow:Jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=jc(18,null,null,0)).stateNode=e,n.return=t,t.child=n,ns=t,is=null,!0);default:return!1}}function ls(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function cs(t){if(rs){var e=is;if(e){var n=e;if(!as(t,e)){if(ls(t))throw Error(s(418));e=cr(n.nextSibling);var i=ns;e&&as(t,e)?os(i,n):(t.flags=-4097&t.flags|2,rs=!1,ns=t)}}else{if(ls(t))throw Error(s(418));t.flags=-4097&t.flags|2,rs=!1,ns=t}}}function us(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;ns=t}function hs(t){if(t!==ns)return!1;if(!rs)return us(t),rs=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!nr(t.type,t.memoizedProps)),e&&(e=is)){if(ls(t))throw ds(),Error(s(418));for(;e;)os(t,e),e=cr(e.nextSibling)}if(us(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){is=cr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}is=null}}else is=ns?cr(t.stateNode.nextSibling):null;return!0}function ds(){for(var t=is;t;)t=cr(t.nextSibling)}function fs(){is=ns=null,rs=!1}function ps(t){null===ss?ss=[t]:ss.push(t)}var gs=b.ReactCurrentBatchConfig;function ms(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,t));var r=i,o=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===o?e.ref:(e=function(t){var e=r.refs;null===t?delete e[o]:e[o]=t},e._stringRef=o,e)}if("string"!==typeof t)throw Error(s(284));if(!n._owner)throw Error(s(290,t))}return t}function vs(t,e){throw t=Object.prototype.toString.call(e),Error(s(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ys(t){return(0,t._init)(t._payload)}function ws(t){function e(e,n){if(t){var i=e.deletions;null===i?(e.deletions=[n],e.flags|=16):i.push(n)}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=Tc(t,e)).index=0,t.sibling=null,t}function o(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.flags|=2,n):i:(e.flags|=2,n):(e.flags|=1048576,n)}function a(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,i){return null===e||6!==e.tag?((e=Mc(n,t.mode,i)).return=t,e):((e=r(e,n)).return=t,e)}function c(t,e,n,i){var s=n.type;return s===S?h(t,e,n.props.children,i,n.key):null!==e&&(e.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===R&&ys(s)===e.type)?((i=r(e,n.props)).ref=ms(t,e,n),i.return=t,i):((i=Ic(n.type,n.key,n.props,null,t.mode,i)).ref=ms(t,e,n),i.return=t,i)}function u(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Dc(n,t.mode,i)).return=t,e):((e=r(e,n.children||[])).return=t,e)}function h(t,e,n,i,s){return null===e||7!==e.tag?((e=Fc(n,t.mode,i,s)).return=t,e):((e=r(e,n)).return=t,e)}function d(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Mc(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case _:return(n=Ic(e.type,e.key,e.props,null,t.mode,n)).ref=ms(t,null,e),n.return=t,n;case x:return(e=Dc(e,t.mode,n)).return=t,e;case R:return d(t,(0,e._init)(e._payload),n)}if(et(e)||F(e))return(e=Fc(e,t.mode,n,null)).return=t,e;vs(t,e)}return null}function f(t,e,n,i){var r=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===r?c(t,e,n,i):null;case x:return n.key===r?u(t,e,n,i):null;case R:return f(t,e,(r=n._init)(n._payload),i)}if(et(n)||F(n))return null!==r?null:h(t,e,n,i,null);vs(t,n)}return null}function p(t,e,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(e,t=t.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case _:return c(e,t=t.get(null===i.key?n:i.key)||null,i,r);case x:return u(e,t=t.get(null===i.key?n:i.key)||null,i,r);case R:return p(t,e,n,(0,i._init)(i._payload),r)}if(et(i)||F(i))return h(e,t=t.get(n)||null,i,r,null);vs(e,i)}return null}function g(r,s,a,l){for(var c=null,u=null,h=s,g=s=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=f(r,h,a[g],l);if(null===v){null===h&&(h=m);break}t&&h&&null===v.alternate&&e(r,h),s=o(v,s,g),null===u?c=v:u.sibling=v,u=v,h=m}if(g===a.length)return n(r,h),rs&&$r(r,g),c;if(null===h){for(;g<a.length;g++)null!==(h=d(r,a[g],l))&&(s=o(h,s,g),null===u?c=h:u.sibling=h,u=h);return rs&&$r(r,g),c}for(h=i(r,h);g<a.length;g++)null!==(m=p(h,r,g,a[g],l))&&(t&&null!==m.alternate&&h.delete(null===m.key?g:m.key),s=o(m,s,g),null===u?c=m:u.sibling=m,u=m);return t&&h.forEach(function(t){return e(r,t)}),rs&&$r(r,g),c}function m(r,a,l,c){var u=F(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,g=a,m=a=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var w=f(r,g,y.value,c);if(null===w){null===g&&(g=v);break}t&&g&&null===w.alternate&&e(r,g),a=o(w,a,m),null===h?u=w:h.sibling=w,h=w,g=v}if(y.done)return n(r,g),rs&&$r(r,m),u;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=d(r,y.value,c))&&(a=o(y,a,m),null===h?u=y:h.sibling=y,h=y);return rs&&$r(r,m),u}for(g=i(r,g);!y.done;m++,y=l.next())null!==(y=p(g,r,m,y.value,c))&&(t&&null!==y.alternate&&g.delete(null===y.key?m:y.key),a=o(y,a,m),null===h?u=y:h.sibling=y,h=y);return t&&g.forEach(function(t){return e(r,t)}),rs&&$r(r,m),u}return function t(i,s,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:t:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===S){if(7===u.tag){n(i,u.sibling),(s=r(u,o.props.children)).return=i,i=s;break t}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&ys(c)===u.type){n(i,u.sibling),(s=r(u,o.props)).ref=ms(i,u,o),s.return=i,i=s;break t}n(i,u);break}e(i,u),u=u.sibling}o.type===S?((s=Fc(o.props.children,i.mode,l,o.key)).return=i,i=s):((l=Ic(o.type,o.key,o.props,null,i.mode,l)).ref=ms(i,s,o),l.return=i,i=l)}return a(i);case x:t:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(i,s.sibling),(s=r(s,o.children||[])).return=i,i=s;break t}n(i,s);break}e(i,s),s=s.sibling}(s=Dc(o,i.mode,l)).return=i,i=s}return a(i);case R:return t(i,s,(u=o._init)(o._payload),l)}if(et(o))return g(i,s,o,l);if(F(o))return m(i,s,o,l);vs(i,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(i,s.sibling),(s=r(s,o)).return=i,i=s):(n(i,s),(s=Mc(o,i.mode,l)).return=i,i=s),a(i)):n(i,s)}}var bs=ws(!0),_s=ws(!1),xs=kr(null),Ss=null,ks=null,Cs=null;function Ns(){Cs=ks=Ss=null}function As(t){var e=xs.current;Cr(xs),t._currentValue=e}function Es(t,e,n){for(;null!==t;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==i&&(i.childLanes|=e)):null!==i&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Ls(t,e){Ss=t,Cs=ks=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(wa=!0),t.firstContext=null)}function Ps(t){var e=t._currentValue;if(Cs!==t)if(t={context:t,memoizedValue:e,next:null},null===ks){if(null===Ss)throw Error(s(308));ks=t,Ss.dependencies={lanes:0,firstContext:t}}else ks=ks.next=t;return e}var js=null;function Rs(t){null===js?js=[t]:js.push(t)}function Ts(t,e,n,i){var r=e.interleaved;return null===r?(n.next=n,Rs(e)):(n.next=r.next,r.next=n),e.interleaved=n,Is(t,i)}function Is(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Fs=!1;function Os(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ms(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ds(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bs(t,e,n){var i=t.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&El)){var r=i.pending;return null===r?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Is(t,n)}return null===(r=i.interleaved)?(e.next=e,Rs(i)):(e.next=r.next,r.next=e),i.interleaved=e,Is(t,n)}function zs(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,ye(t,n)}}function Us(t,e){var n=t.updateQueue,i=t.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?r=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?r=s=e:s=s.next=e}else r=s=e;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function qs(t,e,n,i){var r=t.updateQueue;Fs=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=t.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=r.baseState;for(o=0,u=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((i&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=t,g=a;switch(d=e,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(f,h,d);break t}h=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(f,h,d):p)||void 0===d)break t;h=M({},h,d);break t;case 2:Fs=!0}}null!==a.callback&&0!==a.lane&&(t.flags|=64,null===(d=r.effects)?r.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(d=a).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===u&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(e=r.shared.interleaved)){r=e;do{o|=r.lane,r=r.next}while(r!==e)}else null===s&&(r.shared.lanes=0);Ol|=o,t.lanes=o,t.memoizedState=h}}function Ws(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(s(191,r));r.call(i)}}}var Hs={},Vs=kr(Hs),Gs=kr(Hs),Ks=kr(Hs);function Ys(t){if(t===Hs)throw Error(s(174));return t}function Xs(t,e){switch(Nr(Ks,e),Nr(Gs,t),Nr(Vs,Hs),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Cr(Vs),Nr(Vs,e)}function Zs(){Cr(Vs),Cr(Gs),Cr(Ks)}function Js(t){Ys(Ks.current);var e=Ys(Vs.current),n=lt(e,t.type);e!==n&&(Nr(Gs,t),Nr(Vs,n))}function $s(t){Gs.current===t&&(Cr(Vs),Cr(Gs))}var Qs=kr(0);function to(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var eo=[];function no(){for(var t=0;t<eo.length;t++)eo[t]._workInProgressVersionPrimary=null;eo.length=0}var io=b.ReactCurrentDispatcher,ro=b.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,co=!1,uo=!1,ho=0,fo=0;function po(){throw Error(s(321))}function go(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ai(t[n],e[n]))return!1;return!0}function mo(t,e,n,i,r,o){if(so=o,oo=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,io.current=null===t||null===t.memoizedState?Qo:ta,t=n(i,r),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,e.updateQueue=null,io.current=ea,t=n(i,r)}while(uo)}if(io.current=$o,e=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,co=!1,e)throw Error(s(300));return t}function vo(){var t=0!==ho;return ho=0,t}function yo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=t:lo=lo.next=t,lo}function wo(){if(null===ao){var t=oo.alternate;t=null!==t?t.memoizedState:null}else t=ao.next;var e=null===lo?oo.memoizedState:lo.next;if(null!==e)lo=e,ao=t;else{if(null===t)throw Error(s(310));t={memoizedState:(ao=t).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=t:lo=lo.next=t}return lo}function bo(t,e){return"function"===typeof e?e(t):e}function _o(t){var e=wo(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var i=ao,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var a=r.next;r.next=o.next,o.next=a}i.baseQueue=r=o,n.pending=null}if(null!==r){o=r.next,i=i.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((so&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=i):c=c.next=d,oo.lanes|=h,Ol|=h}u=u.next}while(null!==u&&u!==o);null===c?a=i:c.next=l,ai(i,e.memoizedState)||(wa=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=c,n.lastRenderedState=i}if(null!==(t=n.interleaved)){r=t;do{o=r.lane,oo.lanes|=o,Ol|=o,r=r.next}while(r!==t)}else null===r&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function xo(t){var e=wo(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{o=t(o,a.action),a=a.next}while(a!==r);ai(o,e.memoizedState)||(wa=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function So(){}function ko(t,e){var n=oo,i=wo(),r=e(),o=!ai(i.memoizedState,r);if(o&&(i.memoizedState=r,wa=!0),i=i.queue,Oo(Ao.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,jo(9,No.bind(null,n,i,r,e),void 0,null),null===Ll)throw Error(s(349));0!==(30&so)||Co(n,e,r)}return r}function Co(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=oo.updateQueue)?(e={lastEffect:null,stores:null},oo.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function No(t,e,n,i){e.value=n,e.getSnapshot=i,Eo(e)&&Lo(t)}function Ao(t,e,n){return n(function(){Eo(e)&&Lo(t)})}function Eo(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ai(t,n)}catch(i){return!0}}function Lo(t){var e=Is(t,1);null!==e&&nc(e,t,1,-1)}function Po(t){var e=yo();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:t},e.queue=t,t=t.dispatch=Yo.bind(null,oo,t),[e.memoizedState,t]}function jo(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},null===(e=oo.updateQueue)?(e={lastEffect:null,stores:null},oo.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Ro(){return wo().memoizedState}function To(t,e,n,i){var r=yo();oo.flags|=t,r.memoizedState=jo(1|e,n,void 0,void 0===i?null:i)}function Io(t,e,n,i){var r=wo();i=void 0===i?null:i;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==i&&go(i,o.deps))return void(r.memoizedState=jo(e,n,s,i))}oo.flags|=t,r.memoizedState=jo(1|e,n,s,i)}function Fo(t,e){return To(8390656,8,t,e)}function Oo(t,e){return Io(2048,8,t,e)}function Mo(t,e){return Io(4,2,t,e)}function Do(t,e){return Io(4,4,t,e)}function Bo(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function zo(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Io(4,4,Bo.bind(null,e,t),n)}function Uo(){}function qo(t,e){var n=wo();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&go(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Wo(t,e){var n=wo();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&go(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Ho(t,e,n){return 0===(21&so)?(t.baseState&&(t.baseState=!1,wa=!0),t.memoizedState=n):(ai(n,e)||(n=ge(),oo.lanes|=n,Ol|=n,t.baseState=!0),e)}function Vo(t,e){var n=we;we=0!==n&&4>n?n:4,t(!0);var i=ro.transition;ro.transition={};try{t(!1),e()}finally{we=n,ro.transition=i}}function Go(){return wo().memoizedState}function Ko(t,e,n){var i=ec(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Xo(t))Zo(e,n);else if(null!==(n=Ts(t,e,n,i))){nc(n,t,i,tc()),Jo(n,e,i)}}function Yo(t,e,n){var i=ec(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xo(t))Zo(e,r);else{var s=t.alternate;if(0===t.lanes&&(null===s||0===s.lanes)&&null!==(s=e.lastRenderedReducer))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,ai(a,o)){var l=e.interleaved;return null===l?(r.next=r,Rs(e)):(r.next=l.next,l.next=r),void(e.interleaved=r)}}catch(c){}null!==(n=Ts(t,e,r,i))&&(nc(n,t,i,r=tc()),Jo(n,e,i))}}function Xo(t){var e=t.alternate;return t===oo||null!==e&&e===oo}function Zo(t,e){uo=co=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Jo(t,e,n){if(0!==(4194240&n)){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,ye(t,n)}}var $o={readContext:Ps,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Qo={readContext:Ps,useCallback:function(t,e){return yo().memoizedState=[t,void 0===e?null:e],t},useContext:Ps,useEffect:Fo,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,To(4194308,4,Bo.bind(null,e,t),n)},useLayoutEffect:function(t,e){return To(4194308,4,t,e)},useInsertionEffect:function(t,e){return To(4,2,t,e)},useMemo:function(t,e){var n=yo();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=yo();return e=void 0!==n?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=Ko.bind(null,oo,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},yo().memoizedState=t},useState:Po,useDebugValue:Uo,useDeferredValue:function(t){return yo().memoizedState=t},useTransition:function(){var t=Po(!1),e=t[0];return t=Vo.bind(null,t[1]),yo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=oo,r=yo();if(rs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=e(),null===Ll)throw Error(s(349));0!==(30&so)||Co(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,Fo(Ao.bind(null,i,o,t),[t]),i.flags|=2048,jo(9,No.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=yo(),e=Ll.identifierPrefix;if(rs){var n=Jr;e=":"+e+"R"+(n=(Zr&~(1<<32-oe(Zr)-1)).toString(32)+n),0<(n=ho++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=fo++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ta={readContext:Ps,useCallback:qo,useContext:Ps,useEffect:Oo,useImperativeHandle:zo,useInsertionEffect:Mo,useLayoutEffect:Do,useMemo:Wo,useReducer:_o,useRef:Ro,useState:function(){return _o(bo)},useDebugValue:Uo,useDeferredValue:function(t){return Ho(wo(),ao.memoizedState,t)},useTransition:function(){return[_o(bo)[0],wo().memoizedState]},useMutableSource:So,useSyncExternalStore:ko,useId:Go,unstable_isNewReconciler:!1},ea={readContext:Ps,useCallback:qo,useContext:Ps,useEffect:Oo,useImperativeHandle:zo,useInsertionEffect:Mo,useLayoutEffect:Do,useMemo:Wo,useReducer:xo,useRef:Ro,useState:function(){return xo(bo)},useDebugValue:Uo,useDeferredValue:function(t){var e=wo();return null===ao?e.memoizedState=t:Ho(e,ao.memoizedState,t)},useTransition:function(){return[xo(bo)[0],wo().memoizedState]},useMutableSource:So,useSyncExternalStore:ko,useId:Go,unstable_isNewReconciler:!1};function na(t,e){if(t&&t.defaultProps){for(var n in e=M({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}function ia(t,e,n,i){n=null===(n=n(i,e=t.memoizedState))||void 0===n?e:M({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var ra={isMounted:function(t){return!!(t=t._reactInternals)&&qt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=tc(),r=ec(t),s=Ds(i,r);s.payload=e,void 0!==n&&null!==n&&(s.callback=n),null!==(e=Bs(t,s,r))&&(nc(e,t,r,i),zs(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=tc(),r=ec(t),s=Ds(i,r);s.tag=1,s.payload=e,void 0!==n&&null!==n&&(s.callback=n),null!==(e=Bs(t,s,r))&&(nc(e,t,r,i),zs(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tc(),i=ec(t),r=Ds(n,i);r.tag=2,void 0!==e&&null!==e&&(r.callback=e),null!==(e=Bs(t,r,i))&&(nc(e,t,i,n),zs(e,t,i))}};function sa(t,e,n,i,r,s,o){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,s,o):!e.prototype||!e.prototype.isPureReactComponent||(!li(n,i)||!li(r,s))}function oa(t,e,n){var i=!1,r=Ar,s=e.contextType;return"object"===typeof s&&null!==s?s=Ps(s):(r=Rr(e)?Pr:Er.current,s=(i=null!==(i=e.contextTypes)&&void 0!==i)?jr(t,r):Ar),e=new e(n,s),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=ra,t.stateNode=e,e._reactInternals=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function aa(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&ra.enqueueReplaceState(e,e.state,null)}function la(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Os(t);var s=e.contextType;"object"===typeof s&&null!==s?r.context=Ps(s):(s=Rr(e)?Pr:Er.current,r.context=jr(t,s)),r.state=t.memoizedState,"function"===typeof(s=e.getDerivedStateFromProps)&&(ia(t,e,s,n),r.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(e=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&ra.enqueueReplaceState(r,r.state,null),qs(t,n,r,i),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4194308)}function ca(t,e){try{var n="",i=e;do{n+=U(i),i=i.return}while(i);var r=n}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:t,source:e,stack:r,digest:null}}function ua(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function ha(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var da="function"===typeof WeakMap?WeakMap:Map;function fa(t,e,n){(n=Ds(-1,n)).tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Hl||(Hl=!0,Vl=i),ha(0,e)},n}function pa(t,e,n){(n=Ds(-1,n)).tag=3;var i=t.type.getDerivedStateFromError;if("function"===typeof i){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){ha(0,e)}}var s=t.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ha(0,e),"function"!==typeof i&&(null===Gl?Gl=new Set([this]):Gl.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function ga(t,e,n){var i=t.pingCache;if(null===i){i=t.pingCache=new da;var r=new Set;i.set(e,r)}else void 0===(r=i.get(e))&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=Cc.bind(null,t,e,n),e.then(t,t))}function ma(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function va(t,e,n,i,r){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=Ds(-1,1)).tag=2,Bs(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=r,t)}var ya=b.ReactCurrentOwner,wa=!1;function ba(t,e,n,i){e.child=null===t?_s(e,null,n,i):bs(e,t.child,n,i)}function _a(t,e,n,i,r){n=n.render;var s=e.ref;return Ls(e,r),i=mo(t,e,n,i,s,r),n=vo(),null===t||wa?(rs&&n&&ts(e),e.flags|=1,ba(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ha(t,e,r))}function xa(t,e,n,i,r){if(null===t){var s=n.type;return"function"!==typeof s||Rc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Ic(n.type,null,i,e,e.mode,r)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,Sa(t,e,s,i,r))}if(s=t.child,0===(t.lanes&r)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:li)(o,i)&&t.ref===e.ref)return Ha(t,e,r)}return e.flags|=1,(t=Tc(s,i)).ref=e.ref,t.return=e,e.child=t}function Sa(t,e,n,i,r){if(null!==t){var s=t.memoizedProps;if(li(s,i)&&t.ref===e.ref){if(wa=!1,e.pendingProps=i=s,0===(t.lanes&r))return e.lanes=t.lanes,Ha(t,e,r);0!==(131072&t.flags)&&(wa=!0)}}return Na(t,e,n,i,r)}function ka(t,e,n){var i=e.pendingProps,r=i.children,s=null!==t?t.memoizedState:null;if("hidden"===i.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nr(Tl,Rl),Rl|=n;else{if(0===(1073741824&n))return t=null!==s?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Nr(Tl,Rl),Rl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==s?s.baseLanes:n,Nr(Tl,Rl),Rl|=i}else null!==s?(i=s.baseLanes|n,e.memoizedState=null):i=n,Nr(Tl,Rl),Rl|=i;return ba(t,e,r,n),e.child}function Ca(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Na(t,e,n,i,r){var s=Rr(n)?Pr:Er.current;return s=jr(e,s),Ls(e,r),n=mo(t,e,n,i,s,r),i=vo(),null===t||wa?(rs&&i&&ts(e),e.flags|=1,ba(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ha(t,e,r))}function Aa(t,e,n,i,r){if(Rr(n)){var s=!0;Or(e)}else s=!1;if(Ls(e,r),null===e.stateNode)Wa(t,e),oa(e,n,i),la(e,n,i,r),i=!0;else if(null===t){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ps(c):c=jr(e,c=Rr(n)?Pr:Er.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==i||l!==c)&&aa(e,o,i,c),Fs=!1;var d=e.memoizedState;o.state=d,qs(e,i,o,r),l=e.memoizedState,a!==i||d!==l||Lr.current||Fs?("function"===typeof u&&(ia(e,n,u,i),l=e.memoizedState),(a=Fs||sa(e,n,a,i,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(e.flags|=4194308)):("function"===typeof o.componentDidMount&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):("function"===typeof o.componentDidMount&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,Ms(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:na(e.type,a),o.props=c,h=e.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ps(l):l=jr(e,l=Rr(n)?Pr:Er.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&aa(e,o,i,l),Fs=!1,d=e.memoizedState,o.state=d,qs(e,i,o,r);var p=e.memoizedState;a!==h||d!==p||Lr.current||Fs?("function"===typeof f&&(ia(e,n,f,i),p=e.memoizedState),(c=Fs||sa(e,n,c,i,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof o.componentDidUpdate&&(e.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),o.props=i,o.state=p,o.context=l,i=c):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return Ea(t,e,n,i,s,r)}function Ea(t,e,n,i,r,s){Ca(t,e);var o=0!==(128&e.flags);if(!i&&!o)return r&&Mr(e,n,!1),Ha(t,e,s);i=e.stateNode,ya.current=e;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return e.flags|=1,null!==t&&o?(e.child=bs(e,t.child,null,s),e.child=bs(e,null,a,s)):ba(t,e,a,s),e.memoizedState=i.state,r&&Mr(e,n,!0),e.child}function La(t){var e=t.stateNode;e.pendingContext?Ir(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Ir(0,e.context,!1),Xs(t,e.containerInfo)}function Pa(t,e,n,i,r){return fs(),ps(r),e.flags|=256,ba(t,e,n,i),e.child}var ja,Ra,Ta,Ia,Fa={dehydrated:null,treeContext:null,retryLane:0};function Oa(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ma(t,e,n){var i,r=e.pendingProps,o=Qs.current,a=!1,l=0!==(128&e.flags);if((i=l)||(i=(null===t||null!==t.memoizedState)&&0!==(2&o)),i?(a=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(o|=1),Nr(Qs,1&o),null===t)return cs(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=r.children,t=r.fallback,a?(r=e.mode,a=e.child,l={mode:"hidden",children:l},0===(1&r)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Oc(l,r,0,null),t=Fc(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Oa(n),e.memoizedState=Fa,t):Da(e,l));if(null!==(o=t.memoizedState)&&null!==(i=o.dehydrated))return function(t,e,n,i,r,o,a){if(n)return 256&e.flags?(e.flags&=-257,Ba(t,e,a,i=ua(Error(s(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=Oc({mode:"visible",children:i.children},r,0,null),(o=Fc(o,r,a,null)).flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,0!==(1&e.mode)&&bs(e,t.child,null,a),e.child.memoizedState=Oa(a),e.memoizedState=Fa,o);if(0===(1&e.mode))return Ba(t,e,a,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,Ba(t,e,a,i=ua(o=Error(s(419)),i,void 0))}if(l=0!==(a&t.childLanes),wa||l){if(null!==(i=Ll)){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|a))?0:r)&&r!==o.retryLane&&(o.retryLane=r,Is(t,r),nc(i,t,r,-1))}return gc(),Ba(t,e,a,i=ua(Error(s(421))))}return"$?"===r.data?(e.flags|=128,e.child=t.child,e=Ac.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,is=cr(r.nextSibling),ns=e,rs=!0,ss=null,null!==t&&(Kr[Yr++]=Zr,Kr[Yr++]=Jr,Kr[Yr++]=Xr,Zr=t.id,Jr=t.overflow,Xr=e),e=Da(e,i.children),e.flags|=4096,e)}(t,e,l,r,i,o,n);if(a){a=r.fallback,l=e.mode,i=(o=t.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&e.child!==o?((r=e.child).childLanes=0,r.pendingProps=c,e.deletions=null):(r=Tc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==i?a=Tc(i,a):(a=Fc(a,l,n,null)).flags|=2,a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,l=null===(l=t.child.memoizedState)?Oa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~n,e.memoizedState=Fa,r}return t=(a=t.child).sibling,r=Tc(a,{mode:"visible",children:r.children}),0===(1&e.mode)&&(r.lanes=n),r.return=e,r.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Da(t,e){return(e=Oc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Ba(t,e,n,i){return null!==i&&ps(i),bs(e,t.child,null,n),(t=Da(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function za(t,e,n){t.lanes|=e;var i=t.alternate;null!==i&&(i.lanes|=e),Es(t.return,e,n)}function Ua(t,e,n,i,r){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function qa(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(ba(t,e,i.children,n),0!==(2&(i=Qs.current)))i=1&i|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&za(t,n,e);else if(19===t.tag)za(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Nr(Qs,i),0===(1&e.mode))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;null!==n;)null!==(t=n.alternate)&&null===to(t)&&(r=n),n=n.sibling;null===(n=r)?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Ua(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===to(t)){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Ua(e,!0,n,null,s);break;case"together":Ua(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wa(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ha(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Ol|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(n=Tc(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Tc(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Va(t,e){if(!rs)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ga(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=t,r=r.sibling;else for(r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Ka(t,e,n){var i=e.pendingProps;switch(es(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(e),null;case 1:case 17:return Rr(e.type)&&Tr(),Ga(e),null;case 3:return i=e.stateNode,Zs(),Cr(Lr),Cr(Er),no(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==t&&null!==t.child||(hs(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==ss&&(oc(ss),ss=null))),Ra(t,e),Ga(e),null;case 5:$s(e);var r=Ys(Ks.current);if(n=e.type,null!==t&&null!=e.stateNode)Ta(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(null===e.stateNode)throw Error(s(166));return Ga(e),null}if(t=Ys(Vs.current),hs(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[dr]=e,i[fr]=o,t=0!==(1&e.mode),n){case"dialog":Bi("cancel",i),Bi("close",i);break;case"iframe":case"object":case"embed":Bi("load",i);break;case"video":case"audio":for(r=0;r<Fi.length;r++)Bi(Fi[r],i);break;case"source":Bi("error",i);break;case"img":case"image":case"link":Bi("error",i),Bi("load",i);break;case"details":Bi("toggle",i);break;case"input":Z(i,o),Bi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Bi("invalid",i);break;case"textarea":rt(i,o),Bi("invalid",i)}for(var l in yt(n,o),r=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==o.suppressHydrationWarning&&$i(i.textContent,c,t),r=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&$i(i.textContent,c,t),r=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Bi("scroll",i)}switch(n){case"input":G(i),Q(i,o,!0);break;case"textarea":G(i),ot(i);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(i.onclick=Qi)}i=r,e.updateQueue=i,null!==i&&(e.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=at(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof i.is?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),"select"===n&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[dr]=e,t[fr]=i,ja(t,e,!1,!1),e.stateNode=t;t:{switch(l=wt(n,i),n){case"dialog":Bi("cancel",t),Bi("close",t),r=i;break;case"iframe":case"object":case"embed":Bi("load",t),r=i;break;case"video":case"audio":for(r=0;r<Fi.length;r++)Bi(Fi[r],t);r=i;break;case"source":Bi("error",t),r=i;break;case"img":case"image":case"link":Bi("error",t),Bi("load",t),r=i;break;case"details":Bi("toggle",t),r=i;break;case"input":Z(t,i),r=X(t,i),Bi("invalid",t);break;case"option":default:r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=M({},i,{value:void 0}),Bi("invalid",t);break;case"textarea":rt(t,i),r=it(t,i),Bi("invalid",t)}for(o in yt(n,r),c=r)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?mt(t,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&ht(t,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&dt(t,u):"number"===typeof u&&dt(t,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Bi("scroll",t):null!=u&&w(t,o,u,l))}switch(n){case"input":G(t),Q(t,i,!1);break;case"textarea":G(t),ot(t);break;case"option":null!=i.value&&t.setAttribute("value",""+H(i.value));break;case"select":t.multiple=!!i.multiple,null!=(o=i.value)?nt(t,!!i.multiple,o,!1):null!=i.defaultValue&&nt(t,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(t.onclick=Qi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Ga(e),null;case 6:if(t&&null!=e.stateNode)Ia(t,e,t.memoizedProps,i);else{if("string"!==typeof i&&null===e.stateNode)throw Error(s(166));if(n=Ys(Ks.current),Ys(Vs.current),hs(e)){if(i=e.stateNode,n=e.memoizedProps,i[dr]=e,(o=i.nodeValue!==n)&&null!==(t=ns))switch(t.tag){case 3:$i(i.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&$i(i.nodeValue,n,0!==(1&t.mode))}o&&(e.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[dr]=e,e.stateNode=i}return Ga(e),null;case 13:if(Cr(Qs),i=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(rs&&null!==is&&0!==(1&e.mode)&&0===(128&e.flags))ds(),fs(),e.flags|=98560,o=!1;else if(o=hs(e),null!==i&&null!==i.dehydrated){if(null===t){if(!o)throw Error(s(318));if(!(o=null!==(o=e.memoizedState)?o.dehydrated:null))throw Error(s(317));o[dr]=e}else fs(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Ga(e),o=!1}else null!==ss&&(oc(ss),ss=null),o=!0;if(!o)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((i=null!==i)!==(null!==t&&null!==t.memoizedState)&&i&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&Qs.current)?0===Il&&(Il=3):gc())),null!==e.updateQueue&&(e.flags|=4),Ga(e),null);case 4:return Zs(),Ra(t,e),null===t&&qi(e.stateNode.containerInfo),Ga(e),null;case 10:return As(e.type._context),Ga(e),null;case 19:if(Cr(Qs),null===(o=e.memoizedState))return Ga(e),null;if(i=0!==(128&e.flags),null===(l=o.rendering))if(i)Va(o,!1);else{if(0!==Il||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=to(t))){for(e.flags|=128,Va(o,!1),null!==(i=l.updateQueue)&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;null!==n;)t=i,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Nr(Qs,1&Qs.current|2),e.child}t=t.sibling}null!==o.tail&&Jt()>ql&&(e.flags|=128,i=!0,Va(o,!1),e.lanes=4194304)}else{if(!i)if(null!==(t=to(l))){if(e.flags|=128,i=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),Va(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!rs)return Ga(e),null}else 2*Jt()-o.renderingStartTime>ql&&1073741824!==n&&(e.flags|=128,i=!0,Va(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=o.last)?n.sibling=l:e.child=l,o.last=l)}return null!==o.tail?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Jt(),e.sibling=null,n=Qs.current,Nr(Qs,i?1&n|2:1&n),e):(Ga(e),null);case 22:case 23:return hc(),i=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==i&&(e.flags|=8192),i&&0!==(1&e.mode)?0!==(1073741824&Rl)&&(Ga(e),6&e.subtreeFlags&&(e.flags|=8192)):Ga(e),null;case 24:case 25:return null}throw Error(s(156,e.tag))}function Ya(t,e){switch(es(e),e.tag){case 1:return Rr(e.type)&&Tr(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return Zs(),Cr(Lr),Cr(Er),no(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return $s(e),null;case 13:if(Cr(Qs),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(s(340));fs()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Cr(Qs),null;case 4:return Zs(),null;case 10:return As(e.type._context),null;case 22:case 23:return hc(),null;default:return null}}ja=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ra=function(){},Ta=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Ys(Vs.current);var s,o=null;switch(n){case"input":r=X(t,r),i=X(t,i),o=[];break;case"select":r=M({},r,{value:void 0}),i=M({},i,{value:void 0}),o=[];break;case"textarea":r=it(t,r),i=it(t,i),o=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(t.onclick=Qi)}for(u in yt(n,i),n=null,r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in i){var c=i[u];if(l=null!=r?r[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Bi("scroll",t),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}},Ia=function(t,e,n,i){n!==i&&(e.flags|=4)};var Xa=!1,Za=!1,Ja="function"===typeof WeakSet?WeakSet:Set,$a=null;function Qa(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){kc(t,e,i)}else n.current=null}function tl(t,e,n){try{n()}catch(i){kc(t,e,i)}}var el=!1;function nl(t,e,n){var i=e.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,void 0!==s&&tl(e,n,s)}r=r.next}while(r!==i)}}function il(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function rl(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function sl(t){var e=t.alternate;null!==e&&(t.alternate=null,sl(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[dr],delete e[fr],delete e[gr],delete e[mr],delete e[vr])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ol(t){return 5===t.tag||3===t.tag||4===t.tag}function al(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||ol(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ll(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Qi));else if(4!==i&&null!==(t=t.child))for(ll(t,e,n),t=t.sibling;null!==t;)ll(t,e,n),t=t.sibling}function cl(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==i&&null!==(t=t.child))for(cl(t,e,n),t=t.sibling;null!==t;)cl(t,e,n),t=t.sibling}var ul=null,hl=!1;function dl(t,e,n){for(n=n.child;null!==n;)fl(t,e,n),n=n.sibling}function fl(t,e,n){if(se&&"function"===typeof se.onCommitFiberUnmount)try{se.onCommitFiberUnmount(re,n)}catch(a){}switch(n.tag){case 5:Za||Qa(n,e);case 6:var i=ul,r=hl;ul=null,dl(t,e,n),hl=r,null!==(ul=i)&&(hl?(t=ul,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(t=ul,n=n.stateNode,8===t.nodeType?lr(t.parentNode,n):1===t.nodeType&&lr(t,n),qe(t)):lr(ul,n.stateNode));break;case 4:i=ul,r=hl,ul=n.stateNode.containerInfo,hl=!0,dl(t,e,n),ul=i,hl=r;break;case 0:case 11:case 14:case 15:if(!Za&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&tl(n,e,o),r=r.next}while(r!==i)}dl(t,e,n);break;case 1:if(!Za&&(Qa(n,e),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){kc(n,e,a)}dl(t,e,n);break;case 21:dl(t,e,n);break;case 22:1&n.mode?(Za=(i=Za)||null!==n.memoizedState,dl(t,e,n),Za=i):dl(t,e,n);break;default:dl(t,e,n)}}function pl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Ja),e.forEach(function(e){var i=Ec.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))})}}function gl(t,e){var n=e.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,a=e,l=a;t:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break t;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break t}l=l.return}if(null===ul)throw Error(s(160));fl(o,a,r),ul=null,hl=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(u){kc(r,e,u)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)ml(e,t),e=e.sibling}function ml(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gl(e,t),vl(t),4&i){try{nl(3,t,t.return),il(3,t)}catch(m){kc(t,t.return,m)}try{nl(5,t,t.return)}catch(m){kc(t,t.return,m)}}break;case 1:gl(e,t),vl(t),512&i&&null!==n&&Qa(n,n.return);break;case 5:if(gl(e,t),vl(t),512&i&&null!==n&&Qa(n,n.return),32&t.flags){var r=t.stateNode;try{dt(r,"")}catch(m){kc(t,t.return,m)}}if(4&i&&null!=(r=t.stateNode)){var o=t.memoizedProps,a=null!==n?n.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(r,o),wt(l,a);var u=wt(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?mt(r,d):"dangerouslySetInnerHTML"===h?ht(r,d):"children"===h?dt(r,d):w(r,h,d,u)}switch(l){case"input":$(r,o);break;case"textarea":st(r,o);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?nt(r,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?nt(r,!!o.multiple,o.defaultValue,!0):nt(r,!!o.multiple,o.multiple?[]:"",!1))}r[fr]=o}catch(m){kc(t,t.return,m)}}break;case 6:if(gl(e,t),vl(t),4&i){if(null===t.stateNode)throw Error(s(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(m){kc(t,t.return,m)}}break;case 3:if(gl(e,t),vl(t),4&i&&null!==n&&n.memoizedState.isDehydrated)try{qe(e.containerInfo)}catch(m){kc(t,t.return,m)}break;case 4:default:gl(e,t),vl(t);break;case 13:gl(e,t),vl(t),8192&(r=t.child).flags&&(o=null!==r.memoizedState,r.stateNode.isHidden=o,!o||null!==r.alternate&&null!==r.alternate.memoizedState||(Ul=Jt())),4&i&&pl(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?(Za=(u=Za)||h,gl(e,t),Za=u):gl(e,t),vl(t),8192&i){if(u=null!==t.memoizedState,(t.stateNode.isHidden=u)&&!h&&0!==(1&t.mode))for($a=t,h=t.child;null!==h;){for(d=$a=h;null!==$a;){switch(p=(f=$a).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Qa(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){i=f,n=f.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){kc(i,n,m)}}break;case 5:Qa(f,f.return);break;case 22:if(null!==f.memoizedState){_l(d);continue}}null!==p?(p.return=f,$a=p):_l(d)}h=h.sibling}t:for(h=null,d=t;;){if(5===d.tag){if(null===h){h=d;try{r=d.stateNode,u?"function"===typeof(o=r.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=gt("display",a))}catch(m){kc(t,t.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){kc(t,t.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(e,t),vl(t),4&i&&pl(t);case 21:}}function vl(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(ol(n)){var i=n;break t}n=n.return}throw Error(s(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(dt(r,""),i.flags&=-33),cl(t,al(t),r);break;case 3:case 4:var o=i.stateNode.containerInfo;ll(t,al(t),o);break;default:throw Error(s(161))}}catch(a){kc(t,t.return,a)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function yl(t,e,n){$a=t,wl(t,e,n)}function wl(t,e,n){for(var i=0!==(1&t.mode);null!==$a;){var r=$a,s=r.child;if(22===r.tag&&i){var o=null!==r.memoizedState||Xa;if(!o){var a=r.alternate,l=null!==a&&null!==a.memoizedState||Za;a=Xa;var c=Za;if(Xa=o,(Za=l)&&!c)for($a=r;null!==$a;)l=(o=$a).child,22===o.tag&&null!==o.memoizedState?xl(r):null!==l?(l.return=o,$a=l):xl(r);for(;null!==s;)$a=s,wl(s,e,n),s=s.sibling;$a=r,Xa=a,Za=c}bl(t)}else 0!==(8772&r.subtreeFlags)&&null!==s?(s.return=r,$a=s):bl(t)}}function bl(t){for(;null!==$a;){var e=$a;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Za||il(5,e);break;case 1:var i=e.stateNode;if(4&e.flags&&!Za)if(null===n)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:na(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;null!==o&&Ws(e,o,i);break;case 3:var a=e.updateQueue;if(null!==a){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Ws(e,a,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var u=e.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&qe(d)}}}break;default:throw Error(s(163))}Za||512&e.flags&&rl(e)}catch(f){kc(e,e.return,f)}}if(e===t){$a=null;break}if(null!==(n=e.sibling)){n.return=e.return,$a=n;break}$a=e.return}}function _l(t){for(;null!==$a;){var e=$a;if(e===t){$a=null;break}var n=e.sibling;if(null!==n){n.return=e.return,$a=n;break}$a=e.return}}function xl(t){for(;null!==$a;){var e=$a;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{il(4,e)}catch(l){kc(e,n,l)}break;case 1:var i=e.stateNode;if("function"===typeof i.componentDidMount){var r=e.return;try{i.componentDidMount()}catch(l){kc(e,r,l)}}var s=e.return;try{rl(e)}catch(l){kc(e,s,l)}break;case 5:var o=e.return;try{rl(e)}catch(l){kc(e,o,l)}}}catch(l){kc(e,e.return,l)}if(e===t){$a=null;break}var a=e.sibling;if(null!==a){a.return=e.return,$a=a;break}$a=e.return}}var Sl,kl=Math.ceil,Cl=b.ReactCurrentDispatcher,Nl=b.ReactCurrentOwner,Al=b.ReactCurrentBatchConfig,El=0,Ll=null,Pl=null,jl=0,Rl=0,Tl=kr(0),Il=0,Fl=null,Ol=0,Ml=0,Dl=0,Bl=null,zl=null,Ul=0,ql=1/0,Wl=null,Hl=!1,Vl=null,Gl=null,Kl=!1,Yl=null,Xl=0,Zl=0,Jl=null,$l=-1,Ql=0;function tc(){return 0!==(6&El)?Jt():-1!==$l?$l:$l=Jt()}function ec(t){return 0===(1&t.mode)?1:0!==(2&El)&&0!==jl?jl&-jl:null!==gs.transition?(0===Ql&&(Ql=ge()),Ql):0!==(t=we)?t:t=void 0===(t=window.event)?16:Ze(t.type)}function nc(t,e,n,i){if(50<Zl)throw Zl=0,Jl=null,Error(s(185));ve(t,n,i),0!==(2&El)&&t===Ll||(t===Ll&&(0===(2&El)&&(Ml|=n),4===Il&&ac(t,jl)),ic(t,i),1===n&&0===El&&0===(1&e.mode)&&(ql=Jt()+500,Br&&qr()))}function ic(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-oe(s),a=1<<o,l=r[o];-1===l?0!==(a&n)&&0===(a&i)||(r[o]=fe(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}(t,e);var i=de(t,t===Ll?jl:0);if(0===i)null!==n&&Yt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(null!=n&&Yt(n),1===e)0===t.tag?function(t){Br=!0,Ur(t)}(lc.bind(null,t)):Ur(lc.bind(null,t)),or(function(){0===(6&El)&&qr()}),n=null;else{switch(be(i)){case 1:n=Qt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=ie}n=Lc(n,rc.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function rc(t,e){if($l=-1,Ql=0,0!==(6&El))throw Error(s(327));var n=t.callbackNode;if(xc()&&t.callbackNode!==n)return null;var i=de(t,t===Ll?jl:0);if(0===i)return null;if(0!==(30&i)||0!==(i&t.expiredLanes)||e)e=mc(t,i);else{e=i;var r=El;El|=2;var o=pc();for(Ll===t&&jl===e||(Wl=null,ql=Jt()+500,dc(t,e));;)try{yc();break}catch(l){fc(t,l)}Ns(),Cl.current=o,El=r,null!==Pl?e=0:(Ll=null,jl=0,e=Il)}if(0!==e){if(2===e&&(0!==(r=pe(t))&&(i=r,e=sc(t,r))),1===e)throw n=Fl,dc(t,0),ac(t,i),ic(t,Jt()),n;if(6===e)ac(t,i);else{if(r=t.current.alternate,0===(30&i)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!ai(s(),r))return!1}catch(a){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(r)&&(2===(e=mc(t,i))&&(0!==(o=pe(t))&&(i=o,e=sc(t,o))),1===e))throw n=Fl,dc(t,0),ac(t,i),ic(t,Jt()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(s(345));case 2:case 5:_c(t,zl,Wl);break;case 3:if(ac(t,i),(130023424&i)===i&&10<(e=Ul+500-Jt())){if(0!==de(t,0))break;if(((r=t.suspendedLanes)&i)!==i){tc(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=ir(_c.bind(null,t,zl,Wl),e);break}_c(t,zl,Wl);break;case 4:if(ac(t,i),(4194240&i)===i)break;for(e=t.eventTimes,r=-1;0<i;){var a=31-oe(i);o=1<<a,(a=e[a])>r&&(r=a),i&=~o}if(i=r,10<(i=(120>(i=Jt()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*kl(i/1960))-i)){t.timeoutHandle=ir(_c.bind(null,t,zl,Wl),i);break}_c(t,zl,Wl);break;default:throw Error(s(329))}}}return ic(t,Jt()),t.callbackNode===n?rc.bind(null,t):null}function sc(t,e){var n=Bl;return t.current.memoizedState.isDehydrated&&(dc(t,e).flags|=256),2!==(t=mc(t,e))&&(e=zl,zl=n,null!==e&&oc(e)),t}function oc(t){null===zl?zl=t:zl.push.apply(zl,t)}function ac(t,e){for(e&=~Dl,e&=~Ml,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-oe(e),i=1<<n;t[n]=-1,e&=~i}}function lc(t){if(0!==(6&El))throw Error(s(327));xc();var e=de(t,0);if(0===(1&e))return ic(t,Jt()),null;var n=mc(t,e);if(0!==t.tag&&2===n){var i=pe(t);0!==i&&(e=i,n=sc(t,i))}if(1===n)throw n=Fl,dc(t,0),ac(t,e),ic(t,Jt()),n;if(6===n)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_c(t,zl,Wl),ic(t,Jt()),null}function cc(t,e){var n=El;El|=1;try{return t(e)}finally{0===(El=n)&&(ql=Jt()+500,Br&&qr())}}function uc(t){null!==Yl&&0===Yl.tag&&0===(6&El)&&xc();var e=El;El|=1;var n=Al.transition,i=we;try{if(Al.transition=null,we=1,t)return t()}finally{we=i,Al.transition=n,0===(6&(El=e))&&qr()}}function hc(){Rl=Tl.current,Cr(Tl)}function dc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,rr(n)),null!==Pl)for(n=Pl.return;null!==n;){var i=n;switch(es(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Tr();break;case 3:Zs(),Cr(Lr),Cr(Er),no();break;case 5:$s(i);break;case 4:Zs();break;case 13:case 19:Cr(Qs);break;case 10:As(i.type._context);break;case 22:case 23:hc()}n=n.return}if(Ll=t,Pl=t=Tc(t.current,null),jl=Rl=e,Il=0,Fl=null,Dl=Ml=Ol=0,zl=Bl=null,null!==js){for(e=0;e<js.length;e++)if(null!==(i=(n=js[e]).interleaved)){n.interleaved=null;var r=i.next,s=n.pending;if(null!==s){var o=s.next;s.next=r,i.next=o}n.pending=i}js=null}return t}function fc(t,e){for(;;){var n=Pl;try{if(Ns(),io.current=$o,co){for(var i=oo.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}co=!1}if(so=0,lo=ao=oo=null,uo=!1,ho=0,Nl.current=null,null===n||null===n.return){Il=1,Fl=e,Pl=null;break}t:{var o=t,a=n.return,l=n,c=e;if(e=jl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ma(a);if(null!==p){p.flags&=-257,va(p,a,l,0,e),1&p.mode&&ga(o,u,e),c=u;var g=(e=p).updateQueue;if(null===g){var m=new Set;m.add(c),e.updateQueue=m}else g.add(c);break t}if(0===(1&e)){ga(o,u,e),gc();break t}c=Error(s(426))}else if(rs&&1&l.mode){var v=ma(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,e),ps(ca(c,l));break t}}o=c=ca(c,l),4!==Il&&(Il=2),null===Bl?Bl=[o]:Bl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e,Us(o,fa(0,c,e));break t;case 1:l=c;var y=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Gl||!Gl.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e,Us(o,pa(o,l,e));break t}}o=o.return}while(null!==o)}bc(n)}catch(b){e=b,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function pc(){var t=Cl.current;return Cl.current=$o,null===t?$o:t}function gc(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===Ll||0===(268435455&Ol)&&0===(268435455&Ml)||ac(Ll,jl)}function mc(t,e){var n=El;El|=2;var i=pc();for(Ll===t&&jl===e||(Wl=null,dc(t,e));;)try{vc();break}catch(r){fc(t,r)}if(Ns(),El=n,Cl.current=i,null!==Pl)throw Error(s(261));return Ll=null,jl=0,Il}function vc(){for(;null!==Pl;)wc(Pl)}function yc(){for(;null!==Pl&&!Xt();)wc(Pl)}function wc(t){var e=Sl(t.alternate,t,Rl);t.memoizedProps=t.pendingProps,null===e?bc(t):Pl=e,Nl.current=null}function bc(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Ka(n,e,Rl)))return void(Pl=n)}else{if(null!==(n=Ya(n,e)))return n.flags&=32767,void(Pl=n);if(null===t)return Il=6,void(Pl=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Pl=e);Pl=e=t}while(null!==e);0===Il&&(Il=5)}function _c(t,e,n){var i=we,r=Al.transition;try{Al.transition=null,we=1,function(t,e,n,i){do{xc()}while(null!==Yl);if(0!==(6&El))throw Error(s(327));n=t.finishedWork;var r=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-oe(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}(t,o),t===Ll&&(Pl=Ll=null,jl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Lc(ee,function(){return xc(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Al.transition,Al.transition=null;var a=we;we=1;var l=El;El|=4,Nl.current=null,function(t,e){if(tr=He,fi(t=di())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var i=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break t}var a=0,l=-1,c=-1,u=0,h=0,d=t,f=null;e:for(;;){for(var p;d!==n||0!==r&&3!==d.nodeType||(l=a+r),d!==o||0!==i&&3!==d.nodeType||(c=a+i),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===t)break e;if(f===n&&++u===r&&(l=a),f===o&&++h===i&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(er={focusedElem:t,selectionRange:n},He=!1,$a=e;null!==$a;)if(t=(e=$a).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,$a=t;else for(;null!==$a;){e=$a;try{var g=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:na(e.type,m),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(_){kc(e,e.return,_)}if(null!==(t=e.sibling)){t.return=e.return,$a=t;break}$a=e.return}g=el,el=!1}(t,n),ml(n,t),pi(er),He=!!tr,er=tr=null,t.current=n,yl(n,t,r),Zt(),El=l,we=a,Al.transition=o}else t.current=n;if(Kl&&(Kl=!1,Yl=t,Xl=r),o=t.pendingLanes,0===o&&(Gl=null),function(t){if(se&&"function"===typeof se.onCommitFiberRoot)try{se.onCommitFiberRoot(re,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),ic(t,Jt()),null!==e)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Hl)throw Hl=!1,t=Vl,Vl=null,t;0!==(1&Xl)&&0!==t.tag&&xc(),o=t.pendingLanes,0!==(1&o)?t===Jl?Zl++:(Zl=0,Jl=t):Zl=0,qr()}(t,e,n,i)}finally{Al.transition=r,we=i}return null}function xc(){if(null!==Yl){var t=be(Xl),e=Al.transition,n=we;try{if(Al.transition=null,we=16>t?16:t,null===Yl)var i=!1;else{if(t=Yl,Yl=null,Xl=0,0!==(6&El))throw Error(s(331));var r=El;for(El|=4,$a=t.current;null!==$a;){var o=$a,a=o.child;if(0!==(16&$a.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for($a=u;null!==$a;){var h=$a;switch(h.tag){case 0:case 11:case 15:nl(8,h,o)}var d=h.child;if(null!==d)d.return=h,$a=d;else for(;null!==$a;){var f=(h=$a).sibling,p=h.return;if(sl(h),h===u){$a=null;break}if(null!==f){f.return=p,$a=f;break}$a=p}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}$a=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,$a=a;else t:for(;null!==$a;){if(0!==(2048&(o=$a).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,$a=y;break t}$a=o.return}}var w=t.current;for($a=w;null!==$a;){var b=(a=$a).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,$a=b;else t:for(a=w;null!==$a;){if(0!==(2048&(l=$a).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(x){kc(l,l.return,x)}if(l===a){$a=null;break t}var _=l.sibling;if(null!==_){_.return=l.return,$a=_;break t}$a=l.return}}if(El=r,qr(),se&&"function"===typeof se.onPostCommitFiberRoot)try{se.onPostCommitFiberRoot(re,t)}catch(x){}i=!0}return i}finally{we=n,Al.transition=e}}return!1}function Sc(t,e,n){t=Bs(t,e=fa(0,e=ca(n,e),1),1),e=tc(),null!==t&&(ve(t,1,e),ic(t,e))}function kc(t,e,n){if(3===t.tag)Sc(t,t,n);else for(;null!==e;){if(3===e.tag){Sc(e,t,n);break}if(1===e.tag){var i=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Gl||!Gl.has(i))){e=Bs(e,t=pa(e,t=ca(n,t),1),1),t=tc(),null!==e&&(ve(e,1,t),ic(e,t));break}}e=e.return}}function Cc(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),e=tc(),t.pingedLanes|=t.suspendedLanes&n,Ll===t&&(jl&n)===n&&(4===Il||3===Il&&(130023424&jl)===jl&&500>Jt()-Ul?dc(t,0):Dl|=n),ic(t,e)}function Nc(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ue,0===(130023424&(ue<<=1))&&(ue=4194304)));var n=tc();null!==(t=Is(t,e))&&(ve(t,e,n),ic(t,n))}function Ac(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Nc(t,n)}function Ec(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(s(314))}null!==i&&i.delete(e),Nc(t,n)}function Lc(t,e){return Kt(t,e)}function Pc(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jc(t,e,n,i){return new Pc(t,e,n,i)}function Rc(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Tc(t,e){var n=t.alternate;return null===n?((n=jc(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ic(t,e,n,i,r,o){var a=2;if(i=t,"function"===typeof t)Rc(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case S:return Fc(n.children,r,o,e);case k:a=8,r|=8;break;case C:return(t=jc(12,n,e,2|r)).elementType=C,t.lanes=o,t;case L:return(t=jc(13,n,e,r)).elementType=L,t.lanes=o,t;case P:return(t=jc(19,n,e,r)).elementType=P,t.lanes=o,t;case T:return Oc(n,r,o,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case N:a=10;break t;case A:a=9;break t;case E:a=11;break t;case j:a=14;break t;case R:a=16,i=null;break t}throw Error(s(130,null==t?t:typeof t,""))}return(e=jc(a,n,e,r)).elementType=t,e.type=i,e.lanes=o,e}function Fc(t,e,n,i){return(t=jc(7,t,i,e)).lanes=n,t}function Oc(t,e,n,i){return(t=jc(22,t,i,e)).elementType=T,t.lanes=n,t.stateNode={isHidden:!1},t}function Mc(t,e,n){return(t=jc(6,t,null,e)).lanes=n,t}function Dc(t,e,n){return(e=jc(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Bc(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=me(0),this.expirationTimes=me(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function zc(t,e,n,i,r,s,o,a,l){return t=new Bc(t,e,n,a,l),1===e?(e=1,!0===s&&(e|=8)):e=0,s=jc(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Os(s),t}function Uc(t){if(!t)return Ar;t:{if(qt(t=t._reactInternals)!==t||1!==t.tag)throw Error(s(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Rr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(s(171))}if(1===t.tag){var n=t.type;if(Rr(n))return Fr(t,n,e)}return e}function qc(t,e,n,i,r,s,o,a,l){return(t=zc(n,i,!0,t,0,s,0,a,l)).context=Uc(null),n=t.current,(s=Ds(i=tc(),r=ec(n))).callback=void 0!==e&&null!==e?e:null,Bs(n,s,r),t.current.lanes=r,ve(t,r,i),ic(t,i),t}function Wc(t,e,n,i){var r=e.current,s=tc(),o=ec(r);return n=Uc(n),null===e.context?e.context=n:e.pendingContext=n,(e=Ds(s,o)).payload={element:t},null!==(i=void 0===i?null:i)&&(e.callback=i),null!==(t=Bs(r,e,o))&&(nc(t,r,o,s),zs(t,r,o)),o}function Hc(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Vc(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Gc(t,e){Vc(t,e),(t=t.alternate)&&Vc(t,e)}Sl=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Lr.current)wa=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return wa=!1,function(t,e,n){switch(e.tag){case 3:La(e),fs();break;case 5:Js(e);break;case 1:Rr(e.type)&&Or(e);break;case 4:Xs(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Nr(xs,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=e.memoizedState))return null!==i.dehydrated?(Nr(Qs,1&Qs.current),e.flags|=128,null):0!==(n&e.child.childLanes)?Ma(t,e,n):(Nr(Qs,1&Qs.current),null!==(t=Ha(t,e,n))?t.sibling:null);Nr(Qs,1&Qs.current);break;case 19:if(i=0!==(n&e.childLanes),0!==(128&t.flags)){if(i)return qa(t,e,n);e.flags|=128}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Nr(Qs,Qs.current),i)break;return null;case 22:case 23:return e.lanes=0,ka(t,e,n)}return Ha(t,e,n)}(t,e,n);wa=0!==(131072&t.flags)}else wa=!1,rs&&0!==(1048576&e.flags)&&Qr(e,Gr,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Wa(t,e),t=e.pendingProps;var r=jr(e,Er.current);Ls(e,n),r=mo(null,e,i,t,r,n);var o=vo();return e.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rr(i)?(o=!0,Or(e)):o=!1,e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Os(e),r.updater=ra,e.stateNode=r,r._reactInternals=e,la(e,i,t,n),e=Ea(null,e,i,!0,o,n)):(e.tag=0,rs&&o&&ts(e),ba(null,e,r,n),e=e.child),e;case 16:i=e.elementType;t:{switch(Wa(t,e),t=e.pendingProps,i=(r=i._init)(i._payload),e.type=i,r=e.tag=function(t){if("function"===typeof t)return Rc(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===E)return 11;if(t===j)return 14}return 2}(i),t=na(i,t),r){case 0:e=Na(null,e,i,t,n);break t;case 1:e=Aa(null,e,i,t,n);break t;case 11:e=_a(null,e,i,t,n);break t;case 14:e=xa(null,e,i,na(i.type,t),n);break t}throw Error(s(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,Na(t,e,i,r=e.elementType===i?r:na(i,r),n);case 1:return i=e.type,r=e.pendingProps,Aa(t,e,i,r=e.elementType===i?r:na(i,r),n);case 3:t:{if(La(e),null===t)throw Error(s(387));i=e.pendingProps,r=(o=e.memoizedState).element,Ms(t,e),qs(e,i,null,n);var a=e.memoizedState;if(i=a.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,256&e.flags){e=Pa(t,e,i,n,r=ca(Error(s(423)),e));break t}if(i!==r){e=Pa(t,e,i,n,r=ca(Error(s(424)),e));break t}for(is=cr(e.stateNode.containerInfo.firstChild),ns=e,rs=!0,ss=null,n=_s(e,null,i,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),i===r){e=Ha(t,e,n);break t}ba(t,e,i,n)}e=e.child}return e;case 5:return Js(e),null===t&&cs(e),i=e.type,r=e.pendingProps,o=null!==t?t.memoizedProps:null,a=r.children,nr(i,r)?a=null:null!==o&&nr(i,o)&&(e.flags|=32),Ca(t,e),ba(t,e,a,n),e.child;case 6:return null===t&&cs(e),null;case 13:return Ma(t,e,n);case 4:return Xs(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=bs(e,null,i,n):ba(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,_a(t,e,i,r=e.elementType===i?r:na(i,r),n);case 7:return ba(t,e,e.pendingProps,n),e.child;case 8:case 12:return ba(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,a=r.value,Nr(xs,i._currentValue),i._currentValue=a,null!==o)if(ai(o.value,a)){if(o.children===r.children&&!Lr.current){e=Ha(t,e,n);break t}}else for(null!==(o=e.child)&&(o.return=e);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===o.tag){(c=Ds(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Es(o.return,n,e),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===e.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Es(a,n,e),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===e){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}ba(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Ls(e,n),i=i(r=Ps(r)),e.flags|=1,ba(t,e,i,n),e.child;case 14:return r=na(i=e.type,e.pendingProps),xa(t,e,i,r=na(i.type,r),n);case 15:return Sa(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:na(i,r),Wa(t,e),e.tag=1,Rr(i)?(t=!0,Or(e)):t=!1,Ls(e,n),oa(e,i,r),la(e,i,r,n),Ea(null,e,i,!0,t,n);case 19:return qa(t,e,n);case 22:return ka(t,e,n)}throw Error(s(156,e.tag))};var Kc="function"===typeof reportError?reportError:function(t){console.error(t)};function Yc(t){this._internalRoot=t}function Xc(t){this._internalRoot=t}function Zc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Jc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function $c(){}function Qc(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof r){var a=r;r=function(){var t=Hc(o);a.call(t)}}Wc(e,o,t,r)}else o=function(t,e,n,i,r){if(r){if("function"===typeof i){var s=i;i=function(){var t=Hc(o);s.call(t)}}var o=qc(e,i,t,0,null,!1,0,"",$c);return t._reactRootContainer=o,t[pr]=o.current,qi(8===t.nodeType?t.parentNode:t),uc(),o}for(;r=t.lastChild;)t.removeChild(r);if("function"===typeof i){var a=i;i=function(){var t=Hc(l);a.call(t)}}var l=zc(t,0,!1,null,0,!1,0,"",$c);return t._reactRootContainer=l,t[pr]=l.current,qi(8===t.nodeType?t.parentNode:t),uc(function(){Wc(e,l,n,i)}),l}(n,e,t,r,i);return Hc(o)}Xc.prototype.render=Yc.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(s(409));Wc(t,e,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;uc(function(){Wc(null,t,null,null)}),e[pr]=null}},Xc.prototype.unstable_scheduleHydration=function(t){if(t){var e=ke();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Te.length&&0!==e&&e<Te[n].priority;n++);Te.splice(n,0,t),0===n&&Me(t)}},_e=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=he(e.pendingLanes);0!==n&&(ye(e,1|n),ic(e,Jt()),0===(6&El)&&(ql=Jt()+500,qr()))}break;case 13:uc(function(){var e=Is(t,1);if(null!==e){var n=tc();nc(e,t,1,n)}}),Gc(t,1)}},xe=function(t){if(13===t.tag){var e=Is(t,134217728);if(null!==e)nc(e,t,134217728,tc());Gc(t,134217728)}},Se=function(t){if(13===t.tag){var e=ec(t),n=Is(t,e);if(null!==n)nc(n,t,e,tc());Gc(t,e)}},ke=function(){return we},Ce=function(t,e){var n=we;try{return we=t,e()}finally{we=n}},xt=function(t,e,n){switch(e){case"input":if($(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=_r(i);if(!r)throw Error(s(90));K(i),$(i,r)}}}break;case"textarea":st(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},Et=cc,Lt=uc;var tu={usingClientEntryPoint:!1,Events:[wr,br,_r,Nt,At,cc]},eu={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Vt(t))?null:t.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{re=iu.inject(nu),se=iu}catch(ut){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(e))throw Error(s(200));return function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!Zc(t))throw Error(s(299));var n=!1,i="",r=Kc;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(i=e.identifierPrefix),void 0!==e.onRecoverableError&&(r=e.onRecoverableError)),e=zc(t,1,!1,null,0,n,0,i,r),t[pr]=e.current,qi(8===t.nodeType?t.parentNode:t),new Yc(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(s(188));throw t=Object.keys(t).join(","),Error(s(268,t))}return t=null===(t=Vt(e))?null:t.stateNode},e.flushSync=function(t){return uc(t)},e.hydrate=function(t,e,n){if(!Jc(e))throw Error(s(200));return Qc(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Zc(t))throw Error(s(405));var i=null!=n&&n.hydratedSources||null,r=!1,o="",a=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),e=qc(e,null,t,1,null!=n?n:null,r,0,o,a),t[pr]=e.current,qi(t),i)for(t=0;t<i.length;t++)r=(r=(n=i[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Xc(e)},e.render=function(t,e,n){if(!Jc(e))throw Error(s(200));return Qc(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Jc(t))throw Error(s(40));return!!t._reactRootContainer&&(uc(function(){Qc(null,null,t,!1,function(){t._reactRootContainer=null,t[pr]=null})}),!0)},e.unstable_batchedUpdates=cc,e.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Jc(n))throw Error(s(200));if(null==t||void 0===t._reactInternals)throw Error(s(38));return Qc(t,e,n,!1,i)},e.version="18.3.1-next-f1338f8080-20240426"},694:(t,e,n)=>{"use strict";function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}n.d(e,{A:()=>i})},1241:(t,e,n)=>{"use strict";var i=n(9643),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var i,s={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(u=e.ref),e)o.call(e,i)&&!l.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps)void 0===s[i]&&(s[i]=e[i]);return{$$typeof:r,type:t,key:c,ref:u,props:s,_owner:a.current}}e.Fragment=s,e.jsx=c,e.jsxs=c},1261:(t,e,n)=>{"use strict";t.exports=n(3498)},1838:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var i=n(694);function r(t){var e=function(t,e){if("object"!=(0,i.A)(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=(0,i.A)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==(0,i.A)(e)?e:e+""}function s(t,e,n){return(e=r(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},3498:(t,e)=>{"use strict";function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var i=n-1>>>1,r=t[i];if(!(0<s(r,e)))break t;t[i]=e,t[n]=r,n=i}}function i(t){return 0===t.length?null:t[0]}function r(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,r=t.length,o=r>>>1;i<o;){var a=2*(i+1)-1,l=t[a],c=a+1,u=t[c];if(0>s(l,n))c<r&&0>s(u,l)?(t[i]=u,t[c]=n,i=c):(t[i]=l,t[a]=n,i=a);else{if(!(c<r&&0>s(u,n)))break t;t[i]=u,t[c]=n,i=c}}}return e}function s(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(t){for(var e=i(u);null!==e;){if(null===e.callback)r(u);else{if(!(e.startTime<=t))break;r(u),e.sortIndex=e.expirationTime,n(c,e)}e=i(u)}}function _(t){if(m=!1,b(t),!g)if(null!==i(c))g=!0,T(x);else{var e=i(u);null!==e&&I(_,e.startTime-t)}}function x(t,n){g=!1,m&&(m=!1,y(N),N=-1),p=!0;var s=f;try{for(b(n),d=i(c);null!==d&&(!(d.expirationTime>n)||t&&!L());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=e.unstable_now(),"function"===typeof a?d.callback=a:d===i(c)&&r(c),b(n)}else r(c);d=i(c)}if(null!==d)var l=!0;else{var h=i(u);null!==h&&I(_,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,C=null,N=-1,A=5,E=-1;function L(){return!(e.unstable_now()-E<A)}function P(){if(null!==C){var t=e.unstable_now();E=t;var n=!0;try{n=C(!0,t)}finally{n?S():(k=!1,C=null)}}else k=!1}if("function"===typeof w)S=function(){w(P)};else if("undefined"!==typeof MessageChannel){var j=new MessageChannel,R=j.port2;j.port1.onmessage=P,S=function(){R.postMessage(null)}}else S=function(){v(P,0)};function T(t){C=t,k||(k=!0,S())}function I(t,n){N=v(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,T(x))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return i(c)},e.unstable_next=function(t){switch(f){case 1:case 2:case 3:var e=3;break;default:e=f}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_scheduleCallback=function(t,r,s){var o=e.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return t={id:h++,callback:r,priorityLevel:t,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(t.sortIndex=s,n(u,t),null===i(c)&&t===i(u)&&(m?(y(N),N=-1):m=!0,I(_,s-o))):(t.sortIndex=a,n(c,t),g||p||(g=!0,T(x))),t},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(t){var e=f;return function(){var n=f;f=e;try{return t.apply(this,arguments)}finally{f=n}}}},3766:(t,e,n)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(306)},6507:(t,e,n)=>{"use strict";t.exports=n(1241)},8367:(t,e,n)=>{"use strict";var i=n(3766);e.createRoot=i.createRoot,e.hydrateRoot=i.hydrateRoot},9643:(t,e,n)=>{"use strict";t.exports=n(226)}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var s=e[i]={exports:{}};return t[i].call(s.exports,s,s.exports,n),s.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var s=Object.create(null);n.r(s);var o={};t=t||[null,e({}),e([]),e(e)];for(var a=2&r&&i;("object"==typeof a||"function"==typeof a)&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach(t=>o[t]=()=>i[t]);return o.default=()=>i,n.d(s,o),s}})(),n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.f={},n.e=t=>Promise.all(Object.keys(n.f).reduce((e,i)=>(n.f[i](t,e),e),[])),n.u=t=>"static/js/"+t+"."+{171:"e77f077a",743:"6038e902",917:"8bad6d18"}[t]+".chunk.js",n.miniCssF=t=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={},e="cleanstreet-dashboard:";n.l=(i,r,s,o)=>{if(t[i])t[i].push(r);else{var a,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==i||h.getAttribute("data-webpack")==e+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",e+s),a.src=i),t[i]=[r];var d=(e,n)=>{a.onerror=a.onload=null,clearTimeout(f);var r=t[i];if(delete t[i],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach(t=>t(n)),e)return e(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.p="/",(()=>{var t={792:0};n.f.j=(e,i)=>{var r=n.o(t,e)?t[e]:void 0;if(0!==r)if(r)i.push(r[2]);else{var s=new Promise((n,i)=>r=t[e]=[n,i]);i.push(r[2]=s);var o=n.p+n.u(e),a=new Error;n.l(o,i=>{if(n.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var s=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;a.message="Loading chunk "+e+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,r[1](a)}},"chunk-"+e,e)}};var e=(e,i)=>{var r,s,[o,a,l]=i,c=0;if(o.some(e=>0!==t[e])){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(l)l(n)}for(e&&e(i);c<o.length;c++)s=o[c],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0},i=self.webpackChunkcleanstreet_dashboard=self.webpackChunkcleanstreet_dashboard||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})(),(()=>{"use strict";var t={};n.r(t),n.d(t,{hasBrowserEnv:()=>Cn,hasStandardBrowserEnv:()=>An,hasStandardBrowserWebWorkerEnv:()=>En,navigator:()=>Nn,origin:()=>Ln});var e=n(9643),i=n(8367),r=n(1838);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach(function(e){(0,r.A)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function a(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(-1!==e.indexOf(i))continue;n[i]=t[i]}return n}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}const l=["sri"],c=["page"],u=["page","matches"],h=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],d=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],f=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var p="popstate";function g(){return x(function(t,e){let{pathname:n,search:i,hash:r}=t.location;return w("",{pathname:n,search:i,hash:r},e.state&&e.state.usr||null,e.state&&e.state.key||"default")},function(t,e){return"string"===typeof e?e:b(e)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function m(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function v(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(n){}}}function y(t,e){return{usr:t.state,key:t.key,idx:e}}function w(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return o(o({pathname:"string"===typeof t?t:t.pathname,search:"",hash:""},"string"===typeof e?_(e):e),{},{state:n,key:e&&e.key||i||Math.random().toString(36).substring(2,10)})}function b(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&"?"!==n&&(e+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(e+="#"===i.charAt(0)?i:"#"+i),e}function _(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function x(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,l="POP",c=null,u=h();function h(){return(a.state||{idx:null}).idx}function d(){l="POP";let t=h(),e=null==t?null:t-u;u=t,c&&c({action:l,location:g.location,delta:e})}function f(t){return S(t)}null==u&&(u=0,a.replaceState(o(o({},a.state),{},{idx:u}),""));let g={get action(){return l},get location(){return t(r,a)},listen(t){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(p,d),c=t,()=>{r.removeEventListener(p,d),c=null}},createHref:t=>e(r,t),createURL:f,encodeLocation(t){let e=f(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(t,e){l="PUSH";let i=w(g.location,t,e);n&&n(i,t),u=h()+1;let o=y(i,u),d=g.createHref(i);try{a.pushState(o,"",d)}catch(nr){if(nr instanceof DOMException&&"DataCloneError"===nr.name)throw nr;r.location.assign(d)}s&&c&&c({action:l,location:g.location,delta:1})},replace:function(t,e){l="REPLACE";let i=w(g.location,t,e);n&&n(i,t),u=h();let r=y(i,u),o=g.createHref(i);a.replaceState(r,"",o),s&&c&&c({action:l,location:g.location,delta:0})},go:t=>a.go(t)};return g}function S(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),m(n,"No window.location.(origin|href) available to create URL");let i="string"===typeof t?t:b(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}new WeakMap;function k(t,e){return C(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function C(t,e,n,i){let r=z(("string"===typeof e?_(e):e).pathname||"/",n);if(null==r)return null;let s=N(t);!function(t){t.sort((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let n=t.length===e.length&&t.slice(0,-1).every((t,n)=>t===e[n]);return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map(t=>t.childrenIndex),e.routesMeta.map(t=>t.childrenIndex)))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let t=B(r);o=O(s[a],t,i)}return o}function N(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=function(t,s){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,a=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===a?t.path||"":a,caseSensitive:!0===t.caseSensitive,childrenIndex:s,route:t};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(i)&&o)return;m(l.relativePath.startsWith(i),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(i,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(i.length)}let c=V([i,l.relativePath]),u=n.concat(l);t.children&&t.children.length>0&&(m(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),N(t.children,e,u,c,o)),(null!=t.path||t.index)&&e.push({path:c,score:F(c,t.index),routesMeta:u})};return t.forEach((t,e)=>{var n;if(""!==t.path&&null!==(n=t.path)&&void 0!==n&&n.includes("?"))for(let i of A(t.path))s(t,e,!0,i);else s(t,e)}),e}function A(t){let e=t.split("/");if(0===e.length)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===i.length)return r?[s,""]:[s];let o=A(i.join("/")),a=[];return a.push(...o.map(t=>""===t?s:[s,t].join("/"))),r&&a.push(...o),a.map(e=>t.startsWith("/")&&""===e?"/":e)}var E=/^:[\w-]+$/,L=3,P=2,j=1,R=10,T=-2,I=t=>"*"===t;function F(t,e){let n=t.split("/"),i=n.length;return n.some(I)&&(i+=T),e&&(i+=P),n.filter(t=>!I(t)).reduce((t,e)=>t+(E.test(e)?L:""===e?j:R),i)}function O(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:i}=t,r={},s="/",o=[];for(let a=0;a<i.length;++a){let t=i[a],l=a===i.length-1,c="/"===s?e:e.slice(s.length)||"/",u=M({path:t.relativePath,caseSensitive:t.caseSensitive,end:l},c),h=t.route;if(!u&&l&&n&&!i[i.length-1].route.index&&(u=M({path:t.relativePath,caseSensitive:t.caseSensitive,end:!1},c)),!u)return null;Object.assign(r,u.params),o.push({params:r,pathname:V([s,u.pathname]),pathnameBase:G(V([s,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(s=V([s,u.pathnameBase]))}return o}function M(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=D(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((t,e,n)=>{let{paramName:i,isOptional:r}=e;if("*"===i){let t=a[n]||"";o=s.slice(0,s.length-t.length).replace(/(.)\/+$/,"$1")}const l=a[n];return t[i]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),t},{}),pathname:s,pathnameBase:o,pattern:t}}function D(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];v("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'.concat(t,'" will be treated as if it were "').concat(t.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(t.replace(/\*$/,"/*"),'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(t,e,n)=>(i.push({paramName:e,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),r+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==t&&"/"!==t&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function B(t){try{return t.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(nr){return v(!1,'The URL path "'.concat(t,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(nr,").")),t}}function z(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&"/"!==i?null:t.slice(n)||"/"}function U(t,e,n,i){return"Cannot include a '".concat(t,"' character in a manually specified `to.").concat(e,"` field [").concat(JSON.stringify(i),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function q(t){return t.filter((t,e)=>0===e||t.route.path&&t.route.path.length>0)}function W(t){let e=q(t);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function H(t,e,n){let i,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof t?i=_(t):(i=o({},t),m(!i.pathname||!i.pathname.includes("?"),U("?","pathname","search",i)),m(!i.pathname||!i.pathname.includes("#"),U("#","pathname","hash",i)),m(!i.search||!i.search.includes("#"),U("#","search","hash",i)));let s,a=""===t||""===i.pathname,l=a?"/":i.pathname;if(null==l)s=n;else{let t=e.length-1;if(!r&&l.startsWith("..")){let e=l.split("/");for(;".."===e[0];)e.shift(),t-=1;i.pathname=e.join("/")}s=t>=0?e[t]:"/"}let c=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:i="",hash:r=""}="string"===typeof t?_(t):t,s=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)}),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:s,search:K(i),hash:Y(r)}}(i,s),u=l&&"/"!==l&&l.endsWith("/"),h=(a||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!h||(c.pathname+="/"),c}var V=t=>t.join("/").replace(/\/\/+/g,"/"),G=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),K=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",Y=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";function X(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"boolean"===typeof t.internal&&"data"in t}var Z=["POST","PUT","PATCH","DELETE"],J=(new Set(Z),["GET",...Z]);new Set(J),Symbol("ResetLoaderData");var $=e.createContext(null);$.displayName="DataRouter";var Q=e.createContext(null);Q.displayName="DataRouterState";var tt=e.createContext(!1);var et=e.createContext({isTransitioning:!1});et.displayName="ViewTransition";var nt=e.createContext(new Map);nt.displayName="Fetchers";var it=e.createContext(null);it.displayName="Await";var rt=e.createContext(null);rt.displayName="Navigation";var st=e.createContext(null);st.displayName="Location";var ot=e.createContext({outlet:null,matches:[],isDataRoute:!1});ot.displayName="Route";var at=e.createContext(null);at.displayName="RouteError";function lt(){return null!=e.useContext(st)}function ct(){return m(lt(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(st).location}var ut="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ht(t){e.useContext(rt).static||e.useLayoutEffect(t)}function dt(){let{isDataRoute:t}=e.useContext(ot);return t?function(){let{router:t}=_t("useNavigate"),n=St("useNavigate"),i=e.useRef(!1);ht(()=>{i.current=!0});let r=e.useCallback(async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(i.current,ut),i.current&&("number"===typeof e?t.navigate(e):await t.navigate(e,o({fromRouteId:n},r)))},[t,n]);return r}():function(){m(lt(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext($),{basename:n,navigator:i}=e.useContext(rt),{matches:r}=e.useContext(ot),{pathname:s}=ct(),o=JSON.stringify(W(r)),a=e.useRef(!1);ht(()=>{a.current=!0});let l=e.useCallback(function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(v(a.current,ut),!a.current)return;if("number"===typeof e)return void i.go(e);let l=H(e,JSON.parse(o),s,"path"===r.relative);null==t&&"/"!==n&&(l.pathname="/"===l.pathname?n:V([n,l.pathname])),(r.replace?i.replace:i.push)(l,r.state,r)},[n,i,o,s,t]);return l}()}e.createContext(null);function ft(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:i}=e.useContext(ot),{pathname:r}=ct(),s=JSON.stringify(W(i));return e.useMemo(()=>H(t,JSON.parse(s),r,"path"===n),[t,s,r,n])}function pt(t,n,i,r,s){m(lt(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=e.useContext(rt),{matches:l}=e.useContext(ot),c=l[l.length-1],u=c?c.params:{},h=c?c.pathname:"/",d=c?c.pathnameBase:"/",f=c&&c.route;{let t=f&&f.path||"";Nt(h,!f||t.endsWith("*")||t.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(h,'" (under <Route path="').concat(t,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(t,'"> to <Route path="').concat("/"===t?"*":"".concat(t,"/*"),'">.'))}let p,g=ct();if(n){var y;let t="string"===typeof n?_(n):n;m("/"===d||(null===(y=t.pathname)||void 0===y?void 0:y.startsWith(d)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(d,'" but pathname "').concat(t.pathname,'" was given in the `location` prop.')),p=t}else p=g;let w=p.pathname||"/",b=w;if("/"!==d){let t=d.replace(/^\//,"").split("/");b="/"+w.replace(/^\//,"").split("/").slice(t.length).join("/")}let x=k(t,{pathname:b});v(f||null!=x,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),v(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let S=wt(x&&x.map(t=>Object.assign({},t,{params:Object.assign({},u,t.params),pathname:V([d,a.encodeLocation?a.encodeLocation(t.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?d:V([d,a.encodeLocation?a.encodeLocation(t.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:t.pathnameBase])})),l,i,r,s);return n&&S?e.createElement(st.Provider,{value:{location:o({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},S):S}function gt(){let t=kt(),n=X(t)?"".concat(t.status," ").concat(t.statusText):t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=e.createElement(e.Fragment,null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:o},"ErrorBoundary")," or"," ",e.createElement("code",{style:o},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),i?e.createElement("pre",{style:s},i):null,a)}var mt=e.createElement(gt,null),vt=class extends e.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return void 0!==this.state.error?e.createElement(ot.Provider,{value:this.props.routeContext},e.createElement(at.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yt(t){let{routeContext:n,match:i,children:r}=t,s=e.useContext($);return s&&s.static&&s.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=i.route.id),e.createElement(ot.Provider,{value:n},r)}function wt(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==t){if(!i)return null;if(i.errors)t=i.matches;else{if(0!==n.length||i.initialized||!(i.matches.length>0))return null;t=i.matches}}let s=t,o=null===i||void 0===i?void 0:i.errors;if(null!=o){let t=s.findIndex(t=>t.route.id&&void 0!==(null===o||void 0===o?void 0:o[t.route.id]));m(t>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(o).join(","))),s=s.slice(0,Math.min(s.length,t+1))}let a=!1,l=-1;if(i)for(let e=0;e<s.length;e++){let t=s[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(l=e),t.route.id){let{loaderData:e,errors:n}=i,r=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||r){a=!0,s=l>=0?s.slice(0,l+1):[s[0]];break}}}return s.reduceRight((t,c,u)=>{let h,d=!1,f=null,p=null;i&&(h=o&&c.route.id?o[c.route.id]:void 0,f=c.route.errorElement||mt,a&&(l<0&&0===u?(Nt("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):l===u&&(d=!0,p=c.route.hydrateFallbackElement||null)));let g=n.concat(s.slice(0,u+1)),m=()=>{let n;return n=h?f:d?p:c.route.Component?e.createElement(c.route.Component,null):c.route.element?c.route.element:t,e.createElement(yt,{match:c,routeContext:{outlet:t,matches:g,isDataRoute:null!=i},children:n})};return i&&(c.route.ErrorBoundary||c.route.errorElement||0===u)?e.createElement(vt,{location:i.location,revalidation:i.revalidation,component:f,error:h,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0},unstable_onError:r}):m()},null)}function bt(t){return"".concat(t," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function _t(t){let n=e.useContext($);return m(n,bt(t)),n}function xt(t){let n=e.useContext(Q);return m(n,bt(t)),n}function St(t){let n=function(t){let n=e.useContext(ot);return m(n,bt(t)),n}(t),i=n.matches[n.matches.length-1];return m(i.route.id,"".concat(t,' can only be used on routes that contain a unique "id"')),i.route.id}function kt(){var t;let n=e.useContext(at),i=xt("useRouteError"),r=St("useRouteError");return void 0!==n?n:null===(t=i.errors)||void 0===t?void 0:t[r]}var Ct={};function Nt(t,e,n){e||Ct[t]||(Ct[t]=!0,v(!1,n))}var At={};function Et(t,e){t||At[e]||(At[e]=!0,console.warn(e))}e.memo(function(t){let{routes:e,future:n,state:i,unstable_onError:r}=t;return pt(e,void 0,i,r,n)});function Lt(t){let{to:n,replace:i,state:r,relative:s}=t;m(lt(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=e.useContext(rt);v(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=e.useContext(ot),{pathname:l}=ct(),c=dt(),u=H(n,W(a),l,"path"===s),h=JSON.stringify(u);return e.useEffect(()=>{c(JSON.parse(h),{replace:i,state:r,relative:s})},[c,h,s,i,r]),null}function Pt(t){m(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jt(t){let{basename:n="/",children:i=null,location:r,navigationType:s="POP",navigator:o,static:a=!1}=t;m(!lt(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=e.useMemo(()=>({basename:l,navigator:o,static:a,future:{}}),[l,o,a]);"string"===typeof r&&(r=_(r));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:p="default"}=r,g=e.useMemo(()=>{let t=z(u,l);return null==t?null:{location:{pathname:t,search:h,hash:d,state:f,key:p},navigationType:s}},[l,u,h,d,f,p,s]);return v(null!=g,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(h).concat(d,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==g?null:e.createElement(rt.Provider,{value:c},e.createElement(st.Provider,{children:i,value:g}))}function Rt(t){let{children:e,location:n}=t;return pt(Tt(e),n)}e.Component;function Tt(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=[];return e.Children.forEach(t,(t,r)=>{if(!e.isValidElement(t))return;let s=[...n,r];if(t.type===e.Fragment)return void i.push.apply(i,Tt(t.props.children,s));m(t.type===Pt,"[".concat("string"===typeof t.type?t.type:t.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),m(!t.props.index||!t.props.children,"An index route cannot have child routes.");let o={id:t.props.id||s.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,middleware:t.props.middleware,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=Tt(t.props.children,s)),i.push(o)}),i}var It="get",Ft="application/x-www-form-urlencoded";function Ot(t){return null!=t&&"string"===typeof t.tagName}var Mt=null;var Dt=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bt(t){return null==t||Dt.has(t)?t:(v(!1,'"'.concat(t,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Ft,'"')),null)}function zt(t,e){let n,i,r,s,o;if(Ot(a=t)&&"form"===a.tagName.toLowerCase()){let o=t.getAttribute("action");i=o?z(o,e):null,n=t.getAttribute("method")||It,r=Bt(t.getAttribute("enctype"))||Ft,s=new FormData(t)}else if(function(t){return Ot(t)&&"button"===t.tagName.toLowerCase()}(t)||function(t){return Ot(t)&&"input"===t.tagName.toLowerCase()}(t)&&("submit"===t.type||"image"===t.type)){let o=t.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=t.getAttribute("formaction")||o.getAttribute("action");if(i=a?z(a,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||It,r=Bt(t.getAttribute("formenctype"))||Bt(o.getAttribute("enctype"))||Ft,s=new FormData(o,t),!function(){if(null===Mt)try{new FormData(document.createElement("form"),0),Mt=!1}catch(t){Mt=!0}return Mt}()){let{name:e,type:n,value:i}=t;if("image"===n){let t=e?"".concat(e,"."):"";s.append("".concat(t,"x"),"0"),s.append("".concat(t,"y"),"0")}else e&&s.append(e,i)}}else{if(Ot(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=It,i=null,r=Ft,o=t}var a;return s&&"text/plain"===r&&(o=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Ut(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}Symbol("SingleFetchRedirect");function qt(t,e,n){let i="string"===typeof t?new URL(t,"undefined"===typeof window?"server://singlefetch/":window.location.origin):t;return"/"===i.pathname?i.pathname="_root.".concat(n):e&&"/"===z(i.pathname,e)?i.pathname="".concat(e.replace(/\/$/,""),"/_root.").concat(n):i.pathname="".concat(i.pathname.replace(/\/$/,""),".").concat(n),i}async function Wt(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(nr){return console.error("Error loading route module `".concat(t.module,"`, reloading page...")),console.error(nr),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ht(t){return null!=t&&"string"===typeof t.page}function Vt(t){return null!=t&&(null==t.href?"preload"===t.rel&&"string"===typeof t.imageSrcSet&&"string"===typeof t.imageSizes:"string"===typeof t.rel&&"string"===typeof t.href)}function Gt(t,e,n,i,r,s){let o=(t,e)=>!n[e]||t.route.id!==n[e].route.id,a=(t,e)=>{var i;return n[e].pathname!==t.pathname||(null===(i=n[e].route.path)||void 0===i?void 0:i.endsWith("*"))&&n[e].params["*"]!==t.params["*"]};return"assets"===s?e.filter((t,e)=>o(t,e)||a(t,e)):"data"===s?e.filter((e,s)=>{let l=i.routes[e.route.id];if(!l||!l.hasLoader)return!1;if(o(e,s)||a(e,s))return!0;if(e.route.shouldRevalidate){var c;let i=e.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(t,window.origin),nextParams:e.params,defaultShouldRevalidate:!0});if("boolean"===typeof i)return i}return!0}):[]}function Kt(t,e){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i=t.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let r=[i.module];return i.clientActionModule&&(r=r.concat(i.clientActionModule)),i.clientLoaderModule&&(r=r.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(r=r.concat(i.hydrateFallbackModule)),i.imports&&(r=r.concat(i.imports)),r}).flat(1),[...new Set(i)];var i}function Yt(t,e){let n=new Set,i=new Set(e);return t.reduce((t,r)=>{if(e&&!Ht(r)&&"script"===r.as&&r.href&&i.has(r.href))return t;let s=JSON.stringify(function(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}(r));return n.has(s)||(n.add(s),t.push({key:s,link:r})),t},[])}function Xt(t,e){return"lazy"===t.mode&&!0===e}function Zt(){let t=e.useContext($);return Ut(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Jt(){let t=e.useContext(Q);return Ut(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var $t=e.createContext(void 0);function Qt(){let t=e.useContext($t);return Ut(t,"You must render this element inside a <HydratedRouter> element"),t}function te(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function ee(t,e,n){if(n&&!se)return[t[0]];if(e){let n=t.findIndex(t=>void 0!==e[t.route.id]);return t.slice(0,n+1)}return t}$t.displayName="FrameworkContext";function ne(t){let{page:n}=t,i=a(t,c),{router:r}=Zt(),s=e.useMemo(()=>k(r.routes,n,r.basename),[r.routes,n,r.basename]);return s?e.createElement(re,o({page:n,matches:s},i)):null}function ie(t){let{manifest:n,routeModules:i}=Qt(),[r,s]=e.useState([]);return e.useEffect(()=>{let e=!1;return async function(t,e,n){return Yt((await Promise.all(t.map(async t=>{let i=e.routes[t.route.id];if(i){let t=await Wt(i,n);return t.links?t.links():[]}return[]}))).flat(1).filter(Vt).filter(t=>"stylesheet"===t.rel||"preload"===t.rel).map(t=>"stylesheet"===t.rel?o(o({},t),{},{rel:"prefetch",as:"style"}):o(o({},t),{},{rel:"prefetch"})))}(t,n,i).then(t=>{e||s(t)}),()=>{e=!0}},[t,n,i]),r}function re(t){let{page:n,matches:i}=t,r=a(t,u),s=ct(),{manifest:l,routeModules:c}=Qt(),{basename:h}=Zt(),{loaderData:d,matches:f}=Jt(),p=e.useMemo(()=>Gt(n,i,f,l,s,"data"),[n,i,f,l,s]),g=e.useMemo(()=>Gt(n,i,f,l,s,"assets"),[n,i,f,l,s]),m=e.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let t=new Set,e=!1;if(i.forEach(n=>{var i;let r=l.routes[n.route.id];r&&r.hasLoader&&(!p.some(t=>t.route.id===n.route.id)&&n.route.id in d&&null!==(i=c[n.route.id])&&void 0!==i&&i.shouldRevalidate||r.hasClientLoader?e=!0:t.add(n.route.id))}),0===t.size)return[];let r=qt(n,h,"data");return e&&t.size>0&&r.searchParams.set("_routes",i.filter(e=>t.has(e.route.id)).map(t=>t.route.id).join(",")),[r.pathname+r.search]},[h,d,s,l,p,i,n,c]),v=e.useMemo(()=>Kt(g,l),[g,l]),y=ie(g);return e.createElement(e.Fragment,null,m.map(t=>e.createElement("link",o({key:t,rel:"prefetch",as:"fetch",href:t},r))),v.map(t=>e.createElement("link",o({key:t,rel:"modulepreload",href:t},r))),y.map(t=>{let{key:n,link:i}=t;return e.createElement("link",o({key:n,nonce:r.nonce},i))}))}var se=!1;function oe(t){let{manifest:n,serverHandoffString:i,isSpaMode:r,renderMeta:s,routeDiscovery:c,ssr:u}=Qt(),{router:h,static:d,staticContext:f}=Zt(),{matches:p}=Jt(),g=e.useContext(tt),m=Xt(c,u);s&&(s.didRenderScripts=!0);let v=ee(p,null,r);e.useEffect(()=>{0},[]);let y=e.useMemo(()=>{var r;if(g)return null;let s=f?"window.__reactRouterContext = ".concat(i,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",c=d?"".concat(null!==n.hmr&&void 0!==r&&r.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(m?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(v.map((t,e)=>{let i="route".concat(e),r=n.routes[t.route.id];Ut(r,"Route ".concat(t.route.id," not found in manifest"));let{clientActionModule:s,clientLoaderModule:o,clientMiddlewareModule:a,hydrateFallbackModule:l,module:c}=r,u=[...s?[{module:s,varName:"".concat(i,"_clientAction")}]:[],...o?[{module:o,varName:"".concat(i,"_clientLoader")}]:[],...a?[{module:a,varName:"".concat(i,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(i,"_HydrateFallback")}]:[],{module:c,varName:"".concat(i,"_main")}];return 1===u.length?"import * as ".concat(i," from ").concat(JSON.stringify(c),";"):[u.map(t=>"import * as ".concat(t.varName,' from "').concat(t.module,'";')).join("\n"),"const ".concat(i," = {").concat(u.map(t=>"...".concat(t.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(m?"window.__reactRouterManifest = ".concat(JSON.stringify(function(t,e){let{sri:n}=t,i=a(t,l),r=new Set(e.state.matches.map(t=>t.route.id)),s=e.state.location.pathname.split("/").filter(Boolean),c=["/"];for(s.pop();s.length>0;)c.push("/".concat(s.join("/"))),s.pop();c.forEach(t=>{let n=k(e.routes,t,e.basename);n&&n.forEach(t=>r.add(t.route.id))});let u=[...r].reduce((t,e)=>Object.assign(t,{[e]:i.routes[e]}),{});return o(o({},i),{},{routes:u,sri:!!n||void 0})}(n,h),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((t,e)=>"".concat(JSON.stringify(t.route.id),":route").concat(e)).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return e.createElement(e.Fragment,null,e.createElement("script",o(o({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:s},type:void 0})),e.createElement("script",o(o({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:c},type:"module",async:!0})))},[]),w=se||g?[]:(n.entry.imports.concat(Kt(v,n,{includeHydrateFallback:!0})),[...new Set(b)]);var b;let _="object"===typeof n.sri?n.sri:{};return Et(!g,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),se||g?null:e.createElement(e.Fragment,null,"object"===typeof n.sri?e.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:_})}}):null,m?null:e.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:t.crossOrigin,integrity:_[n.url],suppressHydrationWarning:!0}),e.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:t.crossOrigin,integrity:_[n.entry.module],suppressHydrationWarning:!0}),w.map(n=>e.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:t.crossOrigin,integrity:_[n],suppressHydrationWarning:!0})),y)}function ae(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return t=>{e.forEach(e=>{"function"===typeof e?e(t):null!=e&&(e.current=t)})}}e.Component;function le(t){let{error:n,isOutsideRemixApp:i}=t;console.error(n);let r,s=e.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(X(n))return e.createElement(ce,{title:"Unhandled Thrown Response!"},e.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),s);if(n instanceof Error)0;else{let t=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(t)}return e.createElement(ce,{title:"Application Error!",isOutsideRemixApp:i},e.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),e.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),s)}function ce(t){var n;let{title:i,renderScripts:r,isOutsideRemixApp:s,children:o}=t,{routeModules:a}=Qt();return null!==a.root&&void 0!==n&&n.Layout&&!s?o:e.createElement("html",{lang:"en"},e.createElement("head",null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),e.createElement("title",null,i)),e.createElement("body",null,e.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,r?e.createElement(oe,null):null)))}var ue="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ue&&(window.__reactRouterVersion="7.9.4")}catch(MC){}function he(t){let{basename:n,children:i,window:r}=t,s=e.useRef();null==s.current&&(s.current=g({window:r,v5Compat:!0}));let o=s.current,[a,l]=e.useState({action:o.action,location:o.location}),c=e.useCallback(t=>{e.startTransition(()=>l(t))},[l]);return e.useLayoutEffect(()=>o.listen(c),[o,c]),e.createElement(jt,{basename:n,children:i,location:a.location,navigationType:a.action,navigator:o})}var de=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fe=e.forwardRef(function(t,n){let i,{onClick:r,discover:s="render",prefetch:l="none",relative:c,reloadDocument:u,replace:d,state:f,target:p,to:g,preventScrollReset:y,viewTransition:w}=t,_=a(t,h),{basename:x}=e.useContext(rt),S="string"===typeof g&&de.test(g),k=!1;if("string"===typeof g&&S&&(i=g,ue))try{let t=new URL(window.location.href),e=g.startsWith("//")?new URL(t.protocol+g):new URL(g),n=z(e.pathname,x);e.origin===t.origin&&null!=n?g=n+e.search+e.hash:k=!0}catch(MC){v(!1,'<Link to="'.concat(g,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let C=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m(lt(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=e.useContext(rt),{hash:s,pathname:o,search:a}=ft(t,{relative:n}),l=o;return"/"!==i&&(l="/"===o?i:V([i,o])),r.createHref({pathname:l,search:a,hash:s})}(g,{relative:c}),[N,A,E]=function(t,n){let i=e.useContext($t),[r,s]=e.useState(!1),[o,a]=e.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=n,f=e.useRef(null);e.useEffect(()=>{if("render"===t&&a(!0),"viewport"===t){let t=new IntersectionObserver(t=>{t.forEach(t=>{a(t.isIntersecting)})},{threshold:.5});return f.current&&t.observe(f.current),()=>{t.disconnect()}}},[t]),e.useEffect(()=>{if(r){let t=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(t)}}},[r]);let p=()=>{s(!0)},g=()=>{s(!1),a(!1)};return i?"intent"!==t?[o,f,{}]:[o,f,{onFocus:te(l,p),onBlur:te(c,g),onMouseEnter:te(u,p),onMouseLeave:te(h,g),onTouchStart:te(d,p)}]:[!1,f,{}]}(l,_),L=function(t){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=dt(),c=ct(),u=ft(t,{relative:o});return e.useCallback(e=>{if(function(t,e){return 0===t.button&&(!e||"_self"===e)&&!function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)}(e,n)){e.preventDefault();let n=void 0!==i?i:b(c)===b(u);l(t,{replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,i,r,n,t,s,o,a])}(g,{replace:d,state:f,target:p,preventScrollReset:y,relative:c,viewTransition:w});let P=e.createElement("a",o(o(o({},_),E),{},{href:i||C,onClick:k||u?r:function(t){r&&r(t),t.defaultPrevented||L(t)},ref:ae(n,A),target:p,"data-discover":S||"render"!==s?void 0:"true"}));return N&&!S?e.createElement(e.Fragment,null,P,e.createElement(ne,{page:C})):P});fe.displayName="Link",e.forwardRef(function(t,n){let{"aria-current":i="page",caseSensitive:r=!1,className:s="",end:l=!1,style:c,to:u,viewTransition:h,children:f}=t,p=a(t,d),g=ft(u,{relative:p.relative}),v=ct(),y=e.useContext(Q),{navigator:w,basename:b}=e.useContext(rt),_=null!=y&&function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.useContext(et);m(null!=i,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=me("useViewTransitionState"),s=ft(t,{relative:n});if(!i.isTransitioning)return!1;let o=z(i.currentLocation.pathname,r)||i.currentLocation.pathname,a=z(i.nextLocation.pathname,r)||i.nextLocation.pathname;return null!=M(s.pathname,a)||null!=M(s.pathname,o)}(g)&&!0===h,x=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,S=v.pathname,k=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(S=S.toLowerCase(),k=k?k.toLowerCase():null,x=x.toLowerCase()),k&&b&&(k=z(k,b)||k);const C="/"!==x&&x.endsWith("/")?x.length-1:x.length;let N,A=S===x||!l&&S.startsWith(x)&&"/"===S.charAt(C),E=null!=k&&(k===x||!l&&k.startsWith(x)&&"/"===k.charAt(x.length)),L={isActive:A,isPending:E,isTransitioning:_},P=A?i:void 0;N="function"===typeof s?s(L):[s,A?"active":null,E?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let j="function"===typeof c?c(L):c;return e.createElement(fe,o(o({},p),{},{"aria-current":P,className:N,ref:n,style:j,to:u,viewTransition:h}),"function"===typeof f?f(L):f)}).displayName="NavLink";var pe=e.forwardRef((t,n)=>{let{discover:i="render",fetcherKey:r,navigate:s,reloadDocument:l,replace:c,state:u,method:h=It,action:d,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:y}=t,w=a(t,f),_=we(),x=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:i}=e.useContext(rt),r=e.useContext(ot);m(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a=o({},ft(t||".",{relative:n})),l=ct();if(null==t){a.search=l.search;let t=new URLSearchParams(a.search),e=t.getAll("index"),n=e.some(t=>""===t);if(n){t.delete("index"),e.filter(t=>t).forEach(e=>t.append("index",e));let n=t.toString();a.search=n?"?".concat(n):""}}t&&"."!==t||!s.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==i&&(a.pathname="/"===a.pathname?i:V([i,a.pathname]));return b(a)}(d,{relative:g}),S="get"===h.toLowerCase()?"get":"post",k="string"===typeof d&&de.test(d);return e.createElement("form",o(o({ref:n,method:S,action:x,onSubmit:l?p:t=>{if(p&&p(t),t.defaultPrevented)return;t.preventDefault();let e=t.nativeEvent.submitter,n=(null===e||void 0===e?void 0:e.getAttribute("formmethod"))||h;_(e||t.currentTarget,{fetcherKey:r,method:n,navigate:s,replace:c,state:u,relative:g,preventScrollReset:v,viewTransition:y})}},w),{},{"data-discover":k||"render"!==i?void 0:"true"}))});function ge(t){return"".concat(t," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function me(t){let n=e.useContext($);return m(n,ge(t)),n}pe.displayName="Form";var ve=0,ye=()=>"__".concat(String(++ve),"__");function we(){let{router:t}=me("useSubmit"),{basename:n}=e.useContext(rt),i=St("useRouteId");return e.useCallback(async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:o,encType:a,formData:l,body:c}=zt(e,n);if(!1===r.navigate){let e=r.fetcherKey||ye();await t.fetch(e,i,r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||o,formEncType:r.encType||a,flushSync:r.flushSync})}else await t.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||o,formEncType:r.encType||a,replace:r.replace,state:r.state,fromRouteId:i,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,n,i])}function be(t,e){return function(){return t.apply(e,arguments)}}const{toString:_e}=Object.prototype,{getPrototypeOf:xe}=Object,{iterator:Se,toStringTag:ke}=Symbol,Ce=(t=>e=>{const n=_e.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ne=t=>(t=t.toLowerCase(),e=>Ce(e)===t),Ae=t=>e=>typeof e===t,{isArray:Ee}=Array,Le=Ae("undefined");function Pe(t){return null!==t&&!Le(t)&&null!==t.constructor&&!Le(t.constructor)&&Te(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const je=Ne("ArrayBuffer");const Re=Ae("string"),Te=Ae("function"),Ie=Ae("number"),Fe=t=>null!==t&&"object"===typeof t,Oe=t=>{if("object"!==Ce(t))return!1;const e=xe(t);return(null===e||e===Object.prototype||null===Object.getPrototypeOf(e))&&!(ke in t)&&!(Se in t)},Me=Ne("Date"),De=Ne("File"),Be=Ne("Blob"),ze=Ne("FileList"),Ue=Ne("URLSearchParams"),[qe,We,He,Ve]=["ReadableStream","Request","Response","Headers"].map(Ne);function Ge(t,e){let n,i,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),Ee(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(Pe(t))return;const i=r?Object.getOwnPropertyNames(t):Object.keys(t),s=i.length;let o;for(n=0;n<s;n++)o=i[n],e.call(null,t[o],o,t)}}function Ke(t,e){if(Pe(t))return null;e=e.toLowerCase();const n=Object.keys(t);let i,r=n.length;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Ye="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Xe=t=>!Le(t)&&t!==Ye;const Ze=(Je="undefined"!==typeof Uint8Array&&xe(Uint8Array),t=>Je&&t instanceof Je);var Je;const $e=Ne("HTMLFormElement"),Qe=(t=>{let{hasOwnProperty:e}=t;return(t,n)=>e.call(t,n)})(Object.prototype),tn=Ne("RegExp"),en=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};Ge(n,(n,r)=>{let s;!1!==(s=e(n,r,t))&&(i[r]=s||n)}),Object.defineProperties(t,i)};const nn=Ne("AsyncFunction"),rn=((t,e)=>{return t?setImmediate:e?(n="axios@".concat(Math.random()),i=[],Ye.addEventListener("message",t=>{let{source:e,data:r}=t;e===Ye&&r===n&&i.length&&i.shift()()},!1),t=>{i.push(t),Ye.postMessage(n,"*")}):t=>setTimeout(t);var n,i})("function"===typeof setImmediate,Te(Ye.postMessage)),sn="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Ye):"undefined"!==typeof process&&process.nextTick||rn,on={isArray:Ee,isArrayBuffer:je,isBuffer:Pe,isFormData:t=>{let e;return t&&("function"===typeof FormData&&t instanceof FormData||Te(t.append)&&("formdata"===(e=Ce(t))||"object"===e&&Te(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&je(t.buffer),e},isString:Re,isNumber:Ie,isBoolean:t=>!0===t||!1===t,isObject:Fe,isPlainObject:Oe,isEmptyObject:t=>{if(!Fe(t)||Pe(t))return!1;try{return 0===Object.keys(t).length&&Object.getPrototypeOf(t)===Object.prototype}catch(MC){return!1}},isReadableStream:qe,isRequest:We,isResponse:He,isHeaders:Ve,isUndefined:Le,isDate:Me,isFile:De,isBlob:Be,isRegExp:tn,isFunction:Te,isStream:t=>Fe(t)&&Te(t.pipe),isURLSearchParams:Ue,isTypedArray:Ze,isFileList:ze,forEach:Ge,merge:function t(){const{caseless:e,skipUndefined:n}=Xe(this)&&this||{},i={},r=(r,s)=>{const o=e&&Ke(i,s)||s;Oe(i[o])&&Oe(r)?i[o]=t(i[o],r):Oe(r)?i[o]=t({},r):Ee(r)?i[o]=r.slice():n&&Le(r)||(i[o]=r)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Ge(arguments[s],r);return i},extend:function(t,e,n){let{allOwnKeys:i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Ge(e,(e,i)=>{n&&Te(e)?t[i]=be(e,n):t[i]=e},{allOwnKeys:i}),t},trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:(t,e,n,i)=>{let r,s,o;const a={};if(e=e||{},null==t)return e;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)o=r[s],i&&!i(o,t,e)||a[o]||(e[o]=t[o],a[o]=!0);t=!1!==n&&xe(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:Ce,kindOfTest:Ne,endsWith:(t,e,n)=>{t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return-1!==i&&i===n},toArray:t=>{if(!t)return null;if(Ee(t))return t;let e=t.length;if(!Ie(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},forEachEntry:(t,e)=>{const n=(t&&t[Se]).call(t);let i;for(;(i=n.next())&&!i.done;){const n=i.value;e.call(t,n[0],n[1])}},matchAll:(t,e)=>{let n;const i=[];for(;null!==(n=t.exec(e));)i.push(n);return i},isHTMLForm:$e,hasOwnProperty:Qe,hasOwnProp:Qe,reduceDescriptors:en,freezeMethods:t=>{en(t,(e,n)=>{if(Te(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const i=t[n];Te(i)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(t,e)=>{const n={},i=t=>{t.forEach(t=>{n[t]=!0})};return Ee(t)?i(t):i(String(t).split(e)),n},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,e,n){return e.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(t,e)=>null!=t&&Number.isFinite(t=+t)?t:e,findKey:Ke,global:Ye,isContextDefined:Xe,isSpecCompliantForm:function(t){return!!(t&&Te(t.append)&&"FormData"===t[ke]&&t[Se])},toJSONObject:t=>{const e=new Array(10),n=(t,i)=>{if(Fe(t)){if(e.indexOf(t)>=0)return;if(Pe(t))return t;if(!("toJSON"in t)){e[i]=t;const r=Ee(t)?[]:{};return Ge(t,(t,e)=>{const s=n(t,i+1);!Le(s)&&(r[e]=s)}),e[i]=void 0,r}}return t};return n(t,0)},isAsyncFn:nn,isThenable:t=>t&&(Fe(t)||Te(t))&&Te(t.then)&&Te(t.catch),setImmediate:rn,asap:sn,isIterable:t=>null!=t&&Te(t[Se])};function an(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}on.inherits(an,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:on.toJSONObject(this.config),code:this.code,status:this.status}}});const ln=an.prototype,cn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{cn[t]={value:t}}),Object.defineProperties(an,cn),Object.defineProperty(ln,"isAxiosError",{value:!0}),an.from=(t,e,n,i,r,s)=>{const o=Object.create(ln);on.toFlatObject(t,o,function(t){return t!==Error.prototype},t=>"isAxiosError"!==t);const a=t&&t.message?t.message:"Error",l=null==e&&t?t.code:e;return an.call(o,a,l,n,i,r),t&&null==o.cause&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",s&&Object.assign(o,s),o};const un=an;function hn(t){return on.isPlainObject(t)||on.isArray(t)}function dn(t){return on.endsWith(t,"[]")?t.slice(0,-2):t}function fn(t,e,n){return t?t.concat(e).map(function(t,e){return t=dn(t),!n&&e?"["+t+"]":t}).join(n?".":""):e}const pn=on.toFlatObject(on,{},null,function(t){return/^is[A-Z]/.test(t)});const gn=function(t,e,n){if(!on.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const i=(n=on.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(t,e){return!on.isUndefined(e[t])})).metaTokens,r=n.visitor||c,s=n.dots,o=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&on.isSpecCompliantForm(e);if(!on.isFunction(r))throw new TypeError("visitor must be a function");function l(t){if(null===t)return"";if(on.isDate(t))return t.toISOString();if(on.isBoolean(t))return t.toString();if(!a&&on.isBlob(t))throw new un("Blob is not supported. Use a Buffer instead.");return on.isArrayBuffer(t)||on.isTypedArray(t)?a&&"function"===typeof Blob?new Blob([t]):Buffer.from(t):t}function c(t,n,r){let a=t;if(t&&!r&&"object"===typeof t)if(on.endsWith(n,"{}"))n=i?n:n.slice(0,-2),t=JSON.stringify(t);else if(on.isArray(t)&&function(t){return on.isArray(t)&&!t.some(hn)}(t)||(on.isFileList(t)||on.endsWith(n,"[]"))&&(a=on.toArray(t)))return n=dn(n),a.forEach(function(t,i){!on.isUndefined(t)&&null!==t&&e.append(!0===o?fn([n],i,s):null===o?n:n+"[]",l(t))}),!1;return!!hn(t)||(e.append(fn(r,n,s),l(t)),!1)}const u=[],h=Object.assign(pn,{defaultVisitor:c,convertValue:l,isVisitable:hn});if(!on.isObject(t))throw new TypeError("data must be an object");return function t(n,i){if(!on.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+i.join("."));u.push(n),on.forEach(n,function(n,s){!0===(!(on.isUndefined(n)||null===n)&&r.call(e,n,on.isString(s)?s.trim():s,i,h))&&t(n,i?i.concat(s):[s])}),u.pop()}}(t),e};function mn(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(t){return e[t]})}function vn(t,e){this._pairs=[],t&&gn(t,this,e)}const yn=vn.prototype;yn.append=function(t,e){this._pairs.push([t,e])},yn.toString=function(t){const e=t?function(e){return t.call(this,e,mn)}:mn;return this._pairs.map(function(t){return e(t[0])+"="+e(t[1])},"").join("&")};const wn=vn;function bn(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function _n(t,e,n){if(!e)return t;const i=n&&n.encode||bn;on.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let s;if(s=r?r(e,n):on.isURLSearchParams(e)?e.toString():new wn(e,n).toString(i),s){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}const xn=class{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){on.forEach(this.handlers,function(e){null!==e&&t(e)})}},Sn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kn={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:wn,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Cn="undefined"!==typeof window&&"undefined"!==typeof document,Nn="object"===typeof navigator&&navigator||void 0,An=Cn&&(!Nn||["ReactNative","NativeScript","NS"].indexOf(Nn.product)<0),En="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Ln=Cn&&window.location.href||"http://localhost",Pn=o(o({},t),kn);const jn=function(t){function e(t,n,i,r){let s=t[r++];if("__proto__"===s)return!0;const o=Number.isFinite(+s),a=r>=t.length;if(s=!s&&on.isArray(i)?i.length:s,a)return on.hasOwnProp(i,s)?i[s]=[i[s],n]:i[s]=n,!o;i[s]&&on.isObject(i[s])||(i[s]=[]);return e(t,n,i[s],r)&&on.isArray(i[s])&&(i[s]=function(t){const e={},n=Object.keys(t);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],e[s]=t[s];return e}(i[s])),!o}if(on.isFormData(t)&&on.isFunction(t.entries)){const n={};return on.forEachEntry(t,(t,i)=>{e(function(t){return on.matchAll(/\w+|\[(\w*)]/g,t).map(t=>"[]"===t[0]?"":t[1]||t[0])}(t),i,n,0)}),n}return null};const Rn={transitional:Sn,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const n=e.getContentType()||"",i=n.indexOf("application/json")>-1,r=on.isObject(t);r&&on.isHTMLForm(t)&&(t=new FormData(t));if(on.isFormData(t))return i?JSON.stringify(jn(t)):t;if(on.isArrayBuffer(t)||on.isBuffer(t)||on.isStream(t)||on.isFile(t)||on.isBlob(t)||on.isReadableStream(t))return t;if(on.isArrayBufferView(t))return t.buffer;if(on.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return gn(t,new Pn.classes.URLSearchParams,o({visitor:function(t,e,n,i){return Pn.isNode&&on.isBuffer(t)?(this.append(e,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((s=on.isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return gn(s?{"files[]":t}:t,e&&new e,this.formSerializer)}}return r||i?(e.setContentType("application/json",!1),function(t,e,n){if(on.isString(t))try{return(e||JSON.parse)(t),on.trim(t)}catch(MC){if("SyntaxError"!==MC.name)throw MC}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||Rn.transitional,n=e&&e.forcedJSONParsing,i="json"===this.responseType;if(on.isResponse(t)||on.isReadableStream(t))return t;if(t&&on.isString(t)&&(n&&!this.responseType||i)){const n=!(e&&e.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(MC){if(n){if("SyntaxError"===MC.name)throw un.from(MC,un.ERR_BAD_RESPONSE,this,null,this.response);throw MC}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pn.classes.FormData,Blob:Pn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};on.forEach(["delete","get","head","post","put","patch"],t=>{Rn.headers[t]={}});const Tn=Rn,In=on.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Fn=Symbol("internals");function On(t){return t&&String(t).trim().toLowerCase()}function Mn(t){return!1===t||null==t?t:on.isArray(t)?t.map(Mn):String(t)}function Dn(t,e,n,i,r){return on.isFunction(i)?i.call(this,e,n):(r&&(e=n),on.isString(e)?on.isString(i)?-1!==e.indexOf(i):on.isRegExp(i)?i.test(e):void 0:void 0)}class Bn{constructor(t){t&&this.set(t)}set(t,e,n){const i=this;function r(t,e,n){const r=On(e);if(!r)throw new Error("header name must be a non-empty string");const s=on.findKey(i,r);(!s||void 0===i[s]||!0===n||void 0===n&&!1!==i[s])&&(i[s||e]=Mn(t))}const s=(t,e)=>on.forEach(t,(t,n)=>r(t,n,e));if(on.isPlainObject(t)||t instanceof this.constructor)s(t,e);else if(on.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim()))s((t=>{const e={};let n,i,r;return t&&t.split("\n").forEach(function(t){r=t.indexOf(":"),n=t.substring(0,r).trim().toLowerCase(),i=t.substring(r+1).trim(),!n||e[n]&&In[n]||("set-cookie"===n?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e})(t),e);else if(on.isObject(t)&&on.isIterable(t)){let n,i,r={};for(const e of t){if(!on.isArray(e))throw TypeError("Object iterator must return a key-value pair");r[i=e[0]]=(n=r[i])?on.isArray(n)?[...n,e[1]]:[n,e[1]]:e[1]}s(r,e)}else null!=t&&r(e,t,n);return this}get(t,e){if(t=On(t)){const n=on.findKey(this,t);if(n){const t=this[n];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}(t);if(on.isFunction(e))return e.call(this,t,n);if(on.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=On(t)){const n=on.findKey(this,t);return!(!n||void 0===this[n]||e&&!Dn(0,this[n],n,e))}return!1}delete(t,e){const n=this;let i=!1;function r(t){if(t=On(t)){const r=on.findKey(n,t);!r||e&&!Dn(0,n[r],r,e)||(delete n[r],i=!0)}}return on.isArray(t)?t.forEach(r):r(t),i}clear(t){const e=Object.keys(this);let n=e.length,i=!1;for(;n--;){const r=e[n];t&&!Dn(0,this[r],r,t,!0)||(delete this[r],i=!0)}return i}normalize(t){const e=this,n={};return on.forEach(this,(i,r)=>{const s=on.findKey(n,r);if(s)return e[s]=Mn(i),void delete e[r];const o=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,n)=>e.toUpperCase()+n)}(r):String(r).trim();o!==r&&delete e[r],e[o]=Mn(i),n[o]=!0}),this}concat(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.constructor.concat(this,...e)}toJSON(t){const e=Object.create(null);return on.forEach(this,(n,i)=>{null!=n&&!1!==n&&(e[i]=t&&on.isArray(n)?n.join(", "):n)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(t=>{let[e,n]=t;return e+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t){const e=new this(t);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.forEach(t=>e.set(t)),e}static accessor(t){const e=(this[Fn]=this[Fn]={accessors:{}}).accessors,n=this.prototype;function i(t){const i=On(t);e[i]||(!function(t,e){const n=on.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(t,n,r){return this[i].call(this,e,t,n,r)},configurable:!0})})}(n,t),e[i]=!0)}return on.isArray(t)?t.forEach(i):i(t),this}}Bn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),on.reduceDescriptors(Bn.prototype,(t,e)=>{let{value:n}=t,i=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(t){this[i]=t}}}),on.freezeMethods(Bn);const zn=Bn;function Un(t,e){const n=this||Tn,i=e||n,r=zn.from(i.headers);let s=i.data;return on.forEach(t,function(t){s=t.call(n,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function qn(t){return!(!t||!t.__CANCEL__)}function Wn(t,e,n){un.call(this,null==t?"canceled":t,un.ERR_CANCELED,e,n),this.name="CanceledError"}on.inherits(Wn,un,{__CANCEL__:!0});const Hn=Wn;function Vn(t,e,n){const i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(new un("Request failed with status code "+n.status,[un.ERR_BAD_REQUEST,un.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}const Gn=function(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r,s=0,o=0;return e=void 0!==e?e:1e3,function(a){const l=Date.now(),c=i[o];r||(r=l),n[s]=a,i[s]=l;let u=o,h=0;for(;u!==s;)h+=n[u++],u%=t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),l-r<e)return;const d=c&&l-c;return d?Math.round(1e3*h/d):void 0}};const Kn=function(t,e){let n,i,r=0,s=1e3/e;const o=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=s,n=null,i&&(clearTimeout(i),i=null),t(...e)};return[function(){const t=Date.now(),e=t-r;for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];e>=s?o(l,t):(n=l,i||(i=setTimeout(()=>{i=null,o(n)},s-e)))},()=>n&&o(n)]},Yn=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=0;const r=Gn(50,250);return Kn(n=>{const s=n.loaded,o=n.lengthComputable?n.total:void 0,a=s-i,l=r(a);i=s;t({loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&s<=o?(o-s)/l:void 0,event:n,lengthComputable:null!=o,[e?"download":"upload"]:!0})},n)},Xn=(t,e)=>{const n=null!=t;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},Zn=t=>function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return on.asap(()=>t(...n))},Jn=Pn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Pn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Pn.origin),Pn.navigator&&/(msie|trident)/i.test(Pn.navigator.userAgent)):()=>!0,$n=Pn.hasStandardBrowserEnv?{write(t,e,n,i,r,s){const o=[t+"="+encodeURIComponent(e)];on.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),on.isString(i)&&o.push("path="+i),on.isString(r)&&o.push("domain="+r),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Qn(t,e,n){let i=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e);return t&&(i||0==n)?function(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const ti=t=>t instanceof zn?o({},t):t;function ei(t,e){e=e||{};const n={};function i(t,e,n,i){return on.isPlainObject(t)&&on.isPlainObject(e)?on.merge.call({caseless:i},t,e):on.isPlainObject(e)?on.merge({},e):on.isArray(e)?e.slice():e}function r(t,e,n,r){return on.isUndefined(e)?on.isUndefined(t)?void 0:i(void 0,t,0,r):i(t,e,0,r)}function s(t,e){if(!on.isUndefined(e))return i(void 0,e)}function a(t,e){return on.isUndefined(e)?on.isUndefined(t)?void 0:i(void 0,t):i(void 0,e)}function l(n,r,s){return s in e?i(n,r):s in t?i(void 0,n):void 0}const c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(t,e,n)=>r(ti(t),ti(e),0,!0)};return on.forEach(Object.keys(o(o({},t),e)),function(i){const s=c[i]||r,o=s(t[i],e[i],i);on.isUndefined(o)&&s!==l||(n[i]=o)}),n}const ni=t=>{const e=ei({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:o,auth:a}=e;if(e.headers=o=zn.from(o),e.url=_n(Qn(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),on.isFormData(n))if(Pn.hasStandardBrowserEnv||Pn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(on.isFunction(n.getHeaders)){const t=n.getHeaders(),e=["content-type","content-length"];Object.entries(t).forEach(t=>{let[n,i]=t;e.includes(n.toLowerCase())&&o.set(n,i)})}if(Pn.hasStandardBrowserEnv&&(i&&on.isFunction(i)&&(i=i(e)),i||!1!==i&&Jn(e.url))){const t=r&&s&&$n.read(s);t&&o.set(r,t)}return e},ii="undefined"!==typeof XMLHttpRequest&&function(t){return new Promise(function(e,n){const i=ni(t);let r=i.data;const s=zn.from(i.headers).normalize();let o,a,l,c,u,{responseType:h,onUploadProgress:d,onDownloadProgress:f}=i;function p(){c&&c(),u&&u(),i.cancelToken&&i.cancelToken.unsubscribe(o),i.signal&&i.signal.removeEventListener("abort",o)}let g=new XMLHttpRequest;function m(){if(!g)return;const i=zn.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());Vn(function(t){e(t),p()},function(t){n(t),p()},{data:h&&"text"!==h&&"json"!==h?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:i,config:t,request:g}),g=null}g.open(i.method.toUpperCase(),i.url,!0),g.timeout=i.timeout,"onloadend"in g?g.onloadend=m:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(m)},g.onabort=function(){g&&(n(new un("Request aborted",un.ECONNABORTED,t,g)),g=null)},g.onerror=function(e){const i=e&&e.message?e.message:"Network Error",r=new un(i,un.ERR_NETWORK,t,g);r.event=e||null,n(r),g=null},g.ontimeout=function(){let e=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const r=i.transitional||Sn;i.timeoutErrorMessage&&(e=i.timeoutErrorMessage),n(new un(e,r.clarifyTimeoutError?un.ETIMEDOUT:un.ECONNABORTED,t,g)),g=null},void 0===r&&s.setContentType(null),"setRequestHeader"in g&&on.forEach(s.toJSON(),function(t,e){g.setRequestHeader(e,t)}),on.isUndefined(i.withCredentials)||(g.withCredentials=!!i.withCredentials),h&&"json"!==h&&(g.responseType=i.responseType),f&&([l,u]=Yn(f,!0),g.addEventListener("progress",l)),d&&g.upload&&([a,c]=Yn(d),g.upload.addEventListener("progress",a),g.upload.addEventListener("loadend",c)),(i.cancelToken||i.signal)&&(o=e=>{g&&(n(!e||e.type?new Hn(null,t,g):e),g.abort(),g=null)},i.cancelToken&&i.cancelToken.subscribe(o),i.signal&&(i.signal.aborted?o():i.signal.addEventListener("abort",o)));const v=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(i.url);v&&-1===Pn.protocols.indexOf(v)?n(new un("Unsupported protocol "+v+":",un.ERR_BAD_REQUEST,t)):g.send(r||null)})},ri=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let n,i=new AbortController;const r=function(t){if(!n){n=!0,o();const e=t instanceof Error?t:this.reason;i.abort(e instanceof un?e:new Hn(e instanceof Error?e.message:e))}};let s=e&&setTimeout(()=>{s=null,r(new un("timeout ".concat(e," of ms exceeded"),un.ETIMEDOUT))},e);const o=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(t=>{t.unsubscribe?t.unsubscribe(r):t.removeEventListener("abort",r)}),t=null)};t.forEach(t=>t.addEventListener("abort",r));const{signal:a}=i;return a.unsubscribe=()=>on.asap(o),a}};function si(t,e){this.v=t,this.k=e}function oi(t){return function(){return new ai(t.apply(this,arguments))}}function ai(t){var e,n;function i(e,n){try{var s=t[e](n),o=s.value,a=o instanceof si;Promise.resolve(a?o.v:o).then(function(n){if(a){var l="return"===e?"return":"next";if(!o.k||n.done)return i(l,n);n=t[l](n).value}r(s.done?"return":"normal",n)},function(t){i("throw",t)})}catch(t){r("throw",t)}}function r(t,r){switch(t){case"return":e.resolve({value:r,done:!0});break;case"throw":e.reject(r);break;default:e.resolve({value:r,done:!1})}(e=e.next)?i(e.key,e.arg):n=null}this._invoke=function(t,r){return new Promise(function(s,o){var a={key:t,arg:r,resolve:s,reject:o,next:null};n?n=n.next=a:(e=n=a,i(t,r))})},"function"!=typeof t.return&&(this.return=void 0)}function li(t){return new si(t,0)}function ci(t){var e={},n=!1;function i(e,i){return n=!0,i=new Promise(function(n){n(t[e](i))}),{done:!1,value:new si(i,1)}}return e["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},e.next=function(t){return n?(n=!1,t):i("next",t)},"function"==typeof t.throw&&(e.throw=function(t){if(n)throw n=!1,t;return i("throw",t)}),"function"==typeof t.return&&(e.return=function(t){return n?(n=!1,t):i("return",t)}),e}function ui(t){var e,n,i,r=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,i=Symbol.iterator);r--;){if(n&&null!=(e=t[n]))return e.call(t);if(i&&null!=(e=t[i]))return new hi(e.call(t));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function hi(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then(function(t){return{value:t,done:e}})}return hi=function(t){this.s=t,this.n=t.next},hi.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var n=this.s.return;return void 0===n?Promise.resolve({value:t,done:!0}):e(n.apply(this.s,arguments))},throw:function(t){var n=this.s.return;return void 0===n?Promise.reject(t):e(n.apply(this.s,arguments))}},new hi(t)}ai.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},ai.prototype.next=function(t){return this._invoke("next",t)},ai.prototype.throw=function(t){return this._invoke("throw",t)},ai.prototype.return=function(t){return this._invoke("return",t)};const di=function*(t,e){let n=t.byteLength;if(!e||n<e)return void(yield t);let i,r=0;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},fi=function(){var t=oi(function*(t,e){var n,i=!1,r=!1;try{for(var s,o=ui(pi(t));i=!(s=yield li(o.next())).done;i=!1){const t=s.value;yield*ci(ui(di(t,e)))}}catch(a){r=!0,n=a}finally{try{i&&null!=o.return&&(yield li(o.return()))}finally{if(r)throw n}}});return function(e,n){return t.apply(this,arguments)}}(),pi=function(){var t=oi(function*(t){if(t[Symbol.asyncIterator])return void(yield*ci(ui(t)));const e=t.getReader();try{for(;;){const{done:t,value:n}=yield li(e.read());if(t)break;yield n}}finally{yield li(e.cancel())}});return function(e){return t.apply(this,arguments)}}(),gi=(t,e,n,i)=>{const r=fi(t,e);let s,o=0,a=t=>{s||(s=!0,i&&i(t))};return new ReadableStream({async pull(t){try{const{done:e,value:i}=await r.next();if(e)return a(),void t.close();let s=i.byteLength;if(n){let t=o+=s;n(t)}t.enqueue(new Uint8Array(i))}catch(e){throw a(e),e}},cancel:t=>(a(t),r.return())},{highWaterMark:2})},{isFunction:mi}=on,vi=(t=>{let{Request:e,Response:n}=t;return{Request:e,Response:n}})(on.global),{ReadableStream:yi,TextEncoder:wi}=on.global,bi=function(t){try{for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return!!t(...n)}catch(MC){return!1}},_i=t=>{t=on.merge.call({skipUndefined:!0},vi,t);const{fetch:e,Request:n,Response:i}=t,r=e?mi(e):"function"===typeof fetch,s=mi(n),a=mi(i);if(!r)return!1;const l=r&&mi(yi),c=r&&("function"===typeof wi?(t=>e=>t.encode(e))(new wi):async t=>new Uint8Array(await new n(t).arrayBuffer())),u=s&&l&&bi(()=>{let t=!1;const e=new n(Pn.origin,{body:new yi,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),h=a&&l&&bi(()=>on.isReadableStream(new i("").body)),d={stream:h&&(t=>t.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!d[t]&&(d[t]=(e,n)=>{let i=e&&e[t];if(i)return i.call(e);throw new un("Response type '".concat(t,"' is not supported"),un.ERR_NOT_SUPPORT,n)})});const f=async(t,e)=>{const i=on.toFiniteNumber(t.getContentLength());return null==i?(async t=>{if(null==t)return 0;if(on.isBlob(t))return t.size;if(on.isSpecCompliantForm(t)){const e=new n(Pn.origin,{method:"POST",body:t});return(await e.arrayBuffer()).byteLength}return on.isArrayBufferView(t)||on.isArrayBuffer(t)?t.byteLength:(on.isURLSearchParams(t)&&(t+=""),on.isString(t)?(await c(t)).byteLength:void 0)})(e):i};return async t=>{let{url:r,method:a,data:l,signal:c,cancelToken:p,timeout:g,onDownloadProgress:m,onUploadProgress:v,responseType:y,headers:w,withCredentials:b="same-origin",fetchOptions:_}=ni(t),x=e||fetch;y=y?(y+"").toLowerCase():"text";let S=ri([c,p&&p.toAbortSignal()],g),k=null;const C=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let N;try{if(v&&u&&"get"!==a&&"head"!==a&&0!==(N=await f(w,l))){let t,e=new n(r,{method:"POST",body:l,duplex:"half"});if(on.isFormData(l)&&(t=e.headers.get("content-type"))&&w.setContentType(t),e.body){const[t,n]=Xn(N,Yn(Zn(v)));l=gi(e.body,65536,t,n)}}on.isString(b)||(b=b?"include":"omit");const e=s&&"credentials"in n.prototype,c=o(o({},_),{},{signal:S,method:a.toUpperCase(),headers:w.normalize().toJSON(),body:l,duplex:"half",credentials:e?b:void 0});k=s&&new n(r,c);let p=await(s?x(k,_):x(r,c));const g=h&&("stream"===y||"response"===y);if(h&&(m||g&&C)){const t={};["status","statusText","headers"].forEach(e=>{t[e]=p[e]});const e=on.toFiniteNumber(p.headers.get("content-length")),[n,r]=m&&Xn(e,Yn(Zn(m),!0))||[];p=new i(gi(p.body,65536,n,()=>{r&&r(),C&&C()}),t)}y=y||"text";let A=await d[on.findKey(d,y)||"text"](p,t);return!g&&C&&C(),await new Promise((e,n)=>{Vn(e,n,{data:A,headers:zn.from(p.headers),status:p.status,statusText:p.statusText,config:t,request:k})})}catch(A){if(C&&C(),A&&"TypeError"===A.name&&/Load failed|fetch/i.test(A.message))throw Object.assign(new un("Network Error",un.ERR_NETWORK,t,k),{cause:A.cause||A});throw un.from(A,A&&A.code,t,k)}}},xi=new Map,Si=t=>{let e=t?t.env:{};const{fetch:n,Request:i,Response:r}=e,s=[i,r,n];let o,a,l=s.length,c=xi;for(;l--;)o=s[l],a=c.get(o),void 0===a&&c.set(o,a=l?new Map:_i(e)),c=a;return a},ki=(Si(),{http:null,xhr:ii,fetch:{get:Si}});on.forEach(ki,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(MC){}Object.defineProperty(t,"adapterName",{value:e})}});const Ci=t=>"- ".concat(t),Ni=t=>on.isFunction(t)||null===t||!1===t,Ai=(t,e)=>{t=on.isArray(t)?t:[t];const{length:n}=t;let i,r;const s={};for(let o=0;o<n;o++){let n;if(i=t[o],r=i,!Ni(i)&&(r=ki[(n=String(i)).toLowerCase()],void 0===r))throw new un("Unknown adapter '".concat(n,"'"));if(r&&(on.isFunction(r)||(r=r.get(e))))break;s[n||"#"+o]=r}if(!r){const t=Object.entries(s).map(t=>{let[e,n]=t;return"adapter ".concat(e," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let e=n?t.length>1?"since :\n"+t.map(Ci).join("\n"):" "+Ci(t[0]):"as no adapter specified";throw new un("There is no suitable adapter to dispatch the request "+e,"ERR_NOT_SUPPORT")}return r};function Ei(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Hn(null,t)}function Li(t){Ei(t),t.headers=zn.from(t.headers),t.data=Un.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);return Ai(t.adapter||Tn.adapter,t)(t).then(function(e){return Ei(t),e.data=Un.call(t,t.transformResponse,e),e.headers=zn.from(e.headers),e},function(e){return qn(e)||(Ei(t),e&&e.response&&(e.response.data=Un.call(t,t.transformResponse,e.response),e.response.headers=zn.from(e.response.headers))),Promise.reject(e)})}const Pi="1.12.2",ji={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ji[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const Ri={};ji.transitional=function(t,e,n){function i(t,e){return"[Axios v"+Pi+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return(n,r,s)=>{if(!1===t)throw new un(i(r," has been removed"+(e?" in "+e:"")),un.ERR_DEPRECATED);return e&&!Ri[r]&&(Ri[r]=!0,console.warn(i(r," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,r,s)}},ji.spelling=function(t){return(e,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(t)),!0)};const Ti={assertOptions:function(t,e,n){if("object"!==typeof t)throw new un("options must be an object",un.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const s=i[r],o=e[s];if(o){const e=t[s],n=void 0===e||o(e,s,t);if(!0!==n)throw new un("option "+s+" must be "+n,un.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new un("Unknown option "+s,un.ERR_BAD_OPTION)}},validators:ji},Ii=Ti.validators;class Fi{constructor(t){this.defaults=t||{},this.interceptors={request:new xn,response:new xn}}async request(t,e){try{return await this._request(t,e)}catch(n){if(n instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const e=t.stack?t.stack.replace(/^.+\n/,""):"";try{n.stack?e&&!String(n.stack).endsWith(e.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+e):n.stack=e}catch(MC){}}throw n}}_request(t,e){"string"===typeof t?(e=e||{}).url=t:e=t||{},e=ei(this.defaults,e);const{transitional:n,paramsSerializer:i,headers:r}=e;void 0!==n&&Ti.assertOptions(n,{silentJSONParsing:Ii.transitional(Ii.boolean),forcedJSONParsing:Ii.transitional(Ii.boolean),clarifyTimeoutError:Ii.transitional(Ii.boolean)},!1),null!=i&&(on.isFunction(i)?e.paramsSerializer={serialize:i}:Ti.assertOptions(i,{encode:Ii.function,serialize:Ii.function},!0)),void 0!==e.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),Ti.assertOptions(e,{baseUrl:Ii.spelling("baseURL"),withXsrfToken:Ii.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let s=r&&on.merge(r.common,r[e.method]);r&&on.forEach(["delete","get","head","post","put","patch","common"],t=>{delete r[t]}),e.headers=zn.concat(s,r);const o=[];let a=!0;this.interceptors.request.forEach(function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,o.unshift(t.fulfilled,t.rejected))});const l=[];let c;this.interceptors.response.forEach(function(t){l.push(t.fulfilled,t.rejected)});let u,h=0;if(!a){const t=[Li.bind(this),void 0];for(t.unshift(...o),t.push(...l),u=t.length,c=Promise.resolve(e);h<u;)c=c.then(t[h++],t[h++]);return c}u=o.length;let d=e;for(;h<u;){const t=o[h++],e=o[h++];try{d=t(d)}catch(nr){e.call(this,nr);break}}try{c=Li.call(this,d)}catch(nr){return Promise.reject(nr)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++]);return c}getUri(t){return _n(Qn((t=ei(this.defaults,t)).baseURL,t.url,t.allowAbsoluteUrls),t.params,t.paramsSerializer)}}on.forEach(["delete","get","head","options"],function(t){Fi.prototype[t]=function(e,n){return this.request(ei(n||{},{method:t,url:e,data:(n||{}).data}))}}),on.forEach(["post","put","patch"],function(t){function e(e){return function(n,i,r){return this.request(ei(r||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}Fi.prototype[t]=e(),Fi.prototype[t+"Form"]=e(!0)});const Oi=Fi;class Mi{constructor(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(t){e=t});const n=this;this.promise.then(t=>{if(!n._listeners)return;let e=n._listeners.length;for(;e-- >0;)n._listeners[e](t);n._listeners=null}),this.promise.then=t=>{let e;const i=new Promise(t=>{n.subscribe(t),e=t}).then(t);return i.cancel=function(){n.unsubscribe(e)},i},t(function(t,i,r){n.reason||(n.reason=new Hn(t,i,r),e(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=e=>{t.abort(e)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;const e=new Mi(function(e){t=e});return{token:e,cancel:t}}}const Di=Mi;const Bi={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Bi).forEach(t=>{let[e,n]=t;Bi[n]=e});const zi=Bi;const Ui=function t(e){const n=new Oi(e),i=be(Oi.prototype.request,n);return on.extend(i,Oi.prototype,n,{allOwnKeys:!0}),on.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return t(ei(e,n))},i}(Tn);Ui.Axios=Oi,Ui.CanceledError=Hn,Ui.CancelToken=Di,Ui.isCancel=qn,Ui.VERSION=Pi,Ui.toFormData=gn,Ui.AxiosError=un,Ui.Cancel=Ui.CanceledError,Ui.all=function(t){return Promise.all(t)},Ui.spread=function(t){return function(e){return t.apply(null,e)}},Ui.isAxiosError=function(t){return on.isObject(t)&&!0===t.isAxiosError},Ui.mergeConfig=ei,Ui.AxiosHeaders=zn,Ui.formToJSON=t=>jn(on.isHTMLForm(t)?new FormData(t):t),Ui.getAdapter=Ai,Ui.HttpStatusCode=zi,Ui.default=Ui;const qi=Ui;var Wi=n(6507);const Hi=(0,e.createContext)(),Vi="http://localhost:5000/api/auth",Gi=()=>{const t=(0,e.useContext)(Hi);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Ki=t=>{let{children:n}=t;const[i,r]=(0,e.useState)(null),[s,o]=(0,e.useState)(null),[a,l]=(0,e.useState)(!0);(0,e.useEffect)(()=>{const t=localStorage.getItem("token"),e=localStorage.getItem("user");if(t&&(o(t),qi.defaults.headers.common.Authorization="Bearer ".concat(t)),e)try{r(JSON.parse(e))}catch(MC){r(null)}l(!1)},[]);const c=(t,e)=>{t&&(localStorage.setItem("token",t),e&&localStorage.setItem("user",JSON.stringify(e)),qi.defaults.headers.common.Authorization="Bearer ".concat(t),o(t),r(e||null))},u={user:i,token:s,login:async(t,e)=>{try{const n=await qi.post("".concat(Vi,"/login"),{email:t,password:e}),{user:i,token:r}=n.data;if(i&&i.location&&!i.postalCode){const t=i.location.match(/\b\d{6}\b/);t&&(i.postalCode=t[0])}return c(r,i),{success:!0,user:i}}catch(nr){var n,i;return{success:!1,message:(null===(n=nr.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message)||"Login failed. Please check your network."}}},register:async t=>{try{const e=await qi.post("".concat(Vi,"/register"),t),{user:n,token:i}=e.data;return c(i,n),{success:!0,user:n}}catch(nr){var e,n;return{success:!1,message:(null===(e=nr.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)||"Registration failed. Please check your network."}}},logout:()=>{r(null),o(null),localStorage.removeItem("user"),localStorage.removeItem("token"),delete qi.defaults.headers.common.Authorization},loading:a,updateProfile:async t=>{const e=localStorage.getItem("token");try{const n=await qi.put("".concat(Vi,"/profile"),t,{headers:{Authorization:"Bearer ".concat(e)}});if(n.data.success){const t=n.data.user;return localStorage.setItem("user",JSON.stringify(t)),r(t),{success:!0,user:t,message:n.data.message}}return{success:!1,message:n.data.message||"Update failed."}}catch(nr){var n,i;return{success:!1,message:(null===(n=nr.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message)||"Server error during profile update."}}},updatePassword:async t=>{const e=localStorage.getItem("token");try{const n=await qi.put("".concat(Vi,"/change-password"),t,{headers:{Authorization:"Bearer ".concat(e)}});return n.data.success?{success:!0,message:n.data.message}:{success:!1,message:n.data.message||"Password change failed."}}catch(nr){var n,i;return{success:!1,message:(null===(n=nr.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message)||"Server error during password update."}}},loginWithToken:c};return(0,Wi.jsx)(Hi.Provider,{value:u,children:!a&&n})},Yi=n.p+"static/media/cleanStreet.cbd5e895fe98f8856754.png",Xi=()=>{const{user:t,logout:n}=Gi(),i=ct(),[r,s]=(0,e.useState)(!1),o=t=>"/admin/overview"===t?"/admin"===i.pathname||"/admin/overview"===i.pathname:i.pathname===t;return(0,Wi.jsx)("nav",{className:"navbar","aria-label":"Primary navigation",children:(0,Wi.jsxs)("div",{className:"nav-container ".concat(r?"open-menu":""),children:[(0,Wi.jsxs)(fe,{to:"/",className:"nav-logo",onClick:()=>s(!1),children:[(0,Wi.jsx)("img",{src:Yi,alt:"cleanStreet logo"}),(0,Wi.jsxs)("span",{className:"brand-text",children:[(0,Wi.jsx)("span",{className:"title",children:"CleanStreet"}),(0,Wi.jsx)("span",{className:"subtitle",children:"Keep the streets clean"})]})]}),(0,Wi.jsxs)("button",{className:"nav-toggle","aria-expanded":r,"aria-label":r?"Close menu":"Open menu",onClick:()=>s(t=>!t),children:[(0,Wi.jsx)("span",{className:"bar",style:{transform:r?"rotate(45deg) translate(3px, 3px)":"none"}}),(0,Wi.jsx)("span",{className:"bar",style:{opacity:r?0:1}}),(0,Wi.jsx)("span",{className:"bar",style:{transform:r?"rotate(-45deg) translate(3px, -3px)":"none"}})]}),(0,Wi.jsxs)("div",{className:"nav-menu",role:"menu","aria-hidden":!r&&window.innerWidth<860,children:[(0,Wi.jsxs)(fe,{to:"/",className:"nav-link ".concat(o("/")?"active":""),onClick:()=>s(!1),children:[(0,Wi.jsx)("i",{className:"bi bi-house-door-fill","aria-hidden":"true",style:{color:"var(--g-3)"}}),"Home"]}),t?(0,Wi.jsxs)(Wi.Fragment,{children:["admin"===t.role||"globaladmin"===t.role?(0,Wi.jsxs)(Wi.Fragment,{children:[(0,Wi.jsxs)(fe,{to:"/admin/overview",className:"nav-link ".concat(o("/admin/overview")?"active":""),onClick:()=>s(!1),children:[(0,Wi.jsx)("i",{className:"bi bi-speedometer2","aria-hidden":"true",style:{color:"var(--g-3)"}}),"Overview"]}),(0,Wi.jsxs)(fe,{to:"/admin/complaints",className:"nav-link ".concat(o("/admin/complaints")?"active":""),onClick:()=>s(!1),children:[(0,Wi.jsx)("i",{className:"bi bi-inbox-fill","aria-hidden":"true",style:{color:"var(--g-3)"}}),"Manage Complaints"]}),(0,Wi.jsxs)(fe,{to:"/admin/users",className:"nav-link ".concat(o("/admin/users")?"active":""),onClick:()=>s(!1),children:[(0,Wi.jsx)("i",{className:"bi bi-people-fill","aria-hidden":"true",style:{color:"var(--g-3)"}}),"Users"]}),(0,Wi.jsxs)(fe,{to:"/admin/reports",className:"nav-link ".concat(o("/admin/reports")?"active":""),onClick:()=>s(!1),children:[(0,Wi.jsx)("i",{className:"bi bi-graph-up","aria-hidden":"true",style:{color:"var(--g-3)"}}),"Reports"]})]}):(0,Wi.jsxs)(Wi.Fragment,{children:[(0,Wi.jsxs)(fe,{to:"/dashboard",className:"nav-link ".concat(o("/dashboard")?"active":""),onClick:()=>s(!1),children:[(0,Wi.jsx)("i",{className:"bi bi-speedometer2","aria-hidden":"true",style:{color:"var(--g-3)"}}),"Dashboard"]}),(0,Wi.jsxs)(fe,{to:"/report-issue",className:"nav-link ".concat(o("/report-issue")?"active":""),onClick:()=>s(!1),children:[(0,Wi.jsx)("i",{className:"bi bi-exclamation-circle","aria-hidden":"true",style:{color:"var(--g-3)"}}),"Report Issue"]}),(0,Wi.jsxs)(fe,{to:"/complaints",className:"nav-link ".concat(o("/complaints")?"active":""),onClick:()=>s(!1),children:[(0,Wi.jsx)("i",{className:"bi bi-inbox-fill","aria-hidden":"true",style:{color:"var(--g-3)"}}),"View Complaints"]})]}),(0,Wi.jsxs)("div",{className:"nav-user",children:[(0,Wi.jsxs)(fe,{to:"/profile",className:"nav-link ".concat(o("/profile")?"active":""),onClick:()=>s(!1),children:[(0,Wi.jsx)("i",{className:"bi bi-person-circle","aria-hidden":"true",style:{color:"var(--g-3)"}}),"Profile"]}),(0,Wi.jsx)("button",{onClick:()=>{n(),s(!1)},className:"nav-logout","aria-label":"Logout",children:"Logout"})]})]}):(0,Wi.jsxs)("div",{className:"nav-auth",children:[(0,Wi.jsxs)(fe,{to:"/login",className:"nav-link ".concat(o("/login")?"active":""),onClick:()=>s(!1),children:[(0,Wi.jsx)("i",{className:"bi bi-box-arrow-in-right","aria-hidden":"true",style:{color:"var(--g-3)"}}),"Login"]}),(0,Wi.jsxs)(fe,{to:"/register",className:"nav-link register ".concat(o("/register")?"active":""),onClick:()=>s(!1),children:[(0,Wi.jsx)("i",{className:"bi bi-pencil-square","aria-hidden":"true",style:{color:"var(--g-pale)"}}),"Register"]})]})]})]})})};function Zi(){const{user:t}=Gi(),[n,i]=(0,e.useState)(!0),[r,s]=(0,e.useState)({totalUsers:0,totalIssues:0,postalCodes:0}),[o,a]=(0,e.useState)([]);return(0,e.useEffect)(()=>{(async()=>{(await qi.get("http://localhost:5000/api/auth/public/users-count")).data.count;try{let e=0;try{const t=await qi.get("http://localhost:5000/api/auth/allusers");e=Array.isArray(t.data)?t.data.length:0}catch(t){console.warn("Users endpoint not found")}const n=(await qi.get("http://localhost:5000/api/issues/public")).data.issues||[],i=new Set,r=[];for(const t of n)null!==t&&void 0!==t&&t._id&&!i.has(t._id)&&(i.add(t._id),r.push(t));const o=r.length,l=(await qi.get("http://localhost:5000/api/auth/public/postal-codes")).data.postalCodes.length,c=r.filter(t=>"resolved"===(t.status||"").toLowerCase()).sort((t,e)=>new Date(e.createdAt)-new Date(t.createdAt)).slice(0,3);a(c.map(t=>({id:t._id,title:t.title,date:new Date(t.createdAt).toLocaleDateString()}))),s({totalUsers:e,totalIssues:o,postalCodes:l})}catch(t){console.error("Error loading homepage data:",t)}finally{i(!1)}})()},[]),(0,Wi.jsxs)("div",{className:"landing-container",children:[(0,Wi.jsxs)("section",{className:"home-section hero",children:[(0,Wi.jsx)("div",{className:"hero-overlay"}),(0,Wi.jsx)("div",{className:"hero-content",children:(0,Wi.jsxs)("div",{className:"hero-left",children:[(0,Wi.jsxs)("h1",{children:["Clean",(0,Wi.jsx)("span",{className:"highlight",children:"Street"})]}),(0,Wi.jsx)("p",{className:"caption",children:"Report. Track. Resolve."}),(0,Wi.jsx)("p",{className:"brief",children:"A community-driven platform to build cleaner, smarter neighborhoods. Report issues like potholes and garbage in real-time and watch them get resolved."}),(0,Wi.jsx)("div",{className:"hero-actions",children:t?(0,Wi.jsxs)(Wi.Fragment,{children:[(0,Wi.jsx)(fe,{to:"/report-issue",className:"btn primary-btn",children:"Report Issue"}),(0,Wi.jsx)(fe,{to:"/complaints",className:"btn outline-btn",children:"View Complaints"})]}):(0,Wi.jsxs)(Wi.Fragment,{children:[(0,Wi.jsx)(fe,{to:"/register",className:"btn primary-btn",children:"Get Started"}),(0,Wi.jsx)(fe,{to:"/login",className:"btn outline-btn",children:"Login"})]})})]})}),(0,Wi.jsxs)("div",{className:"scroll-indicator",children:[(0,Wi.jsx)("span",{children:"Scroll to Explore"}),(0,Wi.jsx)("div",{className:"arrow",children:"\u2193"})]})]}),(0,Wi.jsxs)("section",{className:"home-section stat-section",children:[(0,Wi.jsxs)("div",{className:"section-headers",children:[(0,Wi.jsx)("h2",{children:"Our Impact"}),(0,Wi.jsx)("p",{children:"Real-time data empowering our city"})]}),(0,Wi.jsxs)("div",{className:"stat-grids",children:[(0,Wi.jsxs)("div",{className:"stats-card",children:[(0,Wi.jsx)("div",{className:"icons",children:(0,Wi.jsx)("i",{class:"bi bi-people-fill"})}),(0,Wi.jsxs)("h3",{children:[n?"...":r.totalUsers,"+"]}),(0,Wi.jsx)("p",{children:"Active Citizens"})]}),(0,Wi.jsxs)("div",{className:"stats-card featured",children:[(0,Wi.jsx)("div",{className:"icons",children:(0,Wi.jsx)("i",{class:"bi bi-megaphone-fill"})}),(0,Wi.jsxs)("h3",{children:[n?"...":r.totalIssues,"+"]}),(0,Wi.jsx)("p",{children:"Issues Reported"})]}),(0,Wi.jsxs)("div",{className:"stats-card",children:[(0,Wi.jsx)("div",{className:"icons",children:(0,Wi.jsx)("i",{class:"bi bi-geo-fill"})}),(0,Wi.jsx)("h3",{children:n?"...":r.postalCodes}),(0,Wi.jsx)("p",{children:"Postal Zones"})]})]})]}),(0,Wi.jsxs)("section",{className:"home-section recent-section",children:[(0,Wi.jsxs)("div",{className:"content-wrapper",children:[(0,Wi.jsx)("h2",{children:"Recently Solved"}),(0,Wi.jsx)("p",{className:"subtitle",children:"See what's happening in your neighborhood"}),(0,Wi.jsx)("div",{className:"recent-list",children:o.map(t=>(0,Wi.jsxs)("div",{className:"recent-item",children:[(0,Wi.jsx)("div",{className:"status-indicator resolved",children:"\u2714"}),(0,Wi.jsxs)("div",{className:"recent-info",children:[(0,Wi.jsx)("h4",{children:t.title}),(0,Wi.jsx)("span",{className:"date",children:t.date})]})]},t.id))})]}),(0,Wi.jsx)("footer",{className:"footer",children:(0,Wi.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," CleanStreet. Together for a cleaner tomorrow."]})})]})]})}var Ji=n(24),$i=n.n(Ji);const Qi={info:1,warn:2,error:3,none:4};let tr=Qi.info;function er(){tr>Qi.warn||console.warn(...arguments)}function nr(){tr>Qi.error||console.error(...arguments)}const ir=0,rr=1,sr=2,or=4,ar=8,lr=16;function cr(t){const e=vr();for(let n=0,i=t.length;n<i;++n)Sr(e,t[n]);return e}function ur(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function hr(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function dr(t,e,n){let i,r;return i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,r=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0,i*i+r*r}function fr(t,e){return gr(t,e[0],e[1])}function pr(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function gr(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function mr(t,e){const n=t[0],i=t[1],r=t[2],s=t[3],o=e[0],a=e[1];let l=ir;return o<n?l|=lr:o>r&&(l|=or),a<i?l|=ar:a>s&&(l|=sr),l===ir&&(l=rr),l}function vr(){return[1/0,1/0,-1/0,-1/0]}function yr(t,e,n,i,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=i,r):[t,e,n,i]}function wr(t){return yr(1/0,1/0,-1/0,-1/0,t)}function br(t,e){const n=t[0],i=t[1];return yr(n,i,n,i,e)}function _r(t,e,n,i,r){return kr(wr(r),t,e,n,i)}function xr(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function Sr(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function kr(t,e,n,i,r){for(;n<i;n+=r)Cr(t,e[n],e[n+1]);return t}function Cr(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function Nr(t,e){let n;return n=e(Er(t)),n||(n=e(Lr(t)),n||(n=e(Mr(t)),n||(n=e(Or(t)),n||!1)))}function Ar(t){let e=0;return zr(t)||(e=Dr(t)*Ir(t)),e}function Er(t){return[t[0],t[1]]}function Lr(t){return[t[2],t[1]]}function Pr(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function jr(t,e){let n;if("bottom-left"===e)n=Er(t);else if("bottom-right"===e)n=Lr(t);else if("top-left"===e)n=Or(t);else{if("top-right"!==e)throw new Error("Invalid corner");n=Mr(t)}return n}function Rr(t,e,n,i,r){const[s,o,a,l,c,u,h,d]=Tr(t,e,n,i);return yr(Math.min(s,a,c,h),Math.min(o,l,u,d),Math.max(s,a,c,h),Math.max(o,l,u,d),r)}function Tr(t,e,n,i){const r=e*i[0]/2,s=e*i[1]/2,o=Math.cos(n),a=Math.sin(n),l=r*o,c=r*a,u=s*o,h=s*a,d=t[0],f=t[1];return[d-l+h,f-c-u,d-l-h,f-c+u,d+l-h,f+c+u,d+l+h,f+c-u,d-l+h,f-c-u]}function Ir(t){return t[3]-t[1]}function Fr(t,e,n){const i=n||[1/0,1/0,-1/0,-1/0];return Br(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):wr(i),i}function Or(t){return[t[0],t[3]]}function Mr(t){return[t[2],t[3]]}function Dr(t){return t[2]-t[0]}function Br(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function zr(t){return t[2]<t[0]||t[3]<t[1]}function Ur(t,e,n,i){if(zr(t))return wr(n);let r=[];if(i>1){const e=t[2]-t[0],n=t[3]-t[1];for(let s=0;s<i;++s)r.push(t[0]+e*s/i,t[1],t[2],t[1]+n*s/i,t[2]-e*s/i,t[3],t[0],t[3]-n*s/i)}else r=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(r,r,2);const s=[],o=[];for(let a=0,l=r.length;a<l;a+=2)s.push(r[a]),o.push(r[a+1]);return function(t,e,n){return yr(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}(s,o,n)}function qr(t,e){const n=e.getExtent(),i=Pr(t);if(e.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){const e=Dr(n),r=Math.floor((i[0]-n[0])/e)*e;t[0]-=r,t[2]-=r}return t}function Wr(t,e,n){if(e.canWrapX()){const i=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[i[0],t[1],i[2],t[3]]];qr(t,e);const r=Dr(i);if(Dr(t)>r&&!n)return[[i[0],t[1],i[2],t[3]]];if(t[0]<i[0])return[[t[0]+r,t[1],i[2],t[3]],[i[0],t[1],t[2],t[3]]];if(t[2]>i[2])return[[t[0],t[1],i[2],t[3]],[i[0],t[1],t[2]-r,t[3]]]}return[t]}function Hr(t,e){let n=!0;for(let i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function Vr(t,e){const n=Math.cos(e),i=Math.sin(e),r=t[0]*n-t[1]*i,s=t[1]*n+t[0]*i;return t[0]=r,t[1]=s,t}function Gr(t,e){if(e.canWrapX()){const n=Dr(e.getExtent()),i=function(t,e,n){const i=e.getExtent();let r=0;e.canWrapX()&&(t[0]<i[0]||t[0]>i[2])&&(n=n||Dr(i),r=Math.floor((t[0]-i[0])/n));return r}(t,e,n);i&&(t[0]-=i*n)}return t}function Kr(t,e,n){return Math.min(Math.max(t,e),n)}function Yr(t,e,n,i,r,s){const o=r-n,a=s-i;if(0!==o||0!==a){const l=((t-n)*o+(e-i)*a)/(o*o+a*a);l>1?(n=r,i=s):l>0&&(n+=o*l,i+=a*l)}return Xr(t,e,n,i)}function Xr(t,e,n,i){const r=n-t,s=i-e;return r*r+s*s}function Zr(t){return 180*t/Math.PI}function Jr(t){return t*Math.PI/180}function $r(t,e){const n=t%e;return n*e<0?n+e:n}function Qr(t,e,n){return t+n*(e-t)}function ts(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function es(t,e){return Math.floor(ts(t,e))}function ns(t,e){return Math.ceil(ts(t,e))}function is(t,e,n){if(t>=e&&t<n)return t;const i=n-e;return((t-e)%i+i)%i+e}const rs={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};const ss=class{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||rs[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}},os=6378137,as=Math.PI*os,ls=[-as,-as,as,as],cs=[-180,-85,180,85],us=os*Math.log(Math.tan(Math.PI/2));class hs extends ss{constructor(t){super({code:t,units:"m",extent:ls,global:!0,worldExtent:cs,getPointResolution:function(t,e){return t/Math.cosh(e[1]/os)}})}}const ds=[new hs("EPSG:3857"),new hs("EPSG:102100"),new hs("EPSG:102113"),new hs("EPSG:900913"),new hs("http://www.opengis.net/def/crs/EPSG/0/3857"),new hs("http://www.opengis.net/gml/srs/epsg.xml#3857")];function fs(t,e,n,i){const r=t.length;n=n>1?n:2,i=null!==i&&void 0!==i?i:n,void 0===e&&(e=n>2?t.slice():new Array(r));for(let s=0;s<r;s+=i){e[s]=as*t[s]/180;let n=os*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));n>us?n=us:n<-us&&(n=-us),e[s+1]=n}return e}function ps(t,e,n,i){const r=t.length;n=n>1?n:2,i=null!==i&&void 0!==i?i:n,void 0===e&&(e=n>2?t.slice():new Array(r));for(let s=0;s<r;s+=i)e[s]=180*t[s]/as,e[s+1]=360*Math.atan(Math.exp(t[s+1]/os))/Math.PI-90;return e}const gs=[-180,-90,180,90],ms=6378137*Math.PI/180;class vs extends ss{constructor(t,e){super({code:t,units:"degrees",extent:gs,axisOrientation:e,global:!0,metersPerUnit:ms,worldExtent:gs})}}const ys=[new vs("CRS:84"),new vs("EPSG:4326","neu"),new vs("urn:ogc:def:crs:OGC:1.3:CRS84"),new vs("urn:ogc:def:crs:OGC:2:84"),new vs("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new vs("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new vs("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let ws={};let bs={};function _s(t,e,n){const i=t.getCode(),r=e.getCode();i in bs||(bs[i]={}),bs[i][r]=n}function xs(t,e){return t in bs&&e in bs[t]?bs[t][e]:null}const Ss=.9996,ks=.00669438,Cs=ks*ks,Ns=Cs*ks,As=ks/(1-ks),Es=Math.sqrt(1-ks),Ls=(1-Es)/(1+Es),Ps=Ls*Ls,js=Ps*Ls,Rs=js*Ls,Ts=Rs*Ls,Is=.9983242984503243,Fs=15*Cs/256+45*Ns/1024,Os=35*Ns/3072,Ms=1.5*Ls-27/32*js+269/512*Ts,Ds=21/16*Ps-55/32*Rs,Bs=151/96*js-417/128*Ts,zs=1097/512*Rs,Us=6378137;function qs(t,e,n){const i=t-5e5,r=(n.north?e:e-1e7)/Ss/(Us*Is),s=r+Ms*Math.sin(2*r)+Ds*Math.sin(4*r)+Bs*Math.sin(6*r)+zs*Math.sin(8*r),o=Math.sin(s),a=o*o,l=Math.cos(s),c=o/l,u=c*c,h=u*u,d=1-ks*a,f=Math.sqrt(1-ks*a),p=As*l**2,g=p*p,m=i/(Us/f*Ss),v=m*m,y=v*m,w=y*m,b=w*m,_=s-c/((1-ks)/d)*(v/2-w/24*(5+3*u+10*p-4*g-9*As))+b*m/720*(61+90*u+298*p+45*h-252*As-3*g);let x=(m-y/6*(1+2*u+p)+b/120*(5-2*p+28*u-3*g+8*As+24*h))/l;return x=is(x+Jr(Hs(n.number)),-Math.PI,Math.PI),[Zr(x),Zr(_)]}function Ws(t,e,n){t=is(t,-180,180),e<-80?e=-80:e>84&&(e=84);const i=Jr(e),r=Math.sin(i),s=Math.cos(i),o=r/s,a=o*o,l=a*a,c=Jr(t),u=Jr(Hs(n.number)),h=Us/Math.sqrt(1-ks*r**2),d=As*s**2,f=s*is(c-u,-Math.PI,Math.PI),p=f*f,g=p*f,m=g*f,v=m*f,y=v*f,w=Us*(Is*i-.002514607064228144*Math.sin(2*i)+Fs*Math.sin(4*i)-Os*Math.sin(6*i)),b=Ss*h*(f+g/6*(1-a+d)+v/120*(5-18*a+l+72*d-58*As))+5e5;let _=Ss*(w+h*o*(p/2+m/24*(5-a+9*d+4*d**2)+y/720*(61-58*a+l+600*d-330*As)));return n.north||(_+=1e7),[b,_]}function Hs(t){return 6*(t-1)-180+3}const Vs=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function Gs(t){let e=0;for(const r of Vs){const n=t.match(r);if(n){e=parseInt(n[1]);break}}if(!e)return null;let n=0,i=!1;return e>32700&&e<32761?n=e-32700:e>32600&&e<32661&&(i=!0,n=e-32600),n?{number:n,north:i}:null}function Ks(t,e){return function(n,i,r,s){const o=n.length;r=r>1?r:2,s=null!==s&&void 0!==s?s:r,i||(i=r>2?n.slice():new Array(o));for(let a=0;a<o;a+=s){const r=n[a],s=n[a+1],o=t(r,s,e);i[a]=o[0],i[a+1]=o[1]}return i}}const Ys=6371008.8;function Xs(t,e,n){n=n||Ys;const i=Jr(t[1]),r=Jr(e[1]),s=(r-i)/2,o=Jr(e[0]-t[0])/2,a=Math.sin(s)*Math.sin(s)+Math.sin(o)*Math.sin(o)*Math.cos(i)*Math.cos(r);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}const Zs=[function(t){const e=Gs(t.getCode());return e?{forward:Ks(Ws,e),inverse:Ks(qs,e)}:null}],Js=[function(t){return Gs(t)?new ss({code:t,units:"m"}):null}];let $s=!0;function Qs(t){$s=!(void 0===t||t)}function to(t,e){if(void 0!==e)for(let n=0,i=t.length;n<i;++n)e[n]=t[n];else e=t.slice();return e}function eo(t){!function(t,e){ws[t]=e}(t.getCode(),t),_s(t,t,to)}function no(t){if("string"!==typeof t)return t;const e=ws[n=t]||ws[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null;var n;if(e)return e;for(const i of Js){const e=i(t);if(e)return e}return null}function io(t,e,n,i){let r;const s=(t=no(t)).getPointResolutionFunc();if(s){if(r=s(e,n),i&&i!==t.getUnits()){const e=t.getMetersPerUnit();e&&(r=r*e/rs[i])}}else{const s=t.getUnits();if("degrees"==s&&!i||"degrees"==i)r=e;else{const o=co(t,no("EPSG:4326"));if(o||"degrees"===s){let t=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];t=o(t,t,2);r=(Xs(t.slice(0,2),t.slice(2,4))+Xs(t.slice(4,6),t.slice(6,8)))/2}else r=e*t.getMetersPerUnit();const a=i?rs[i]:t.getMetersPerUnit();void 0!==a&&(r/=a)}}return r}function ro(t){!function(t){t.forEach(eo)}(t),t.forEach(function(e){t.forEach(function(t){e!==t&&_s(e,t,to)})})}function so(t,e){return t?"string"===typeof t?no(t):t:no(e)}function oo(t){return function(e,n,i,r){const s=e.length;i=void 0!==i?i:2,r=null!==r&&void 0!==r?r:i,n=void 0!==n?n:new Array(s);for(let o=0;o<s;o+=r){const s=t(e.slice(o,o+i)),a=s.length;for(let t=0,i=r;t<i;++t)n[o+t]=t>=a?e[o+t]:s[t]}return n}}function ao(t,e){return Qs(),fo(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function lo(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();if(t.getCode()===e.getCode())return n;return co(t,e)===to&&n}function co(t,e){const n=t.getCode(),i=e.getCode();let r=xs(n,i);if(r)return r;let s=null,o=null;for(const l of Zs)s||(s=l(t)),o||(o=l(e));if(!s&&!o)return null;const a="EPSG:4326";if(o)if(s)r=uo(s.inverse,o.forward);else{const t=xs(n,a);t&&(r=uo(t,o.forward))}else{const t=xs(a,i);t&&(r=uo(s.inverse,t))}return r&&(eo(t),eo(e),_s(t,e,r)),r}function uo(t,e){return function(n,i,r,s){return i=t(n,i,r,s),e(i,i,r,s)}}function ho(t,e){return co(no(t),no(e))}function fo(t,e,n){const i=ho(e,n);if(!i){const t=no(e).getCode(),i=no(n).getCode();throw new Error("No transform available between ".concat(t," and ").concat(i))}return i(t,void 0,t.length)}function po(t,e,n,i){return Ur(t,ho(e,n),void 0,i)}let go=null;function mo(){return go}function vo(t,e){return go?fo(t,e,go):t}function yo(t,e){return go?fo(t,go,e):($s&&!Hr(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&($s=!1,er("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t)}function wo(t,e){return go?po(t,e,go):t}function bo(t,e){return go?po(t,go,e):t}function _o(t,e){if(!go)return t;const n=no(e).getMetersPerUnit(),i=go.getMetersPerUnit();return n&&i?t*n/i:t}!function(){var t,e,n;ro(ds),ro(ys),t=ds,e=fs,n=ps,ys.forEach(function(i){t.forEach(function(t){_s(i,t,e),_s(t,i,n)})})}();const xo={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000",So=async(t,e)=>{try{var n,i,r;const s="".concat(xo,"/api/utils/reverse"),o=await qi.get(s,{params:{lat:e,lon:t},timeout:2e4});return null!==(n=o.data)&&void 0!==n&&n.success&&null!==(i=o.data.data)&&void 0!==i&&i.display_name?o.data.data.display_name:null!==(r=o.data)&&void 0!==r&&r.success&&o.data.data?o.data.data.display_name||"Lat: ".concat(e.toFixed(6),", Lon: ").concat(t.toFixed(6)," (Address not found)"):(console.warn("reverseGeocode: unexpected response",o.data),"Lat: ".concat(e.toFixed(6),", Lon: ").concat(t.toFixed(6)," (Geocode failed)"))}catch(nr){var s;return console.error("MapUtils.reverseGeocode error:",(null===nr||void 0===nr?void 0:nr.message)||nr,{backendUrl:"".concat(xo,"/api/utils/reverse"),params:{lat:e,lon:t},responseData:null===nr||void 0===nr||null===(s=nr.response)||void 0===s?void 0:s.data}),"Lat: ".concat(e.toFixed(6),", Lon: ").concat(t.toFixed(6)," (Geocode error)")}},ko=[78.4744,17.385],Co=async t=>{try{const e=await(async t=>{if(!t||"string"!==typeof t||""===t.trim())return null;if((t=>!(!t||"string"!==typeof t)&&(!!t.trim().startsWith("Lat:")||!!/^-?\d+(\.\d+)?\s*,\s*-?\d+(\.\d+)?$/.test(t.trim())))(t))return console.info("forwardGeocode: input looks like coordinates/fallback \u2014 skipping forward geocode:",t),null;try{var e;const n="".concat(xo,"/api/utils/forward"),i=await qi.get(n,{params:{q:t},timeout:2e4});if(null!==(e=i.data)&&void 0!==e&&e.success&&Array.isArray(i.data.data)&&i.data.data.length>0){const t=i.data.data[0],e=parseFloat(t.lat),n=parseFloat(t.lon);if(!Number.isNaN(e)&&!Number.isNaN(n))return[n,e]}return null}catch(nr){var n;return console.error("MapUtils.forwardGeocode error:",(null===nr||void 0===nr?void 0:nr.message)||nr,{backendUrl:"".concat(xo,"/api/utils/forward"),params:{q:t},responseData:null===nr||void 0===nr||null===(n=nr.response)||void 0===n?void 0:n.data}),null}})(t);if(e&&2===e.length)return ao(e)}catch(MC){console.error("getInitialCenterForAddress error:",MC)}return ao(ko)},No=(ao(ko),"http://localhost:5000/api/auth"),Ao=()=>{const{login:t,register:n,loginWithToken:i}=Gi(),r=dt(),s=ct(),[a,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)(!1),[h,d]=(0,e.useState)(!1),[f,p]=(0,e.useState)({email:"",password:"",otp:""}),[g,m]=(0,e.useState)({fullName:"",username:"",email:"",phone:"",location:"",password:""});(0,e.useEffect)(()=>{"register"===new URLSearchParams(s.search).get("mode")&&l(!0)},[s.search]);const v=t=>p(e=>o(o({},e),{},{[t.target.name]:t.target.value})),y=t=>m(e=>o(o({},e),{},{[t.target.name]:t.target.value})),w=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Error",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return $i().fire({icon:"error",title:t,text:e,background:"linear-gradient(to bottom, #D3F1DE, #81B79D)",color:"#1B1B1B",confirmButtonColor:"#005347",timer:3e3,timerProgressBar:!0})},b=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Success",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return $i().fire({icon:"success",title:t,text:e,background:"linear-gradient(to bottom, #D3F1DE, #81B79D)",color:"#1B1B1B",confirmButtonColor:"#005347",timer:3e3,timerProgressBar:!0})},_=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Info",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return $i().fire({icon:"info",title:t,text:e,background:"linear-gradient(to bottom, #D3F1DE, #81B79D)",color:"#1B1B1B",confirmButtonColor:"#005347",timer:3e3,timerProgressBar:!0})};return(0,Wi.jsx)("div",{className:"auth-page",children:(0,Wi.jsx)("div",{className:"auth-container",children:(0,Wi.jsxs)("div",{className:"auth-card-3d ".concat(a?"flipped":""),children:[(0,Wi.jsxs)("div",{className:"auth-face auth-face-front",children:[(0,Wi.jsxs)("div",{className:"auth-header",children:[(0,Wi.jsx)("h1",{children:"Login to CleanStreet"}),(0,Wi.jsx)("h2",{children:"Join us and start cleaning up the streets!"})]}),(0,Wi.jsx)("div",{className:"cleanicon"}),(0,Wi.jsxs)("form",{className:"auth-form face-font",onSubmit:async e=>{e.preventDefault(),d(!0);try{if(c){var n;const t=await qi.post("".concat(No,"/verify-otp"),{email:f.email,otp:f.otp});if(null!==(n=t.data)&&void 0!==n&&n.success){const{user:e,token:n}=t.data;i?i(n,e):(localStorage.setItem("token",n),localStorage.setItem("user",JSON.stringify(e)),qi.defaults.headers.common.Authorization="Bearer ".concat(n)),await b("OTP verified","Access granted. Redirecting..."),"admin"===(null===e||void 0===e?void 0:e.role)?r("/admin"):r("/dashboard")}else{var s;const e=(null===(s=t.data)||void 0===s?void 0:s.message)||"Invalid or expired OTP.";w("OTP Error",e)}}else{const e=await t(f.email,f.password);if(null!==e&&void 0!==e&&e.success){var o;await b("Login successful","Redirecting..."),"admin"===(null===(o=e.user)||void 0===o?void 0:o.role)?r("/admin"):r("/dashboard")}else{const t=(null===e||void 0===e?void 0:e.message)||"Invalid credentials.";w("Login failed",t)}}}catch(u){var a,l;console.error("Login Submission Error:",u);const t=(null===(a=u.response)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.message)||"Network or server error.";w("Error",t)}finally{d(!1)}},children:[(0,Wi.jsxs)("div",{className:"forms-group",children:[(0,Wi.jsx)("label",{className:"forms-label",children:"Email"}),(0,Wi.jsxs)("div",{className:"input-group",children:[(0,Wi.jsx)("i",{className:"bi bi-envelope"}),(0,Wi.jsx)("input",{name:"email",type:"email",className:"forms-control",placeholder:"your.email@example.com",value:f.email,onChange:v,required:!0})]})]}),!c&&(0,Wi.jsxs)("div",{className:"forms-group",children:[(0,Wi.jsx)("label",{className:"forms-label",children:"Password"}),(0,Wi.jsxs)("div",{className:"input-group",children:[(0,Wi.jsx)("i",{className:"bi bi-lock"}),(0,Wi.jsx)("input",{name:"password",type:"password",className:"forms-control",placeholder:"Enter your password",value:f.password,onChange:v,required:!0,minLength:6})]})]}),c&&(0,Wi.jsxs)("div",{className:"forms-group",children:[(0,Wi.jsx)("label",{className:"forms-label",children:"OTP"}),(0,Wi.jsxs)("div",{className:"input-group",children:[(0,Wi.jsx)("i",{className:"bi bi-key"}),(0,Wi.jsx)("input",{name:"otp",type:"text",className:"forms-control",placeholder:"Enter the OTP sent to your email",value:f.otp,onChange:v,required:!0})]})]}),(0,Wi.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Wi.jsx)("button",{type:"button",className:"link-btn small",onClick:()=>{c?u(!1):(async()=>{if(!f.email)return void w("Missing email","Please enter your email to request a reset code.");d(!0);try{const t=await qi.post("".concat(No,"/send-otp"),{email:f.email});if(t.data.success)_("OTP sent",t.data.message||"If an account exists, an OTP has been sent."),u(!0);else{const e=t.data.message||"Failed to request reset code.";w("Request failed",e)}}catch(t){console.error("requestOtp error:",t),w("Network error","Could not connect to server to request reset code.")}finally{d(!1)}})()},disabled:h,children:c?"Back to password":"Forgot password?"}),(0,Wi.jsx)("button",{type:"button",className:"link-btn small",onClick:()=>{l(!0),u(!1)},disabled:h,children:"New here? Register"})]}),(0,Wi.jsx)("div",{className:"forms-actions",children:(0,Wi.jsx)("button",{type:"submit",className:"btn auth-btn-primary",disabled:h,children:h?c?"Verifying...":"Logging in...":c?"Verify OTP":"Login"})})]})]}),(0,Wi.jsxs)("div",{className:"auth-face auth-face-back",children:[(0,Wi.jsxs)("div",{className:"auth-header",children:[(0,Wi.jsx)("h1",{children:"Create Account"}),(0,Wi.jsx)("h2",{children:"Join us and start cleaning up the streets!"})]}),(0,Wi.jsxs)("form",{className:"auth-form",onSubmit:async t=>{t.preventDefault(),d(!0);try{const t={name:g.fullName,username:g.username,email:g.email,phone:g.phone||void 0,location:g.location,password:g.password},e=await n(t);if(null!==e&&void 0!==e&&e.success)await b("Account created","Welcome \u2014 redirecting to dashboard..."),r("/dashboard");else{const t=(null===e||void 0===e?void 0:e.message)||"Registration failed.";w("Registration failed",t)}}catch(s){var e,i;console.error("Registration error:",s);const t=(null===(e=s.response)||void 0===e||null===(i=e.data)||void 0===i?void 0:i.message)||"Server error during registration.";w("Error",t)}finally{d(!1)}},children:[(0,Wi.jsxs)("div",{className:"forms-row two-columns",children:[(0,Wi.jsxs)("div",{className:"forms-col",children:[(0,Wi.jsx)("label",{className:"forms-label",children:"Full Name"}),(0,Wi.jsxs)("div",{className:"input-group",children:[(0,Wi.jsx)("i",{className:"bi bi-person"}),(0,Wi.jsx)("input",{name:"fullName",type:"text",className:"forms-control",placeholder:"your name",value:g.fullName,onChange:y,required:!0})]})]}),(0,Wi.jsxs)("div",{className:"forms-col",children:[(0,Wi.jsx)("label",{className:"forms-label",children:"Username"}),(0,Wi.jsxs)("div",{className:"input-group",children:[(0,Wi.jsx)("i",{className:"bi bi-at"}),(0,Wi.jsx)("input",{name:"username",type:"text",className:"forms-control",placeholder:"your username",value:g.username,onChange:y,required:!0})]})]})]}),(0,Wi.jsxs)("div",{className:"forms-group",children:[(0,Wi.jsx)("label",{className:"forms-label",children:"Email"}),(0,Wi.jsxs)("div",{className:"input-group",children:[(0,Wi.jsx)("i",{className:"bi bi-envelope"}),(0,Wi.jsx)("input",{name:"email",type:"email",className:"forms-control",placeholder:"your.email@example.com",value:g.email,onChange:y,required:!0})]})]}),(0,Wi.jsxs)("div",{className:"forms-row two-columns",children:[(0,Wi.jsxs)("div",{className:"forms-col",children:[(0,Wi.jsx)("label",{className:"forms-label",children:"Phone (Optional)"}),(0,Wi.jsxs)("div",{className:"input-group",children:[(0,Wi.jsx)("i",{className:"bi bi-telephone"}),(0,Wi.jsx)("input",{name:"phone",type:"tel",className:"forms-control",placeholder:"e.g., +91 999 123 4567",value:g.phone,onChange:y})]})]}),(0,Wi.jsxs)("div",{className:"forms-col",children:[(0,Wi.jsx)("label",{className:"forms-label",children:"Location"}),(0,Wi.jsxs)("div",{className:"location-row",children:[(0,Wi.jsx)("i",{className:"bi bi-geo-alt"}),(0,Wi.jsx)("input",{name:"location",type:"text",className:"forms-control location-input",placeholder:"Enter your city or click to locate",value:g.location,onChange:y,required:!0}),(0,Wi.jsx)("button",{type:"button",className:"location-btn",onClick:()=>{if(!navigator.geolocation){return void w("Geolocation","Geolocation is not supported by your browser.")}d(!0),navigator.geolocation.getCurrentPosition(async t=>{const e=t.coords.latitude,n=t.coords.longitude;let i="Lat: ".concat(e.toFixed(6),", Lng: ").concat(n.toFixed(6));try{i=await So(n,e)}catch(r){console.error("Reverse Geocoding Failed:",r);_("Location","Location found, but failed to get street address. Coordinates used.")}m(t=>o(o({},t),{},{location:i})),d(!1),b("Location Updated","Address fetched and updated.")},t=>{const e="Unable to get location: "+t.message;w("Location error",e),d(!1)},{enableHighAccuracy:!0,timeout:1e4})},disabled:h,title:"Use my location",children:(0,Wi.jsx)("i",{className:"bi bi-geo-fill"})})]})]})]}),(0,Wi.jsxs)("div",{className:"forms-group",children:[(0,Wi.jsx)("label",{className:"forms-label",children:"Password"}),(0,Wi.jsxs)("div",{className:"input-group",children:[(0,Wi.jsx)("i",{className:"bi bi-lock"}),(0,Wi.jsx)("input",{name:"password",type:"password",className:"forms-control",placeholder:"Create a strong password",value:g.password,onChange:y,required:!0,minLength:6})]})]}),(0,Wi.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:(0,Wi.jsx)("button",{type:"button",className:"link-btn small",onClick:()=>{l(!1),u(!1)},children:"Already have an account? Login"})}),(0,Wi.jsx)("div",{className:"forms-actions",children:(0,Wi.jsx)("button",{type:"submit",className:"btn auth-btn-primary",disabled:h,children:h?"Creating account...":"Register"})})]})]})]})})})},Eo=()=>{const t=dt();return(0,e.useEffect)(()=>{t("/login?mode=register",{replace:!0})},[t]),null},Lo="add",Po="remove",jo="propertychange",Ro="change",To="error",Io="contextmenu",Fo="click",Oo="dblclick",Mo="keydown",Do="keypress",Bo="load",zo="touchmove",Uo="wheel";const qo=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}};function Wo(t,e){return t>e?1:t<e?-1:0}function Ho(t,e){return t<e?1:t>e?-1:0}function Vo(t,e,n){if(t[0]<=e)return 0;const i=t.length;if(e<=t[i-1])return i-1;if("function"===typeof n){for(let r=1;r<i;++r){const i=t[r];if(i===e)return r;if(i<e)return n(e,t[r-1],i)>0?r-1:r}return i-1}if(n>0){for(let n=1;n<i;++n)if(t[n]<e)return n-1;return i-1}if(n<0){for(let n=1;n<i;++n)if(t[n]<=e)return n;return i-1}for(let r=1;r<i;++r){if(t[r]==e)return r;if(t[r]<e)return t[r-1]-e<e-t[r]?r-1:r}return i-1}function Go(t,e,n){for(;e<n;){const i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function Ko(t,e){const n=Array.isArray(e)?e:[e],i=n.length;for(let r=0;r<i;r++)t[t.length]=n[r]}function Yo(t,e){const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function Xo(){return!0}function Zo(){return!1}function Jo(){}function $o(t){let e,n,i;return function(){const r=Array.prototype.slice.call(arguments);return n&&this===i&&Yo(r,n)||(i=this,n=r,e=t.apply(this,arguments)),e}}function Qo(t){return function(){let e;try{e=t()}catch(n){return Promise.reject(n)}return e instanceof Promise?e:Promise.resolve(e)}()}function ta(t){for(const e in t)delete t[e]}function ea(t){let e;for(e in t)return!1;return!e}const na=class{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}};const ia=class extends qo{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,e){if(!t||!e)return;const n=this.listeners_||(this.listeners_={}),i=n[t]||(n[t]=[]);i.includes(e)||i.push(e)}dispatchEvent(t){const e="string"===typeof t,n=e?t:t.type,i=this.listeners_&&this.listeners_[n];if(!i)return;const r=e?new na(t):t;r.target||(r.target=this.eventTarget_||this);const s=this.dispatching_||(this.dispatching_={}),o=this.pendingRemovals_||(this.pendingRemovals_={});let a;n in s||(s[n]=0,o[n]=0),++s[n];for(let l=0,c=i.length;l<c;++l)if(a="handleEvent"in i[l]?i[l].handleEvent(r):i[l].call(this,r),!1===a||r.propagationStopped){a=!1;break}if(0===--s[n]){let t=o[n];for(delete o[n];t--;)this.removeEventListener(n,Jo);delete s[n]}return a}disposeInternal(){this.listeners_&&ta(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(t,e){if(!this.listeners_)return;const n=this.listeners_[t];if(!n)return;const i=n.indexOf(e);-1!==i&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[i]=Jo,++this.pendingRemovals_[t]):(n.splice(i,1),0===n.length&&delete this.listeners_[t]))}};function ra(t,e,n,i,r){if(r){const r=n;n=function(s){return t.removeEventListener(e,n),r.call(null!==i&&void 0!==i?i:this,s)}}else i&&i!==t&&(n=n.bind(i));const s={target:t,type:e,listener:n};return t.addEventListener(e,n),s}function sa(t,e,n,i){return ra(t,e,n,i,!0)}function oa(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),ta(t))}class aa extends ia{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Ro)}getRevision(){return this.revision_}onInternal(t,e){if(Array.isArray(t)){const n=t.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=ra(this,t[r],e);return i}return ra(this,t,e)}onceInternal(t,e){let n;if(Array.isArray(t)){const i=t.length;n=new Array(i);for(let r=0;r<i;++r)n[r]=sa(this,t[r],e)}else n=sa(this,t,e);return e.ol_key=n,n}unInternal(t,e){const n=e.ol_key;if(n)!function(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)oa(t[e]);else oa(t)}(n);else if(Array.isArray(t))for(let i=0,r=t.length;i<r;++i)this.removeEventListener(t[i],e);else this.removeEventListener(t,e)}}aa.prototype.on,aa.prototype.once,aa.prototype.un;const la=aa;function ca(){throw new Error("Unimplemented abstract method.")}let ua=0;function ha(t){return t.ol_uid||(t.ol_uid=String(++ua))}class da extends na{constructor(t,e,n){super(t),this.key=e,this.oldValue=n}}const fa=class extends la{constructor(t){super(),this.on,this.once,this.un,ha(this),this.values_=null,void 0!==t&&this.setProperties(t)}get(t){let e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,e){let n;n="change:".concat(t),this.hasListener(n)&&this.dispatchEvent(new da(n,t,e)),n=jo,this.hasListener(n)&&this.dispatchEvent(new da(n,t,e))}addChangeListener(t,e){this.addEventListener("change:".concat(t),e)}removeChangeListener(t,e){this.removeEventListener("change:".concat(t),e)}set(t,e,n){const i=this.values_||(this.values_={});if(n)i[t]=e;else{const n=i[t];i[t]=e,n!==e&&this.notify(t,n)}}setProperties(t,e){for(const n in t)this.set(n,t[n],e)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,e){if(this.values_&&t in this.values_){const n=this.values_[t];delete this.values_[t],ea(this.values_)&&(this.values_=null),e||this.notify(t,n)}}},pa="length";class ga extends na{constructor(t,e,n){super(t),this.element=e,this.index=n}}const ma=class extends fa{constructor(t,e){if(super(),this.on,this.once,this.un,e=e||{},this.unique_=!!e.unique,this.array_=t||[],this.unique_)for(let n=0,i=this.array_.length;n<i;++n)this.assertUnique_(this.array_[n],n);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let e=0,n=t.length;e<n;++e)this.push(t[e]);return this}forEach(t){const e=this.array_;for(let n=0,i=e.length;n<i;++n)t(e[n],n,e)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(pa)}insertAt(t,e){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new ga(Lo,e,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);const e=this.getLength();return this.insertAt(e,t),this.getLength()}remove(t){const e=this.array_;for(let n=0,i=e.length;n<i;++n)if(e[n]===t)return this.removeAt(n)}removeAt(t){if(t<0||t>=this.getLength())return;const e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new ga(Po,e,t)),e}setAt(t,e){if(t>=this.getLength())return void this.insertAt(t,e);if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e,t);const n=this.array_[t];this.array_[t]=e,this.dispatchEvent(new ga(Po,n,t)),this.dispatchEvent(new ga(Lo,e,t))}updateLength_(){this.set(pa,this.array_.length)}assertUnique_(t,e){for(let n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===t&&n!==e)throw new Error("Duplicate item added to a unique collection")}};const va=class extends na{constructor(t,e,n){super(t),this.map=e,this.frameState=void 0!==n?n:null}};const ya=class extends va{constructor(t,e,n,i,r,s){super(t,e,r),this.originalEvent=n,this.pixel_=null,this.coordinate_=null,this.dragging=void 0!==i&&i,this.activePointers=s}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},wa={SINGLECLICK:"singleclick",CLICK:Fo,DBLCLICK:Oo,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},ba="undefined"!==typeof navigator&&"undefined"!==typeof navigator.userAgent?navigator.userAgent.toLowerCase():"",_a=(ba.includes("safari")&&!ba.includes("chrom")&&(ba.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(ba)),ba.includes("webkit")&&!ba.includes("edge")),xa=ba.includes("macintosh"),Sa="undefined"!==typeof devicePixelRatio?devicePixelRatio:1,ka="undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,Ca="undefined"!==typeof Image&&Image.prototype.decode,Na=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(e){}return t}(),Aa="pointermove",Ea="pointerdown";const La=class extends ia{constructor(t,e){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=void 0===e?1:e,this.down_=null;const n=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=n,this.pointerdownListenerKey_=ra(n,Ea,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=ra(n,Aa,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(zo,this.boundHandleTouchMove_,!!Na&&{passive:!1})}emulateClick_(t){let e=new ya(wa.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new ya(wa.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const e=new ya(wa.SINGLECLICK,this.map_,t);this.dispatchEvent(e)},250)}updateActivePointers_(t){const e=t,n=e.pointerId;if(e.type==wa.POINTERUP||e.type==wa.POINTERCANCEL){delete this.trackedTouches_[n];for(const t in this.trackedTouches_)if(this.trackedTouches_[t].target!==e.target){delete this.trackedTouches_[t];break}}else e.type!=wa.POINTERDOWN&&e.type!=wa.POINTERMOVE||(this.trackedTouches_[n]=e);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const e=new ya(wa.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(oa),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return 0===t.button}handlePointerDown_(t){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(t);const e=new ya(wa.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(e),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),0===this.dragListenerKeys_.length){const t=this.map_.getOwnerDocument();this.dragListenerKeys_.push(ra(t,wa.POINTERMOVE,this.handlePointerMove_,this),ra(t,wa.POINTERUP,this.handlePointerUp_,this),ra(this.element_,wa.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==t&&this.dragListenerKeys_.push(ra(this.element_.getRootNode(),wa.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const e=new ya(wa.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(e)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new ya(wa.POINTERMOVE,this.map_,t,e))}handleTouchMove_(t){const e=this.originalPointerMoveEvent_;e&&!e.defaultPrevented||"boolean"===typeof t.cancelable&&!0!==t.cancelable||t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(oa(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(zo,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(oa(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(oa),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}},Pa="postrender",ja="movestart",Ra="moveend",Ta="loadstart",Ia="loadend",Fa="layergroup",Oa="size",Ma="target",Da="view",Ba=0,za=1,Ua=2,qa=3,Wa=4;function Ha(t,e){if(!t)throw new Error(e)}const Va=1/0;const Ga=class{constructor(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,ta(this.queuedElements_)}dequeue(){const t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));const i=this.keyFunction_(n);return delete this.queuedElements_[i],n}enqueue(t){Ha(!(this.keyFunction_(t)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const e=this.priorityFunction_(t);return e!=Va&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(t){return 2*t+1}getRightChildIndex_(t){return 2*t+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return 0===this.elements_.length}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const e=this.elements_,n=this.priorities_,i=e.length,r=e[t],s=n[t],o=t;for(;t<i>>1;){const r=this.getLeftChildIndex_(t),s=this.getRightChildIndex_(t),o=s<i&&n[s]<n[r]?s:r;e[t]=e[o],n[t]=n[o],t=o}e[t]=r,n[t]=s,this.siftDown_(o,t)}siftDown_(t,e){const n=this.elements_,i=this.priorities_,r=n[e],s=i[e];for(;e>t;){const t=this.getParentIndex_(e);if(!(i[t]>s))break;n[e]=n[t],i[e]=i[t],e=t}n[e]=r,i[e]=s}reprioritize(){const t=this.priorityFunction_,e=this.elements_,n=this.priorities_;let i=0;const r=e.length;let s,o,a;for(o=0;o<r;++o)s=e[o],a=t(s),a==Va?delete this.queuedElements_[this.keyFunction_(s)]:(n[i]=a,e[i++]=s);e.length=i,n.length=i,this.heapify_()}};const Ka=class extends Ga{constructor(t,e){super(e=>t.apply(null,e),t=>t[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=e,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const e=super.enqueue(t);if(e){t[0].addEventListener(Ro,this.boundHandleTileChange_)}return e}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const e=t.target,n=e.getState();if(n===Ua||n===qa||n===Wa){n!==qa&&e.removeEventListener(Ro,this.boundHandleTileChange_);const t=e.getKey();t in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[t],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,e){let n=0;for(;this.tilesLoading_<t&&n<e&&this.getCount()>0;){const t=this.dequeue()[0],e=t.getKey();t.getState()!==Ba||e in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[e]=!0,++this.tilesLoading_,++n,t.load())}}};const Ya=0,Xa=1,Za={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function Ja(t,e,n){return function(i,r,s,o,a){if(!i)return;if(!r&&!e)return i;const l=e?0:s[0]*r,c=e?0:s[1]*r,u=a?a[0]:0,h=a?a[1]:0;let d=t[0]+l/2+u,f=t[2]-l/2+u,p=t[1]+c/2+h,g=t[3]-c/2+h;d>f&&(d=(f+d)/2,f=d),p>g&&(p=(g+p)/2,g=p);let m=Kr(i[0],d,f),v=Kr(i[1],p,g);if(o&&n&&r){const t=30*r;m+=-t*Math.log(1+Math.max(0,d-i[0])/t)+t*Math.log(1+Math.max(0,i[0]-f)/t),v+=-t*Math.log(1+Math.max(0,p-i[1])/t)+t*Math.log(1+Math.max(0,i[1]-g)/t)}return[m,v]}}function $a(t){return t}function Qa(t){return Math.pow(t,3)}function tl(t){return 1-Qa(1-t)}function el(t){return 3*t*t-2*t*t*t}function nl(t){return t}new Array(6);function il(t,e){const n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function rl(t,e,n,i,r,s,o,a){const l=Math.sin(s),c=Math.cos(s);return t[0]=i*c,t[1]=r*l,t[2]=-i*l,t[3]=r*c,t[4]=o*i*c-a*i*l+e,t[5]=o*r*l+a*r*c+n,t}function sl(t,e){const n=(i=e)[0]*i[3]-i[1]*i[2];var i;Ha(0!==n,"Transformation matrix cannot be inverted");const r=e[0],s=e[1],o=e[2],a=e[3],l=e[4],c=e[5];return t[0]=a/n,t[1]=-s/n,t[2]=-o/n,t[3]=r/n,t[4]=(o*c-a*l)/n,t[5]=-(r*c-s*l)/n,t}const ol=[1e5,1e5,1e5,1e5,2,2];function al(t){return"matrix("+t.join(", ")+")"}function ll(t){return t.substring(7,t.length-1).split(",").map(parseFloat)}function cl(t,e,n,i,r,s,o){s=s||[],o=o||2;let a=0;for(let l=e;l<n;l+=i){const e=t[l],n=t[l+1];s[a++]=r[0]*e+r[2]*n+r[4],s[a++]=r[1]*e+r[3]*n+r[5];for(let i=2;i<o;i++)s[a++]=t[l+i]}return s&&s.length!=a&&(s.length=a),s}function ul(t,e,n,i,r,s,o){o=o||[];const a=Math.cos(r),l=Math.sin(r),c=s[0],u=s[1];let h=0;for(let d=e;d<n;d+=i){const e=t[d]-c,n=t[d+1]-u;o[h++]=c+e*a-n*l,o[h++]=u+e*l+n*a;for(let r=d+2;r<d+i;++r)o[h++]=t[r]}return o&&o.length!=h&&(o.length=h),o}const hl=[1,0,0,1,0,0],dl=[NaN,NaN];const fl=class extends fa{constructor(){super(),this.extent_=[1/0,1/0,-1/0,-1/0],this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=$o((t,e,n)=>{if(!n)return this.getSimplifiedGeometry(e);const i=this.clone();return i.applyTransform(n),i.getSimplifiedGeometry(e)})}simplifyTransformed(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)}clone(){return ca()}closestPointXY(t,e,n,i){return ca()}containsXY(t,e){return 0===this.closestPointXY(t,e,dl,Number.MIN_VALUE)}getClosestPoint(t,e){return e=e||[NaN,NaN],this.closestPointXY(t[0],t[1],e,1/0),e}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return ca()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&wr(t),this.extentRevision_=this.getRevision()}return function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}(this.extent_,t)}rotate(t,e){ca()}scale(t,e,n){ca()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return ca()}getType(){return ca()}applyTransform(t){ca()}intersectsExtent(t){return ca()}translate(t,e){ca()}transform(t,e){const n=no(t),i="tile-pixels"==n.getUnits()?function(t,i,r){const s=n.getExtent(),o=n.getWorldExtent(),a=Ir(o)/Ir(s);rl(hl,o[0],o[3],a,-a,0,0,0);const l=cl(t,0,t.length,r,hl,i),c=ho(n,e);return c?c(l,l,r):l}:ho(n,e);return this.applyTransform(i),this}};function pl(t){let e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}const gl=class extends fl{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return _r(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return ca()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,e){this.stride=pl(t),this.layout=t,this.flatCoordinates=e}setCoordinates(t,e){ca()}setLayout(t,e,n){let i;if(t)i=pl(t);else{for(let t=0;t<n;++t){if(0===e.length)return this.layout="XY",void(this.stride=2);e=e[0]}i=e.length,t=function(t){let e;2==t?e="XY":3==t?e="XYZ":4==t&&(e="XYZM");return e}(i)}this.layout=t,this.stride=i}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(t,e){const n=this.getFlatCoordinates();if(n){const i=this.getStride();ul(n,0,n.length,i,t,e,n),this.changed()}}scale(t,e,n){void 0===e&&(e=t),n||(n=Pr(this.getExtent()));const i=this.getFlatCoordinates();if(i){const r=this.getStride();!function(t,e,n,i,r,s,o,a){a=a||[];const l=o[0],c=o[1];let u=0;for(let h=e;h<n;h+=i){const e=t[h]-l,n=t[h+1]-c;a[u++]=l+r*e,a[u++]=c+s*n;for(let r=h+2;r<h+i;++r)a[u++]=t[r]}a&&a.length!=u&&(a.length=u)}(i,0,i.length,r,t,e,n,i),this.changed()}}translate(t,e){const n=this.getFlatCoordinates();if(n){const i=this.getStride();!function(t,e,n,i,r,s,o){o=o||[];let a=0;for(let l=e;l<n;l+=i){o[a++]=t[l]+r,o[a++]=t[l+1]+s;for(let e=l+2;e<l+i;++e)o[a++]=t[e]}o&&o.length!=a&&(o.length=a)}(n,0,n.length,i,t,e,n),this.changed()}}};function ml(t,e,n,i){let r=0;const s=t[n-i],o=t[n-i+1];let a=0,l=0;for(;e<n;e+=i){const n=t[e]-s,i=t[e+1]-o;r+=l*n-a*i,a=n,l=i}return r/2}function vl(t,e,n,i){let r=0;for(let s=0,o=n.length;s<o;++s){const o=n[s];r+=ml(t,e,o,i),e=o}return r}function yl(t,e,n,i,r,s,o){const a=t[e],l=t[e+1],c=t[n]-a,u=t[n+1]-l;let h;if(0===c&&0===u)h=e;else{const d=((r-a)*c+(s-l)*u)/(c*c+u*u);if(d>1)h=n;else{if(d>0){for(let r=0;r<i;++r)o[r]=Qr(t[e+r],t[n+r],d);return void(o.length=i)}h=e}}for(let d=0;d<i;++d)o[d]=t[h+d];o.length=i}function wl(t,e,n,i,r){let s=t[e],o=t[e+1];for(e+=i;e<n;e+=i){const n=t[e],i=t[e+1],a=Xr(s,o,n,i);a>r&&(r=a),s=n,o=i}return r}function bl(t,e,n,i,r){for(let s=0,o=n.length;s<o;++s){const o=n[s];r=wl(t,e,o,i,r),e=o}return r}function _l(t,e,n,i,r,s,o,a,l,c,u){if(e==n)return c;let h,d;if(0===r){if(d=Xr(o,a,t[e],t[e+1]),d<c){for(h=0;h<i;++h)l[h]=t[e+h];return l.length=i,d}return c}u=u||[NaN,NaN];let f=e+i;for(;f<n;)if(yl(t,f-i,f,i,o,a,u),d=Xr(o,a,u[0],u[1]),d<c){for(c=d,h=0;h<i;++h)l[h]=u[h];l.length=i,f+=i}else f+=i*Math.max((Math.sqrt(d)-Math.sqrt(c))/r|0,1);if(s&&(yl(t,n-i,e,i,o,a,u),d=Xr(o,a,u[0],u[1]),d<c)){for(c=d,h=0;h<i;++h)l[h]=u[h];l.length=i}return c}function xl(t,e,n,i,r,s,o,a,l,c,u){u=u||[NaN,NaN];for(let h=0,d=n.length;h<d;++h){const d=n[h];c=_l(t,e,d,i,r,s,o,a,l,c,u),e=d}return c}function Sl(t,e,n,i){for(let r=0,s=n.length;r<s;++r){const s=n[r];for(let n=0;n<i;++n)t[e++]=s[n]}return e}function kl(t,e,n,i,r){r=r||[];let s=0;for(let o=0,a=n.length;o<a;++o){const a=Sl(t,e,n[o],i);r[s++]=a,e=a}return r.length=s,r}function Cl(t,e,n,i,r){r=void 0!==r?r:[];let s=0;for(let o=e;o<n;o+=i)r[s++]=t.slice(o,o+i);return r.length=s,r}function Nl(t,e,n,i,r){r=void 0!==r?r:[];let s=0;for(let o=0,a=n.length;o<a;++o){const a=n[o];r[s++]=Cl(t,e,a,i,r[s]),e=a}return r.length=s,r}function Al(t,e,n,i,r){r=void 0!==r?r:[];let s=0;for(let o=0,a=n.length;o<a;++o){const a=n[o];r[s++]=1===a.length&&a[0]===e?[]:Nl(t,e,a,i,r[s]),e=a[a.length-1]}return r.length=s,r}function El(t,e,n,i,r,s,o){const a=(n-e)/i;if(a<3){for(;e<n;e+=i)s[o++]=t[e],s[o++]=t[e+1];return o}const l=new Array(a);l[0]=1,l[a-1]=1;const c=[e,n-i];let u=0;for(;c.length>0;){const n=c.pop(),s=c.pop();let o=0;const a=t[s],h=t[s+1],d=t[n],f=t[n+1];for(let e=s+i;e<n;e+=i){const n=Yr(t[e],t[e+1],a,h,d,f);n>o&&(u=e,o=n)}o>r&&(l[(u-e)/i]=1,s+i<u&&c.push(s,u),u+i<n&&c.push(u,n))}for(let h=0;h<a;++h)l[h]&&(s[o++]=t[e+h*i],s[o++]=t[e+h*i+1]);return o}function Ll(t,e,n,i,r,s,o,a){for(let l=0,c=n.length;l<c;++l){const c=n[l];o=El(t,e,c,i,r,s,o),a.push(o),e=c}return o}function Pl(t,e){return e*Math.round(t/e)}function jl(t,e,n,i,r,s,o){if(e==n)return o;let a,l,c=Pl(t[e],r),u=Pl(t[e+1],r);e+=i,s[o++]=c,s[o++]=u;do{if(a=Pl(t[e],r),l=Pl(t[e+1],r),(e+=i)==n)return s[o++]=a,s[o++]=l,o}while(a==c&&l==u);for(;e<n;){const n=Pl(t[e],r),h=Pl(t[e+1],r);if(e+=i,n==a&&h==l)continue;const d=a-c,f=l-u,p=n-c,g=h-u;d*g==f*p&&(d<0&&p<d||d==p||d>0&&p>d)&&(f<0&&g<f||f==g||f>0&&g>f)?(a=n,l=h):(s[o++]=a,s[o++]=l,c=a,u=l,a=n,l=h)}return s[o++]=a,s[o++]=l,o}function Rl(t,e,n,i,r,s,o,a){for(let l=0,c=n.length;l<c;++l){const c=n[l];o=jl(t,e,c,i,r,s,o),a.push(o),e=c}return o}class Tl extends gl{constructor(t,e){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?this.setCoordinates(t,e):this.setFlatCoordinates(e,t)}clone(){return new Tl(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,e,n,i){return i<dr(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(wl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),_l(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))}getArea(){return ml(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Cl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const e=[];return e.length=El(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new Tl(e,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Sl(this.flatCoordinates,0,t,this.stride),this.changed()}}const Il=Tl;class Fl extends gl{constructor(t,e){super(),this.setCoordinates(t,e)}clone(){const t=new Fl(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,n,i){const r=this.flatCoordinates,s=Xr(t,e,r[0],r[1]);if(s<i){const t=this.stride;for(let e=0;e<t;++e)n[e]=r[e];return n.length=t,s}return i}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return br(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return gr(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(t,e,n){for(let i=0,r=n.length;i<r;++i)t[e++]=n[i];return e}(this.flatCoordinates,0,t,this.stride),this.changed()}}const Ol=Fl;function Ml(t,e,n,i,r){return!Nr(r,function(r){return!Dl(t,e,n,i,r[0],r[1])})}function Dl(t,e,n,i,r,s){let o=0,a=t[n-i],l=t[n-i+1];for(;e<n;e+=i){const n=t[e],i=t[e+1];l<=s?i>s&&(n-a)*(s-l)-(r-a)*(i-l)>0&&o++:i<=s&&(n-a)*(s-l)-(r-a)*(i-l)<0&&o--,a=n,l=i}return 0!==o}function Bl(t,e,n,i,r,s){if(0===n.length)return!1;if(!Dl(t,e,n[0],i,r,s))return!1;for(let o=1,a=n.length;o<a;++o)if(Dl(t,n[o-1],n[o],i,r,s))return!1;return!0}function zl(t,e,n,i,r,s,o){let a,l,c,u,h,d,f;const p=r[s+1],g=[];for(let y=0,w=n.length;y<w;++y){const r=n[y];for(u=t[r-i],d=t[r-i+1],a=e;a<r;a+=i)h=t[a],f=t[a+1],(p<=d&&f<=p||d<=p&&p<=f)&&(c=(p-d)/(f-d)*(h-u)+u,g.push(c)),u=h,d=f}let m=NaN,v=-1/0;for(g.sort(Wo),u=g[0],a=1,l=g.length;a<l;++a){h=g[a];const r=Math.abs(h-u);r>v&&(c=(u+h)/2,Bl(t,e,n,i,c,p)&&(m=c,v=r)),u=h}return isNaN(m)&&(m=r[s]),o?(o.push(m,p,v),o):[m,p,v]}function Ul(t,e,n,i,r,s){return s=null!==s&&void 0!==s?s:kr([1/0,1/0,-1/0,-1/0],t,e,n,i),!!Br(r,s)&&(s[0]>=r[0]&&s[2]<=r[2]||s[1]>=r[1]&&s[3]<=r[3]||function(t,e,n,i,r){let s;for(e+=i;e<n;e+=i)if(s=r(t.slice(e-i,e),t.slice(e,e+i)),s)return s;return!1}(t,e,n,i,function(t,e){return function(t,e,n){let i=!1;const r=mr(t,e),s=mr(t,n);if(r===rr||s===rr)i=!0;else{const o=t[0],a=t[1],l=t[2],c=t[3],u=e[0],h=e[1],d=n[0],f=n[1],p=(f-h)/(d-u);let g,m;s&sr&&!(r&sr)&&(g=d-(f-c)/p,i=g>=o&&g<=l),i||!(s&or)||r&or||(m=f-(d-l)*p,i=m>=a&&m<=c),i||!(s&ar)||r&ar||(g=d-(f-a)/p,i=g>=o&&g<=l),i||!(s&lr)||r&lr||(m=f-(d-o)*p,i=m>=a&&m<=c)}return i}(r,t,e)}))}function ql(t,e,n,i,r){return!!Ul(t,e,n,i,r)||(!!Dl(t,e,n,i,r[0],r[1])||(!!Dl(t,e,n,i,r[0],r[3])||(!!Dl(t,e,n,i,r[2],r[1])||!!Dl(t,e,n,i,r[2],r[3]))))}function Wl(t,e,n,i,r){if(!ql(t,e,n[0],i,r))return!1;if(1===n.length)return!0;for(let s=1,o=n.length;s<o;++s)if(Ml(t,n[s-1],n[s],i,r)&&!Ul(t,n[s-1],n[s],i,r))return!1;return!0}function Hl(t,e,n,i){for(;e<n-i;){for(let r=0;r<i;++r){const s=t[e+r];t[e+r]=t[n-i+r],t[n-i+r]=s}e+=i,n-=i}}function Vl(t,e,n,i){let r=0,s=t[n-i],o=t[n-i+1];for(;e<n;e+=i){const n=t[e],i=t[e+1];r+=(n-s)*(i+o),s=n,o=i}return 0===r?void 0:r>0}function Gl(t,e,n,i,r){r=void 0!==r&&r;for(let s=0,o=n.length;s<o;++s){const o=n[s],a=Vl(t,e,o,i);if(0===s){if(r&&a||!r&&!a)return!1}else if(r&&!a||!r&&a)return!1;e=o}return!0}function Kl(t,e,n,i,r){r=void 0!==r&&r;for(let s=0,o=n.length;s<o;++s){const o=n[s],a=Vl(t,e,o,i);(0===s?r&&a||!r&&!a:r&&!a||!r&&a)&&Hl(t,e,o,i),e=o}return e}class Yl extends gl{constructor(t,e,n){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==e&&n?(this.setFlatCoordinates(e,t),this.ends_=n):this.setCoordinates(t,e)}appendLinearRing(t){this.flatCoordinates?Ko(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new Yl(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,n,i){return i<dr(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(bl(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),xl(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,i))}containsXY(t,e){return Bl(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)}getArea(){return vl(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Kl(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,Nl(e,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=Pr(this.getExtent());this.flatInteriorPoint_=zl(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Ol(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new Il(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,e=this.flatCoordinates,n=this.ends_,i=[];let r=0;for(let s=0,o=n.length;s<o;++s){const o=n[s],a=new Il(e.slice(r,o),t);i.push(a),r=o}return i}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;Gl(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Kl(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],n=[];return e.length=Rl(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,n),new Yl(e,"XY",n)}getType(){return"Polygon"}intersectsExtent(t){return Wl(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=kl(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}const Xl=Yl;function Zl(t){if(zr(t))throw new Error("Cannot create polygon from empty extent");const e=t[0],n=t[1],i=t[2],r=t[3],s=[e,n,e,r,i,r,i,n,e,n];return new Yl(s,"XY",[s.length])}function Jl(t,e,n,i){const r=Dr(e)/n[0],s=Ir(e)/n[1];return i?Math.min(t,Math.max(r,s)):Math.min(t,Math.min(r,s))}function $l(t,e,n){let i=Math.min(t,e);return i*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(i=Math.max(i,n),i/=Math.log(1+50*Math.max(0,n/t-1))/50+1),Kr(i,n/2,2*e)}function Ql(t,e,n,i,r){return n=void 0===n||n,function(s,o,a,l){if(void 0!==s){const o=i?Jl(t,i,a,r):t;return n&&l?$l(s,o,e):Kr(s,e,o)}}}function tc(t){if(void 0!==t)return 0}function ec(t){if(void 0!==t)return t}const nc=256;function ic(t,e){setTimeout(function(){t(e)},0)}function rc(t){return!(t.sourceCenter&&t.targetCenter&&!Hr(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}function sc(t,e,n,i,r){const s=Math.cos(-r);let o=Math.sin(-r),a=t[0]*s-t[1]*o,l=t[1]*s+t[0]*o;a+=(e[0]/2-n[0])*i,l+=(n[1]-e[1]/2)*i,o=-o;return[a*s-l*o,l*s+a*o]}const oc=class extends fa{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=so(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&Qs(),t.center&&(t.center=yo(t.center,this.projection_)),t.extent&&(t.extent=bo(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const e=Object.assign({},t);for(const o in Za)delete e[o];this.setProperties(e,!0);const n=function(t){let e,n,i;const r=28,s=2;let o=void 0!==t.minZoom?t.minZoom:0,a=void 0!==t.maxZoom?t.maxZoom:r;const l=void 0!==t.zoomFactor?t.zoomFactor:s,c=void 0!==t.multiWorld&&t.multiWorld,u=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,h=void 0!==t.showFullExtent&&t.showFullExtent,d=so(t.projection,"EPSG:3857"),f=d.getExtent();let p=t.constrainOnlyCenter,g=t.extent;c||g||!d.isGlobal()||(p=!1,g=f);if(void 0!==t.resolutions){const r=t.resolutions;n=r[o],i=void 0!==r[a]?r[a]:r[r.length-1],e=t.constrainResolution?function(t,e,n,i){return e=void 0===e||e,function(r,s,o,a){if(void 0!==r){const l=t[0],c=t[t.length-1],u=n?Jl(l,n,o,i):l;if(a)return e?$l(r,u,c):Kr(r,c,u);const h=Math.min(u,r),d=Math.floor(Vo(t,h,s));return t[d]>u&&d<t.length-1?t[d+1]:t[d]}}}(r,u,!p&&g,h):Ql(n,i,u,!p&&g,h)}else{const c=(f?Math.max(Dr(f),Ir(f)):360*rs.degrees/d.getMetersPerUnit())/nc/Math.pow(s,0),m=c/Math.pow(s,r-0);n=t.maxResolution,void 0!==n?o=0:n=c/Math.pow(l,o),i=t.minResolution,void 0===i&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(l,a):c/Math.pow(l,a):m),a=o+Math.floor(Math.log(n/i)/Math.log(l)),i=n/Math.pow(l,a-o),e=t.constrainResolution?function(t,e,n,i,r,s){return i=void 0===i||i,n=void 0!==n?n:0,function(o,a,l,c){if(void 0!==o){const u=r?Jl(e,r,l,s):e;if(c)return i?$l(o,u,n):Kr(o,n,u);const h=1e-9,d=Math.ceil(Math.log(e/u)/Math.log(t)-h),f=-a*(.5-h)+.5,p=Math.min(u,o),g=Math.floor(Math.log(e/p)/Math.log(t)+f),m=Math.max(d,g);return Kr(e/Math.pow(t,m),n,u)}}}(l,n,i,u,!p&&g,h):Ql(n,i,u,!p&&g,h)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:o,zoomFactor:l}}(t);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=n.minZoom;const i=function(t){if(void 0!==t.extent){const e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return Ja(t.extent,t.constrainOnlyCenter,e)}const e=so(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,Ja(t,!1,!1)}return $a}(t),r=n.constraint,s=function(t){const e=void 0===t.enableRotation||t.enableRotation;if(e){const e=t.constrainRotation;return void 0===e||!0===e?function(t){const e=void 0===t?Jr(5):t;return function(t,n){return n||void 0===t?t:Math.abs(t)<=e?0:t}}():!1===e?ec:"number"===typeof e?function(t){const e=2*Math.PI/t;return function(t,n){return n?t:void 0!==t?t=Math.floor(t/e+.5)*e:void 0}}(e):ec}return tc}(t);this.constraints_={center:i,resolution:r,rotation:s},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let e=this.padding_;this.padding_=t;const n=this.getCenterInternal();if(n){const i=t||[0,0,0,0];e=e||[0,0,0,0];const r=this.getResolution(),s=r/2*(i[3]-e[3]+e[1]-i[1]),o=r/2*(i[0]-e[0]+e[2]-i[2]);this.setCenterInternal([n[0]+s,n[1]-o])}}getUpdatedOptions_(t){const e=this.getProperties();return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Object.assign({},e,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const e=new Array(arguments.length);for(let n=0;n<e.length;++n){let t=arguments[n];t.center&&(t=Object.assign({},t),t.center=yo(t.center,this.getProjection())),t.anchor&&(t=Object.assign({},t),t.anchor=yo(t.anchor,this.getProjection())),e[n]=t}this.animateInternal.apply(this,e)}animateInternal(t){let e,n=arguments.length;n>1&&"function"===typeof arguments[n-1]&&(e=arguments[n-1],--n);let i=0;for(;i<n&&!this.isDef();++i){const t=arguments[i];t.center&&this.setCenterInternal(t.center),void 0!==t.zoom?this.setZoom(t.zoom):t.resolution&&this.setResolution(t.resolution),void 0!==t.rotation&&this.setRotation(t.rotation)}if(i===n)return void(e&&ic(e,!0));let r=Date.now(),s=this.targetCenter_.slice(),o=this.targetResolution_,a=this.targetRotation_;const l=[];for(;i<n;++i){const t=arguments[i],n={start:r,complete:!1,anchor:t.anchor,duration:void 0!==t.duration?t.duration:1e3,easing:t.easing||el,callback:e};if(t.center&&(n.sourceCenter=s,n.targetCenter=t.center.slice(),s=n.targetCenter),void 0!==t.zoom?(n.sourceResolution=o,n.targetResolution=this.getResolutionForZoom(t.zoom),o=n.targetResolution):t.resolution&&(n.sourceResolution=o,n.targetResolution=t.resolution,o=n.targetResolution),void 0!==t.rotation){n.sourceRotation=a;const e=$r(t.rotation-a+Math.PI,2*Math.PI)-Math.PI;n.targetRotation=a+e,a=n.targetRotation}rc(n)?n.complete=!0:r+=n.duration,l.push(n)}this.animations_.push(l),this.setHint(Ya,1),this.updateAnimations_()}getAnimating(){return this.hints_[Ya]>0}getInteracting(){return this.hints_[Xa]>0}cancelAnimations(){let t;this.setHint(Ya,-this.hints_[Ya]);for(let e=0,n=this.animations_.length;e<n;++e){const n=this.animations_[e];if(n[0].callback&&ic(n[0].callback,!1),!t)for(let e=0,i=n.length;e<i;++e){const i=n[e];if(!i.complete){t=i.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let e=!1;for(let n=this.animations_.length-1;n>=0;--n){const i=this.animations_[n];let r=!0;for(let n=0,s=i.length;n<s;++n){const s=i[n];if(s.complete)continue;const o=t-s.start;let a=s.duration>0?o/s.duration:1;a>=1?(s.complete=!0,a=1):r=!1;const l=s.easing(a);if(s.sourceCenter){const t=s.sourceCenter[0],e=s.sourceCenter[1],n=s.targetCenter[0],i=s.targetCenter[1];this.nextCenter_=s.targetCenter;const r=t+l*(n-t),o=e+l*(i-e);this.targetCenter_=[r,o]}if(s.sourceResolution&&s.targetResolution){const t=1===l?s.targetResolution:s.sourceResolution+l*(s.targetResolution-s.sourceResolution);if(s.anchor){const e=this.getViewportSize_(this.getRotation()),n=this.constraints_.resolution(t,0,e,!0);this.targetCenter_=this.calculateCenterZoom(n,s.anchor)}this.nextResolution_=s.targetResolution,this.targetResolution_=t,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){const t=1===l?$r(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+l*(s.targetRotation-s.sourceRotation);if(s.anchor){const e=this.constraints_.rotation(t,!0);this.targetCenter_=this.calculateCenterRotate(e,s.anchor)}this.nextRotation_=s.targetRotation,this.targetRotation_=t}if(this.applyTargetState_(!0),e=!0,!s.complete)break}if(r){this.animations_[n]=null,this.setHint(Ya,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const t=i[0].callback;t&&ic(t,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,e){let n;const i=this.getCenterInternal();var r,s;return void 0!==i&&(n=[i[0]-e[0],i[1]-e[1]],Vr(n,t-this.getRotation()),s=e,(r=n)[0]+=+s[0],r[1]+=+s[1]),n}calculateCenterZoom(t,e){let n;const i=this.getCenterInternal(),r=this.getResolution();if(void 0!==i&&void 0!==r){n=[e[0]-t*(e[0]-i[0])/r,e[1]-t*(e[1]-i[1])/r]}return n}getViewportSize_(t){const e=this.viewportSize_;if(t){const n=e[0],i=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(i*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(i*Math.cos(t))]}return e}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t?vo(t,this.getProjection()):t}getCenterInternal(){return this.get(Za.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){return wo(this.calculateExtentInternal(t),this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const e=this.getCenterInternal();Ha(e,"The view center is not defined");const n=this.getResolution();Ha(void 0!==n,"The view resolution is not defined");const i=this.getRotation();return Ha(void 0!==i,"The view rotation is not defined"),Rr(e,n,i,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(Za.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,e){return this.getResolutionForExtentInternal(bo(t,this.getProjection()),e)}getResolutionForExtentInternal(t,e){e=e||this.getViewportSizeMinusPadding_();const n=Dr(t)/e[0],i=Ir(t)/e[1];return Math.max(n,i)}getResolutionForValueFunction(t){t=t||2;const e=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,i=Math.log(e/n)/Math.log(t);return function(n){return e/Math.pow(t,n*i)}}getRotation(){return this.get(Za.ROTATION)}getValueForResolutionFunction(t){const e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(n/i)/e;return function(t){return Math.log(n/t)/e/r}}getViewportSizeMinusPadding_(t){let e=this.getViewportSize_(t);const n=this.padding_;return n&&(e=[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]),e}getState(){const t=this.getProjection(),e=this.getResolution(),n=this.getRotation();let i=this.getCenterInternal();const r=this.padding_;if(r){const t=this.getViewportSizeMinusPadding_();i=sc(i,this.getViewportSize_(),[t[0]/2+r[3],t[1]/2+r[0]],e,n)}return{center:i.slice(0),projection:void 0!==t?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t;const e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t}getZoomForResolution(t){let e,n,i=this.minZoom_||0;if(this.resolutions_){const r=Vo(this.resolutions_,t,1);i=r,e=this.resolutions_[r],n=r==this.resolutions_.length-1?2:e/this.resolutions_[r+1]}else e=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(e/t)/Math.log(n)}getResolutionForZoom(t){var e;if(null!==(e=this.resolutions_)&&void 0!==e&&e.length){if(1===this.resolutions_.length)return this.resolutions_[0];const e=Kr(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,Kr(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,e){let n;if(Ha(Array.isArray(t)||"function"===typeof t.getSimplifiedGeometry,"Invalid extent or geometry provided as `geometry`"),Array.isArray(t)){Ha(!zr(t),"Cannot fit empty extent provided as `geometry`");n=Zl(bo(t,this.getProjection()))}else if("Circle"===t.getType()){const e=bo(t.getExtent(),this.getProjection());n=Zl(e),n.rotate(this.getRotation(),Pr(e))}else{const e=mo();n=e?t.clone().transform(e,this.getProjection()):t}this.fitInternal(n,e)}rotatedExtentForGeometry(t){const e=this.getRotation(),n=Math.cos(e),i=Math.sin(-e),r=t.getFlatCoordinates(),s=t.getStride();let o=1/0,a=1/0,l=-1/0,c=-1/0;for(let u=0,h=r.length;u<h;u+=s){const t=r[u]*n-r[u+1]*i,e=r[u]*i+r[u+1]*n;o=Math.min(o,t),a=Math.min(a,e),l=Math.max(l,t),c=Math.max(c,e)}return[o,a,l,c]}fitInternal(t,e){let n=(e=e||{}).size;n||(n=this.getViewportSizeMinusPadding_());const i=void 0!==e.padding?e.padding:[0,0,0,0],r=void 0!==e.nearest&&e.nearest;let s;s=void 0!==e.minResolution?e.minResolution:void 0!==e.maxZoom?this.getResolutionForZoom(e.maxZoom):0;const o=this.rotatedExtentForGeometry(t);let a=this.getResolutionForExtentInternal(o,[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]);a=isNaN(a)?s:Math.max(a,s),a=this.getConstrainedResolution(a,r?0:1);const l=this.getRotation(),c=Math.sin(l),u=Math.cos(l),h=Pr(o);h[0]+=(i[1]-i[3])/2*a,h[1]+=(i[0]-i[2])/2*a;const d=h[0]*u-h[1]*c,f=h[1]*u+h[0]*c,p=this.getConstrainedCenter([d,f],a),g=e.callback?e.callback:Jo;void 0!==e.duration?this.animateInternal({resolution:a,center:p,duration:e.duration,easing:e.easing},g):(this.targetResolution_=a,this.targetCenter_=p,this.applyTargetState_(!1,!0),ic(g,!0))}centerOn(t,e,n){this.centerOnInternal(yo(t,this.getProjection()),e,n)}centerOnInternal(t,e,n){this.setCenterInternal(sc(t,e,n,this.getResolution(),this.getRotation()))}calculateCenterShift(t,e,n,i){let r;const s=this.padding_;if(s&&t){const o=this.getViewportSizeMinusPadding_(-n),a=sc(t,i,[o[0]/2+s[3],o[1]/2+s[0]],e,n);r=[t[0]-a[0],t[1]-a[1]]}return r}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(t){const e=vo(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])}adjustCenterInternal(t){const e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])}adjustResolution(t,e){e=e&&yo(e,this.getProjection()),this.adjustResolutionInternal(t,e)}adjustResolutionInternal(t,e){const n=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),r=this.constraints_.resolution(this.targetResolution_*t,0,i,n);e&&(this.targetCenter_=this.calculateCenterZoom(r,e)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)}adjustRotation(t,e){e&&(e=yo(e,this.getProjection())),this.adjustRotationInternal(t,e)}adjustRotationInternal(t,e){const n=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(i,e)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t?yo(t,this.getProjection()):t)}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,e){const n=this.getAnimating()||this.getInteracting()||e,i=this.constraints_.rotation(this.targetRotation_,n),r=this.getViewportSize_(i),s=this.constraints_.resolution(this.targetResolution_,0,r,n),o=this.constraints_.center(this.targetCenter_,s,r,n,this.calculateCenterShift(this.targetCenter_,s,i,r));this.get(Za.ROTATION)!==i&&this.set(Za.ROTATION,i),this.get(Za.RESOLUTION)!==s&&(this.set(Za.RESOLUTION,s),this.set("zoom",this.getZoom(),!0)),o&&this.get(Za.CENTER)&&Hr(this.get(Za.CENTER),o)||this.set(Za.CENTER,o),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,e,n){t=void 0!==t?t:200;const i=e||0,r=this.constraints_.rotation(this.targetRotation_),s=this.getViewportSize_(r),o=this.constraints_.resolution(this.targetResolution_,i,s),a=this.constraints_.center(this.targetCenter_,o,s,!1,this.calculateCenterShift(this.targetCenter_,o,r,s));if(0===t&&!this.cancelAnchor_)return this.targetResolution_=o,this.targetRotation_=r,this.targetCenter_=a,void this.applyTargetState_();n=n||(0===t?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===o&&this.getRotation()===r&&this.getCenterInternal()&&Hr(this.getCenterInternal(),a)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:a,resolution:o,duration:t,easing:tl,anchor:n}))}beginInteraction(){this.resolveConstraints(0),this.setHint(Xa,1)}endInteraction(t,e,n){n=n&&yo(n,this.getProjection()),this.endInteractionInternal(t,e,n)}endInteractionInternal(t,e,n){this.getInteracting()&&(this.setHint(Xa,-1),this.resolveConstraints(t,e,n))}getConstrainedCenter(t,e){const n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)}getConstrainedZoom(t,e){const n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))}getConstrainedResolution(t,e){e=e||0;const n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,e,n)}},ac="ol-hidden",lc="ol-unselectable",cc="ol-control",uc="ol-collapsed",hc=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z0-9]+?)\\s*$"].join(""),"i"),dc=["style","variant","weight","size","lineHeight","family"],fc={normal:400,bold:700},pc=function(t){const e=t.match(hc);if(!e)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"400",variant:"normal"};for(let i=0,r=dc.length;i<r;++i){const t=e[i+1];void 0!==t&&(n[dc[i]]="string"===typeof t?t.trim():t)}return isNaN(Number(n.weight))&&n.weight in fc&&(n.weight=fc[n.weight]),n.families=n.family.split(/,\s?/).map(t=>t.trim().replace(/^['"]|['"]$/g,"")),n};function gc(t,e,n,i){let r;return r=n&&n.length?n.shift():ka?new OffscreenCanvas(t||300,e||300):document.createElement("canvas"),t&&(r.width=t),e&&(r.height=e),r.getContext("2d",i)}let mc;function vc(){return mc||(mc=gc(1,1)),mc}function yc(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function wc(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}const bc=class extends fa{constructor(t){super();const e=t.element;!e||t.target||e.style.pointerEvents||(e.style.pointerEvents="auto"),this.element=e||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){var t;null===(t=this.element)||void 0===t||t.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(t){var e;this.map_&&(null===(e=this.element)||void 0===e||e.remove());for(let i=0,r=this.listenerKeys.length;i<r;++i)oa(this.listenerKeys[i]);if(this.listenerKeys.length=0,this.map_=t,t){var n;const e=null!==(n=this.target_)&&void 0!==n?n:t.getOverlayContainerStopEvent();this.element&&e.appendChild(this.element),this.render!==Jo&&this.listenerKeys.push(ra(t,Pa,this.render,this)),t.render()}}render(t){}setTarget(t){this.target_="string"===typeof t?document.getElementById(t):t}};const _c=class extends bc{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===t.collapsed||t.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==t.collapsible,this.collapsible_=void 0===t.collapsible||t.collapsible,this.collapsible_||(this.collapsed_=!1),this.attributions_=t.attributions;const e=void 0!==t.className?t.className:"ol-attribution",n=void 0!==t.tipLabel?t.tipLabel:"Attributions",i=void 0!==t.expandClassName?t.expandClassName:e+"-expand",r=void 0!==t.collapseLabel?t.collapseLabel:"\u203a",s=void 0!==t.collapseClassName?t.collapseClassName:e+"-collapse";"string"===typeof r?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=r,this.collapseLabel_.className=s):this.collapseLabel_=r;const o=void 0!==t.label?t.label:"i";"string"===typeof o?(this.label_=document.createElement("span"),this.label_.textContent=o,this.label_.className=i):this.label_=o;const a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=n,this.toggleButton_.appendChild(a),this.toggleButton_.addEventListener(Fo,this.handleClick_.bind(this),!1);const l=e+" "+lc+" "+cc+(this.collapsed_&&this.collapsible_?" "+uc:"")+(this.collapsible_?"":" ol-uncollapsible"),c=this.element;c.className=l,c.appendChild(this.toggleButton_),c.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){const e=this.getMap().getAllLayers(),n=new Set(e.flatMap(e=>e.getAttributions(t)));if(void 0!==this.attributions_&&(Array.isArray(this.attributions_)?this.attributions_.forEach(t=>n.add(t)):n.add(this.attributions_)),!this.overrideCollapsible_){const t=!e.some(t=>{var e;return!1===(null===(e=t.getSource())||void 0===e?void 0:e.getAttributionsCollapsible())});this.setCollapsible(t)}return Array.from(n)}async updateElement_(t){if(!t)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const e=await Promise.all(this.collectSourceAttributions_(t).map(t=>Qo(()=>t))),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!Yo(e,this.renderedAttributions_)){!function(t){for(;t.lastChild;)t.lastChild.remove()}(this.ulElement_);for(let t=0,n=e.length;t<n;++t){const n=document.createElement("li");n.innerHTML=e[t],this.ulElement_.appendChild(n)}this.renderedAttributions_=e}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(uc),this.collapsed_?wc(this.collapseLabel_,this.label_):wc(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}};const xc=class extends bc{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const e=void 0!==t.className?t.className:"ol-rotate",n=void 0!==t.label?t.label:"\u21e7",i=void 0!==t.compassClassName?t.compassClassName:"ol-compass";this.label_=null,"string"===typeof n?(this.label_=document.createElement("span"),this.label_.className=i,this.label_.textContent=n):(this.label_=n,this.label_.classList.add(i));const r=t.tipLabel?t.tipLabel:"Reset rotation",s=document.createElement("button");s.className=e+"-reset",s.setAttribute("type","button"),s.title=r,s.appendChild(this.label_),s.addEventListener(Fo,this.handleClick_.bind(this),!1);const o=e+" "+lc+" "+cc,a=this.element;a.className=o,a.appendChild(s),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=void 0!==t.duration?t.duration:250,this.autoHide_=void 0===t.autoHide||t.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(ac)}handleClick_(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const t=this.getMap().getView();if(!t)return;const e=t.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!==0?t.animate({rotation:0,duration:this.duration_,easing:tl}):t.setRotation(0))}render(t){const e=t.frameState;if(!e)return;const n=e.viewState.rotation;if(n!=this.rotation_){const t="rotate("+n+"rad)";if(this.autoHide_){const t=this.element.classList.contains(ac);t||0!==n?t&&0!==n&&this.element.classList.remove(ac):this.element.classList.add(ac)}this.label_.style.transform=t}this.rotation_=n}};const Sc=class extends bc{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});const e=void 0!==t.className?t.className:"ol-zoom",n=void 0!==t.delta?t.delta:1,i=void 0!==t.zoomInClassName?t.zoomInClassName:e+"-in",r=void 0!==t.zoomOutClassName?t.zoomOutClassName:e+"-out",s=void 0!==t.zoomInLabel?t.zoomInLabel:"+",o=void 0!==t.zoomOutLabel?t.zoomOutLabel:"\u2013",a=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",l=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",c=document.createElement("button");c.className=i,c.setAttribute("type","button"),c.title=a,c.appendChild("string"===typeof s?document.createTextNode(s):s),c.addEventListener(Fo,this.handleClick_.bind(this,n),!1);const u=document.createElement("button");u.className=r,u.setAttribute("type","button"),u.title=l,u.appendChild("string"===typeof o?document.createTextNode(o):o),u.addEventListener(Fo,this.handleClick_.bind(this,-n),!1);const h=e+" "+lc+" "+cc,d=this.element;d.className=h,d.appendChild(c),d.appendChild(u),this.duration_=void 0!==t.duration?t.duration:250}handleClick_(t,e){e.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const e=this.getMap().getView();if(!e)return;const n=e.getZoom();if(void 0!==n){const i=e.getConstrainedZoom(n+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:i,duration:this.duration_,easing:tl})):e.setZoom(i)}}};const kc=class{constructor(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,e){this.points_.push(t,e,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;let n=e-3;for(;n>0&&this.points_[n+2]>t;)n-=3;const i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;const r=this.points_[e]-this.points_[n],s=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(s,r),this.initialVelocity_=Math.sqrt(r*r+s*s)/i,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}},Cc="active";function Nc(t,e,n,i){const r=t.getZoom();if(void 0===r)return;const s=t.getConstrainedZoom(r+e),o=t.getResolutionForZoom(s);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:o,anchor:n,duration:void 0!==i?i:250,easing:tl})}const Ac=class extends fa{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(Cc)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(Cc,t)}setMap(t){this.map_=t}};const Ec=class extends Ac{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:250}handleEvent(t){let e=!1;if(t.type==wa.DBLCLICK){const n=t.originalEvent,i=t.map,r=t.coordinate,s=n.shiftKey?-this.delta_:this.delta_;Nc(i.getView(),s,r,this.duration_),n.preventDefault(),e=!0}return!e}};function Lc(t){const e=arguments;return function(t){let n=!0;for(let i=0,r=e.length;i<r&&(n=n&&e[i](t),n);++i);return n}}const Pc=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},jc=function(t){const e=t.map.getTargetElement(),n=e.getRootNode();return!(n instanceof ShadowRoot?n.host:e).hasAttribute("tabindex")||function(t){const e=t.map.getTargetElement(),n=e.getRootNode(),i=t.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(i):e.contains(i)}(t)},Rc=Xo,Tc=function(t){const e=t.originalEvent;return"pointerId"in e&&0==e.button&&!(_a&&xa&&e.ctrlKey)},Ic=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Fc=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Oc=function(t){const e=t.originalEvent,n=e.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!e.target.isContentEditable},Mc=function(t){const e=t.originalEvent;return"pointerId"in e&&"mouse"==e.pointerType},Dc=function(t){const e=t.originalEvent;return"pointerId"in e&&e.isPrimary&&0===e.button};function Bc(t){const e=t.length;let n=0,i=0;for(let r=0;r<e;r++)n+=t[r].clientX,i+=t[r].clientY;return{clientX:n/e,clientY:i/e}}const zc=class extends Ac{constructor(t){super(t=t||{}),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==wa.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==wa.POINTERUP){const e=this.handleUpEvent(t);this.handlingDownUpSequence=e&&this.targetPointers.length>0}}else if(t.type==wa.POINTERDOWN){const n=this.handleDownEvent(t);this.handlingDownUpSequence=n,e=this.stopDown(n)}else t.type==wa.POINTERMOVE&&this.handleMoveEvent(t);return!e}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}};const Uc=class extends zc{constructor(t){super({stopDown:Zo}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const e=t.condition?t.condition:Lc(Ic,Dc);this.condition_=t.onFocusOnly?Lc(jc,e):e,this.noKinetic_=!1}handleDragEvent(t){const e=t.map;this.panning_||(this.panning_=!0,e.getView().beginInteraction());const n=this.targetPointers,i=e.getEventPixel(Bc(n));if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const e=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],n=t.map.getView();!function(t,e){t[0]*=e,t[1]*=e}(e,n.getResolution()),Vr(e,n.getRotation()),n.adjustCenterInternal(e)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=n.length,t.originalEvent.preventDefault()}handleUpEvent(t){const e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const t=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),r=n.getCenterInternal(),s=e.getPixelFromCoordinateInternal(r),o=e.getCoordinateFromPixelInternal([s[0]-t*Math.cos(i),s[1]-t*Math.sin(i)]);n.animateInternal({center:n.getConstrainedCenter(o),duration:500,easing:tl})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}};const qc=class extends zc{constructor(t){t=t||{},super({stopDown:Zo}),this.condition_=t.condition?t.condition:Pc,this.lastAngle_=void 0,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){if(!Mc(t))return;const e=t.map,n=e.getView();if(n.getConstraints().rotation===tc)return;const i=e.getSize(),r=t.pixel,s=Math.atan2(i[1]/2-r[1],r[0]-i[0]/2);if(void 0!==this.lastAngle_){const t=s-this.lastAngle_;n.adjustRotationInternal(-t)}this.lastAngle_=s}handleUpEvent(t){if(!Mc(t))return!0;return t.map.getView().endInteraction(this.duration_),!1}handleDownEvent(t){if(!Mc(t))return!1;if(Tc(t)&&this.condition_(t)){return t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0}return!1}};const Wc=class extends qo{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,e=this.endPixel_,n="px",i=this.element_.style;i.left=Math.min(t[0],e[0])+n,i.top=Math.min(t[1],e[1])+n,i.width=Math.abs(e[0]-t[0])+n,i.height=Math.abs(e[1]-t[1])+n}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new Xl([n])}getGeometry(){return this.geometry_}},Hc="boxstart",Vc="boxdrag",Gc="boxend",Kc="boxcancel";class Yc extends na{constructor(t,e,n){super(t),this.coordinate=e,this.mapBrowserEvent=n}}const Xc=class extends zc{constructor(t){var e,n,i;super(),this.on,this.once,this.un,t=null!==t&&void 0!==t?t:{},this.box_=new Wc(t.className||"ol-dragbox"),this.minArea_=null!==(e=t.minArea)&&void 0!==e?e:64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=null!==(n=t.condition)&&void 0!==n?n:Tc,this.boxEndCondition_=null!==(i=t.boxEndCondition)&&void 0!==i?i:this.defaultBoxEndCondition}defaultBoxEndCondition(t,e,n){const i=n[0]-e[0],r=n[1]-e[1];return i*i+r*r>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.startPixel_&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Yc(Vc,t.coordinate,t)))}handleUpEvent(t){if(!this.startPixel_)return!1;const e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new Yc(e?Gc:Kc,t.coordinate,t)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Yc(Hc,t.coordinate,t)),!0)}onBoxEnd(t){}setActive(t){t||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Yc(Kc,this.startPixel_,null)),this.startPixel_=null)),super.setActive(t)}setMap(t){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Yc(Kc,this.startPixel_,null)),this.startPixel_=null)),super.setMap(t)}};const Zc=class extends Xc{constructor(t){super({condition:(t=t||{}).condition?t.condition:Fc,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=void 0!==t.duration?t.duration:200,this.out_=void 0!==t.out&&t.out}onBoxEnd(t){const e=this.getMap().getView();let n=this.getGeometry();if(this.out_){const t=e.rotatedExtentForGeometry(n),i=e.getResolutionForExtentInternal(t),r=e.getResolution()/i;n=n.clone(),n.scale(r*r)}e.fitInternal(n,{duration:this.duration_,easing:tl})}},Jc="ArrowLeft",$c="ArrowUp",Qc="ArrowRight",tu="ArrowDown";const eu=class extends Ac{constructor(t){super(),t=t||{},this.defaultCondition_=function(t){return Ic(t)&&Oc(t)},this.condition_=void 0!==t.condition?t.condition:this.defaultCondition_,this.duration_=void 0!==t.duration?t.duration:100,this.pixelDelta_=void 0!==t.pixelDelta?t.pixelDelta:128}handleEvent(t){let e=!1;if(t.type==Mo){const n=t.originalEvent,i=n.key;if(this.condition_(t)&&(i==tu||i==Jc||i==Qc||i==$c)){const r=t.map.getView(),s=r.getResolution()*this.pixelDelta_;let o=0,a=0;i==tu?a=-s:i==Jc?o=-s:i==Qc?o=s:a=s;const l=[o,a];Vr(l,r.getRotation()),function(t,e,n){const i=t.getCenterInternal();if(i){const r=[i[0]+e[0],i[1]+e[1]];t.animateInternal({duration:void 0!==n?n:250,easing:nl,center:t.getConstrainedCenter(r)})}}(r,l,this.duration_),n.preventDefault(),e=!0}}return!e}};const nu=class extends Ac{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:function(t){return!function(t){const e=t.originalEvent;return xa?e.metaKey:e.ctrlKey}(t)&&Oc(t)},this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:100}handleEvent(t){let e=!1;if(t.type==Mo||t.type==Do){const n=t.originalEvent,i=n.key;if(this.condition_(t)&&("+"===i||"-"===i)){const r=t.map,s="+"===i?this.delta_:-this.delta_;Nc(r.getView(),s,void 0,this.duration_),n.preventDefault(),e=!0}}return!e}};const iu=class extends Ac{constructor(t){super(t=t||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==t.maxDelta?t.maxDelta:1,this.duration_=void 0!==t.duration?t.duration:250,this.timeout_=void 0!==t.timeout?t.timeout:80,this.useAnchor_=void 0===t.useAnchor||t.useAnchor,this.constrainResolution_=void 0!==t.constrainResolution&&t.constrainResolution;const e=t.condition?t.condition:Rc;this.condition_=t.onFocusOnly?Lc(jc,e):e,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();if(!t)return;t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(t){if(!this.condition_(t))return!0;if(t.type!==Uo)return!0;const e=t.map,n=t.originalEvent;n.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.pixel);let i=n.deltaY;switch(n.deltaMode){case WheelEvent.DOM_DELTA_LINE:i*=40;break;case WheelEvent.DOM_DELTA_PAGE:i*=300}if(0===i)return!1;this.lastDelta_=i;const r=Date.now();void 0===this.startTime_&&(this.startTime_=r),(!this.mode_||r-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(i)<4?"trackpad":"wheel");const s=e.getView();if("trackpad"===this.mode_&&!s.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(s.getAnimating()&&s.cancelAnimations(),s.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),s.adjustZoom(-i/this.deltaPerZoom_,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=r,!1;this.totalDelta_+=i;const o=Math.max(this.timeout_-(r-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,e),o),!1}handleWheelZoom_(t){const e=t.getView();e.getAnimating()&&e.cancelAnimations();let n=-Kr(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),Nc(e,n,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}};const ru=class extends zc{constructor(t){const e=t=t||{};e.stopDown||(e.stopDown=Zo),super(e),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==t.threshold?t.threshold:.3,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){let e=0;const n=this.targetPointers[0],i=this.targetPointers[1],r=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){const t=r-this.lastAngle_;this.rotationDelta_+=t,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=t}this.lastAngle_=r;const s=t.map,o=s.getView();o.getConstraints().rotation!==tc&&(this.anchor_=s.getCoordinateFromPixelInternal(s.getEventPixel(Bc(this.targetPointers))),this.rotating_&&(s.render(),o.adjustRotationInternal(e,this.anchor_)))}handleUpEvent(t){if(this.targetPointers.length<2){return t.map.getView().endInteraction(this.duration_),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}};const su=class extends zc{constructor(t){const e=t=t||{};e.stopDown||(e.stopDown=Zo),super(e),this.anchor_=null,this.duration_=void 0!==t.duration?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let e=1;const n=this.targetPointers[0],i=this.targetPointers[1],r=n.clientX-i.clientX,s=n.clientY-i.clientY,o=Math.sqrt(r*r+s*s);void 0!==this.lastDistance_&&(e=this.lastDistance_/o),this.lastDistance_=o;const a=t.map,l=a.getView();1!=e&&(this.lastScaleDelta_=e),this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel(Bc(this.targetPointers))),a.render(),l.adjustResolutionInternal(e,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}};const ou="opacity",au="visible",lu="extent",cu="zIndex",uu="maxResolution",hu="minResolution",du="maxZoom",fu="minZoom",pu="source",gu="map";const mu=class extends fa{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const e=Object.assign({},t);"object"===typeof t.properties&&(delete e.properties,Object.assign(e,t.properties)),e[ou]=void 0!==t.opacity?t.opacity:1,Ha("number"===typeof e[ou],"Layer opacity must be a number"),e[au]=void 0===t.visible||t.visible,e[cu]=t.zIndex,e[uu]=void 0!==t.maxResolution?t.maxResolution:1/0,e[hu]=void 0!==t.minResolution?t.minResolution:0,e[fu]=void 0!==t.minZoom?t.minZoom:-1/0,e[du]=void 0!==t.maxZoom?t.maxZoom:1/0,this.className_=void 0!==e.className?e.className:"ol-layer",delete e.className,this.setProperties(e),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=Kr(Math.round(100*this.getOpacity())/100,0,1),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n||e.managed?n:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e}getLayersArray(t){return ca()}getLayerStatesArray(t){return ca()}getExtent(){return this.get(lu)}getMaxResolution(){return this.get(uu)}getMinResolution(){return this.get(hu)}getMinZoom(){return this.get(fu)}getMaxZoom(){return this.get(du)}getOpacity(){return this.get(ou)}getSourceState(){return ca()}getVisible(){return this.get(au)}getZIndex(){return this.get(cu)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(lu,t)}setMaxResolution(t){this.set(uu,t)}setMinResolution(t){this.set(hu,t)}setMaxZoom(t){this.set(du,t)}setMinZoom(t){this.set(fu,t)}setOpacity(t){Ha("number"===typeof t,"Layer opacity must be a number"),this.set(ou,t)}setVisible(t){this.set(au,t)}setZIndex(t){this.set(cu,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}};class vu extends na{constructor(t,e){super(t),this.layer=e}}const yu="layers";class wu extends mu{constructor(t){t=t||{};const e=Object.assign({},t);delete e.layers;let n=t.layers;super(e),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(yu,this.handleLayersChanged_),n?Array.isArray(n)?n=new ma(n.slice(),{unique:!0}):Ha("function"===typeof n.getArray,"Expected `layers` to be an array or a `Collection`"):n=new ma(void 0,{unique:!0}),this.setLayers(n)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(oa),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push(ra(t,Lo,this.handleLayersAdd_,this),ra(t,Po,this.handleLayersRemove_,this));for(const n in this.listenerKeys_)this.listenerKeys_[n].forEach(oa);ta(this.listenerKeys_);const e=t.getArray();for(let n=0,i=e.length;n<i;n++){const t=e[n];this.registerLayerListeners_(t),this.dispatchEvent(new vu("addlayer",t))}this.changed()}registerLayerListeners_(t){const e=[ra(t,jo,this.handleLayerChange_,this),ra(t,Ro,this.handleLayerChange_,this)];t instanceof wu&&e.push(ra(t,"addlayer",this.handleLayerGroupAdd_,this),ra(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[ha(t)]=e}handleLayerGroupAdd_(t){this.dispatchEvent(new vu("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new vu("removelayer",t.layer))}handleLayersAdd_(t){const e=t.element;this.registerLayerListeners_(e),this.dispatchEvent(new vu("addlayer",e)),this.changed()}handleLayersRemove_(t){const e=t.element,n=ha(e);this.listenerKeys_[n].forEach(oa),delete this.listenerKeys_[n],this.dispatchEvent(new vu("removelayer",e)),this.changed()}getLayers(){return this.get(yu)}setLayers(t){const e=this.getLayers();if(e){const t=e.getArray();for(let e=0,n=t.length;e<n;++e)this.dispatchEvent(new vu("removelayer",t[e]))}this.set(yu,t)}getLayersArray(t){return t=void 0!==t?t:[],this.getLayers().forEach(function(e){e.getLayersArray(t)}),t}getLayerStatesArray(t){const e=void 0!==t?t:[],n=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});const i=this.getLayerState();let r=i.zIndex;t||void 0!==i.zIndex||(r=0);for(let s=n,o=e.length;s<o;s++){const t=e[s];t.opacity*=i.opacity,t.visible=t.visible&&i.visible,t.maxResolution=Math.min(t.maxResolution,i.maxResolution),t.minResolution=Math.max(t.minResolution,i.minResolution),t.minZoom=Math.max(t.minZoom,i.minZoom),t.maxZoom=Math.min(t.maxZoom,i.maxZoom),void 0!==i.extent&&(void 0!==t.extent?t.extent=Fr(t.extent,i.extent):t.extent=i.extent),void 0===t.zIndex&&(t.zIndex=r)}return e}getSourceState(){return"ready"}}const bu=wu,_u="prerender",xu="postrender",Su="precompose",ku="postcompose",Cu="rendercomplete";function Nu(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const i=e.zoom;return i>t.minZoom&&i<=t.maxZoom}const Au=class extends mu{constructor(t){const e=Object.assign({},t);delete e.source,super(e),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(pu,this.handleSourcePropertyChange_);const n=t.source?t.source:null;this.setSource(n)}getLayersArray(t){return(t=t||[]).push(this),t}getLayerStatesArray(t){return(t=t||[]).push(this.getLayerState()),t}getSource(){return this.get(pu)||null}getRenderSource(){return this.getSource()}getSourceState(){const t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),this.sourceReady_||"ready"!==this.getSource().getState()||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(oa(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const t=this.getSource();t&&(this.sourceChangeKey_=ra(t,Ro,this.handleSourceChange_,this),"ready"===t.getState()&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return this.renderer_&&this.rendered?this.renderer_.getData(t):null}isVisible(t){let e;const n=this.getMapInternal();let i;if(!t&&n&&(t=n.getView()),e=t instanceof oc?{viewState:t.getState(),extent:t.calculateExtent()}:t,!e.layerStatesArray&&n&&(e.layerStatesArray=n.getLayerGroup().getLayerStatesArray()),e.layerStatesArray){if(i=e.layerStatesArray.find(t=>t.layer===this),!i)return!1}else i=this.getLayerState();const r=this.getExtent();return Nu(i,e.viewState)&&(!r||Br(r,e.extent))}getAttributions(t){var e;if(!this.isVisible(t))return[];const n=null===(e=this.getSource())||void 0===e?void 0:e.getAttributions();if(!n)return[];let i=n(t instanceof oc?t.getViewStateAndExtent():t);return Array.isArray(i)||(i=[i]),i}render(t,e){const n=this.getRenderer();return n.prepareFrame(t)?(this.rendered=!0,n.renderFrame(t,e)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(t,e){}renderDeferred(t){const e=this.getRenderer();e&&e.renderDeferred(t)}setMapInternal(t){t||this.unrender(),this.set(gu,t)}getMapInternal(){return this.get(gu)}setMap(t){this.mapPrecomposeKey_&&(oa(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(oa(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=ra(t,Su,this.handlePrecompose_,this),this.mapRenderKey_=ra(this,Ro,t.render,t),this.changed())}handlePrecompose_(t){const e=t.frameState.layerStatesArray,n=this.getLayerState(!1);Ha(!e.some(t=>t.layer===n.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),e.push(n)}setSource(t){this.set(pu,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}};function Eu(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length-1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Pu;for(;i>n;){if(i-n>600){const s=i-n+1,o=e-n+1,a=Math.log(s),l=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*l*(s-l)/s)*(o-s/2<0?-1:1);Eu(t,e,Math.max(n,Math.floor(e-o*l/s+c)),Math.min(i,Math.floor(e+(s-o)*l/s+c)),r)}const s=t[e];let o=n,a=i;for(Lu(t,n,e),r(t[i],s)>0&&Lu(t,n,i);o<a;){for(Lu(t,o,a),o++,a--;r(t[o],s)<0;)o++;for(;r(t[a],s)>0;)a--}0===r(t[n],s)?Lu(t,n,a):(a++,Lu(t,a,i)),a<=e&&(n=a+1),e<=a&&(i=a-1)}}function Lu(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function Pu(t,e){return t<e?-1:t>e?1:0}class ju{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9;this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}all(){return this._all(this.data,[])}search(t){let e=this.data;const n=[];if(!Wu(t,e))return n;const i=this.toBBox,r=[];for(;e;){for(let s=0;s<e.children.length;s++){const o=e.children[s],a=e.leaf?i(o):o;Wu(t,a)&&(e.leaf?n.push(o):qu(t,a)?this._all(o,n):r.push(o))}e=r.pop()}return n}collides(t){let e=this.data;if(!Wu(t,e))return!1;const n=[];for(;e;){for(let i=0;i<e.children.length;i++){const r=e.children[i],s=e.leaf?this.toBBox(r):r;if(Wu(t,s)){if(e.leaf||qu(t,s))return!0;n.push(r)}}e=n.pop()}return!1}load(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(let e=0;e<t.length;e++)this.insert(t[e]);return this}let e=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){const t=this.data;this.data=e,e=t}this._insert(e,this.data.height-e.height-1,!0)}else this.data=e;return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=Hu([]),this}remove(t,e){if(!t)return this;let n=this.data;const i=this.toBBox(t),r=[],s=[];let o,a,l;for(;n||r.length;){if(n||(n=r.pop(),a=r[r.length-1],o=s.pop(),l=!0),n.leaf){const i=Ru(t,n.children,e);if(-1!==i)return n.children.splice(i,1),r.push(n),this._condense(r),this}l||n.leaf||!qu(n,i)?a?(o++,n=a.children[o],l=!1):n=null:(r.push(n),s.push(o),o=0,a=n,n=n.children[0])}return this}toBBox(t){return t}compareMinX(t,e){return t.minX-e.minX}compareMinY(t,e){return t.minY-e.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,e){const n=[];for(;t;)t.leaf?e.push(...t.children):n.push(...t.children),t=n.pop();return e}_build(t,e,n,i){const r=n-e+1;let s,o=this._maxEntries;if(r<=o)return s=Hu(t.slice(e,n+1)),Tu(s,this.toBBox),s;i||(i=Math.ceil(Math.log(r)/Math.log(o)),o=Math.ceil(r/Math.pow(o,i-1))),s=Hu([]),s.leaf=!1,s.height=i;const a=Math.ceil(r/o),l=a*Math.ceil(Math.sqrt(o));Vu(t,e,n,l,this.compareMinX);for(let c=e;c<=n;c+=l){const e=Math.min(c+l-1,n);Vu(t,c,e,a,this.compareMinY);for(let n=c;n<=e;n+=a){const r=Math.min(n+a-1,e);s.children.push(this._build(t,n,r,i-1))}}return Tu(s,this.toBBox),s}_chooseSubtree(t,e,n,i){for(;i.push(e),!e.leaf&&i.length-1!==n;){let n,i=1/0,r=1/0;for(let s=0;s<e.children.length;s++){const o=e.children[s],a=Du(o),l=zu(t,o)-a;l<r?(r=l,i=a<i?a:i,n=o):l===r&&a<i&&(i=a,n=o)}e=n||e.children[0]}return e}_insert(t,e,n){const i=n?t:this.toBBox(t),r=[],s=this._chooseSubtree(i,this.data,e,r);for(s.children.push(t),Fu(s,i);e>=0&&r[e].children.length>this._maxEntries;)this._split(r,e),e--;this._adjustParentBBoxes(i,r,e)}_split(t,e){const n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);const s=this._chooseSplitIndex(n,r,i),o=Hu(n.children.splice(s,n.children.length-s));o.height=n.height,o.leaf=n.leaf,Tu(n,this.toBBox),Tu(o,this.toBBox),e?t[e-1].children.push(o):this._splitRoot(n,o)}_splitRoot(t,e){this.data=Hu([t,e]),this.data.height=t.height+1,this.data.leaf=!1,Tu(this.data,this.toBBox)}_chooseSplitIndex(t,e,n){let i,r=1/0,s=1/0;for(let o=e;o<=n-e;o++){const e=Iu(t,0,o,this.toBBox),a=Iu(t,o,n,this.toBBox),l=Uu(e,a),c=Du(e)+Du(a);l<r?(r=l,i=o,s=c<s?c:s):l===r&&c<s&&(s=c,i=o)}return i||n-e}_chooseSplitAxis(t,e,n){const i=t.leaf?this.compareMinX:Ou,r=t.leaf?this.compareMinY:Mu;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)}_allDistMargin(t,e,n,i){t.children.sort(i);const r=this.toBBox,s=Iu(t,0,e,r),o=Iu(t,n-e,n,r);let a=Bu(s)+Bu(o);for(let l=e;l<n-e;l++){const e=t.children[l];Fu(s,t.leaf?r(e):e),a+=Bu(s)}for(let l=n-e-1;l>=e;l--){const e=t.children[l];Fu(o,t.leaf?r(e):e),a+=Bu(o)}return a}_adjustParentBBoxes(t,e,n){for(let i=n;i>=0;i--)Fu(e[i],t)}_condense(t){for(let e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children,e.splice(e.indexOf(t[n]),1)):this.clear():Tu(t[n],this.toBBox)}}function Ru(t,e,n){if(!n)return e.indexOf(t);for(let i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function Tu(t,e){Iu(t,0,t.children.length,e,t)}function Iu(t,e,n,i,r){r||(r=Hu(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let s=e;s<n;s++){const e=t.children[s];Fu(r,t.leaf?i(e):e)}return r}function Fu(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function Ou(t,e){return t.minX-e.minX}function Mu(t,e){return t.minY-e.minY}function Du(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Bu(t){return t.maxX-t.minX+(t.maxY-t.minY)}function zu(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function Uu(t,e){const n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),s=Math.min(t.maxY,e.maxY);return Math.max(0,r-n)*Math.max(0,s-i)}function qu(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Wu(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Hu(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Vu(t,e,n,i,r){const s=[e,n];for(;s.length;){if((n=s.pop())-(e=s.pop())<=i)continue;const o=e+Math.ceil((n-e)/i/2)*i;Eu(t,o,e,n,r),s.push(e,o,o,n)}}const Gu=[NaN,NaN,NaN,0];let Ku;const Yu=/^rgba?\(\s*(\d+%?)\s+(\d+%?)\s+(\d+%?)(?:\s*\/\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,Xu=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,Zu=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,Ju=/^#([\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/i;function $u(t,e){return t.endsWith("%")?Number(t.substring(0,t.length-1))/e:Number(t)}function Qu(t){throw new Error('failed to parse "'+t+'" as color')}function th(t){if(t.toLowerCase().startsWith("rgb")){const e=t.match(Xu)||t.match(Yu)||t.match(Zu);if(e){const t=e[4],n=100/255;return[Kr($u(e[1],n)+.5|0,0,255),Kr($u(e[2],n)+.5|0,0,255),Kr($u(e[3],n)+.5|0,0,255),void 0!==t?Kr($u(t,100),0,1):1]}Qu(t)}if(t.startsWith("#")){if(Ju.test(t)){const e=t.substring(1),n=e.length<=4?1:2,i=[0,0,0,255];for(let t=0,r=e.length;t<r;t+=n){let r=parseInt(e.substring(t,t+n),16);1===n&&(r+=r<<4),i[t/n]=r}return i[3]=i[3]/255,i}Qu(t)}const e=(Ku||(Ku=gc(1,1,void 0,{willReadFrequently:!0,desynchronized:!0})),Ku);e.fillStyle="#abcdef";let n=e.fillStyle;e.fillStyle=t,e.fillStyle===n&&(e.fillStyle="#fedcba",n=e.fillStyle,e.fillStyle=t,e.fillStyle===n&&Qu(t));const i=e.fillStyle;if(i.startsWith("#")||i.startsWith("rgba"))return th(i);e.clearRect(0,0,1,1),e.fillRect(0,0,1,1);const r=Array.from(e.getImageData(0,0,1,1).data);return r[3]=ts(r[3]/255,3),r}const eh={};let nh=0;function ih(t){if(4===t.length)return t;const e=t.slice();return e[3]=1,e}function rh(t){return t>.0031308?269.025*Math.pow(t,1/2.4)-14.025:3294.6*t}function sh(t){return t>.2068965?Math.pow(t,3):108/841*(t-4/29)}function oh(t){return t>10.314724?Math.pow((t+14.025)/269.025,2.4):t/3294.6}function ah(t){return t>.0088564?Math.pow(t,1/3):t/(108/841)+4/29}function lh(t){const e=oh(t[0]),n=oh(t[1]),i=oh(t[2]),r=ah(.222488403*e+.716873169*n+.06060791*i),s=500*(ah(.452247074*e+.399439023*n+.148375274*i)-r),o=200*(r-ah(.016863605*e+.117638439*n+.865350722*i)),a=Math.atan2(o,s)*(180/Math.PI);return[116*r-16,Math.sqrt(s*s+o*o),a<0?a+360:a,t[3]]}function ch(t){if("none"===t)return Gu;if(eh.hasOwnProperty(t))return eh[t];if(nh>=1024){let t=0;for(const e in eh)0===(3&t++)&&(delete eh[e],--nh)}const e=th(t);4!==e.length&&Qu(t);for(const n of e)isNaN(n)&&Qu(t);return eh[t]=e,++nh,e}function uh(t){return Array.isArray(t)?t:ch(t)}function hh(t){let e=t[0];e!=(0|e)&&(e=e+.5|0);let n=t[1];n!=(0|n)&&(n=n+.5|0);let i=t[2];i!=(0|i)&&(i=i+.5|0);return"rgba("+e+","+n+","+i+","+(void 0===t[3]?1:Math.round(1e3*t[3])/1e3)+")"}function dh(t){return t[0]>0&&t[1]>0}function fh(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}let ph=0;const gh=1<<ph++,mh=1<<ph++,vh=1<<ph++,yh=1<<ph++,wh=1<<ph++,bh=1<<ph++,_h=Math.pow(2,6)-1,xh={[gh]:"boolean",[mh]:"number",[vh]:"string",[yh]:"color",[wh]:"number[]",[bh]:"size"},Sh=Object.keys(xh).map(Number).sort(Wo);function kh(t){const e=[];for(const n of Sh)Ch(t,n)&&e.push(xh[n]);return 0===e.length?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function Ch(t,e){return(t&e)===e}function Nh(t,e){return t===e}class Ah{constructor(t,e){if(!function(t){return t in xh}(t))throw new Error("literal expressions must have a specific type, got ".concat(kh(t)));this.type=t,this.value=e}}class Eh{constructor(t,e){this.type=t,this.operator=e;for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];this.args=i}}function Lh(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function Ph(t,e,n){switch(typeof t){case"boolean":if(Nh(e,vh))return new Ah(vh,t?"true":"false");if(!Ch(e,gh))throw new Error("got a boolean, but expected ".concat(kh(e)));return new Ah(gh,t);case"number":if(Nh(e,bh))return new Ah(bh,fh(t));if(Nh(e,gh))return new Ah(gh,!!t);if(Nh(e,vh))return new Ah(vh,t.toString());if(!Ch(e,mh))throw new Error("got a number, but expected ".concat(kh(e)));return new Ah(mh,t);case"string":if(Nh(e,yh))return new Ah(yh,ch(t));if(Nh(e,gh))return new Ah(gh,!!t);if(!Ch(e,vh))throw new Error("got a string, but expected ".concat(kh(e)));return new Ah(vh,t)}if(!Array.isArray(t))throw new Error("expression must be an array or a primitive value");if(0===t.length)throw new Error("empty expression");if("string"===typeof t[0])return function(t,e,n){const i=t[0],r=kd[i];if(!r)throw new Error("unknown operator: ".concat(i));return r(t,e,n)}(t,e,n);for(const i of t)if("number"!==typeof i)throw new Error("expected an array of numbers");if(Nh(e,bh)){if(2!==t.length)throw new Error("expected an array of two values for a size, got ".concat(t.length));return new Ah(bh,t)}if(Nh(e,yh)){if(3===t.length)return new Ah(yh,[...t,1]);if(4===t.length)return new Ah(yh,t);throw new Error("expected an array of 3 or 4 values for a color, got ".concat(t.length))}if(!Ch(e,wh))throw new Error("got an array of numbers, but expected ".concat(kh(e)));return new Ah(wh,t)}const jh="get",Rh="var",Th="concat",Ih="geometry-type",Fh="line-metric",Oh="any",Mh="all",Dh="!",Bh="resolution",zh="zoom",Uh="time",qh="==",Wh="!=",Hh=">",Vh=">=",Gh="<",Kh="<=",Yh="*",Xh="/",Zh="+",Jh="-",$h="clamp",Qh="%",td="^",ed="abs",nd="floor",id="ceil",rd="round",sd="sin",od="cos",ad="atan",ld="sqrt",cd="match",ud="between",hd="interpolate",dd="coalesce",fd="case",pd="in",gd="number",md="string",vd="array",yd="color",wd="id",bd="band",_d="palette",xd="to-string",Sd="has",kd={[jh]:Rd(Ed(1,1/0),Cd),[Rh]:Rd(Ed(1,1),function(t,e,n){const i=t[1];if("string"!==typeof i)throw new Error("expected a string argument for var operation");return n.variables.add(i),[new Ah(vh,i)]}),[Sd]:Rd(Ed(1,1/0),Cd),[wd]:Rd(function(t,e,n){n.featureId=!0},Ad),[Th]:Rd(Ed(2,1/0),Pd(vh)),[Ih]:Rd(function(t,e,n){n.geometryType=!0},Ad),[Fh]:Rd(Ad),[Bh]:Rd(Nd,Ad),[zh]:Rd(Nd,Ad),[Uh]:Rd(Nd,Ad),[Oh]:Rd(Ed(2,1/0),Pd(gh)),[Mh]:Rd(Ed(2,1/0),Pd(gh)),[Dh]:Rd(Ed(1,1),Pd(gh)),[qh]:Rd(Ed(2,2),Pd(_h)),[Wh]:Rd(Ed(2,2),Pd(_h)),[Hh]:Rd(Ed(2,2),Pd(mh)),[Vh]:Rd(Ed(2,2),Pd(mh)),[Gh]:Rd(Ed(2,2),Pd(mh)),[Kh]:Rd(Ed(2,2),Pd(mh)),[Yh]:Rd(Ed(2,1/0),Ld),[dd]:Rd(Ed(2,1/0),Ld),[Xh]:Rd(Ed(2,2),Pd(mh)),[Zh]:Rd(Ed(2,1/0),Pd(mh)),[Jh]:Rd(Ed(2,2),Pd(mh)),[$h]:Rd(Ed(3,3),Pd(mh)),[Qh]:Rd(Ed(2,2),Pd(mh)),[td]:Rd(Ed(2,2),Pd(mh)),[ed]:Rd(Ed(1,1),Pd(mh)),[nd]:Rd(Ed(1,1),Pd(mh)),[id]:Rd(Ed(1,1),Pd(mh)),[rd]:Rd(Ed(1,1),Pd(mh)),[sd]:Rd(Ed(1,1),Pd(mh)),[od]:Rd(Ed(1,1),Pd(mh)),[ad]:Rd(Ed(1,2),Pd(mh)),[ld]:Rd(Ed(1,1),Pd(mh)),[cd]:Rd(Ed(4,1/0),jd,function(t,e,n){const i=t.length-1,r=vh|mh|gh,s=Ph(t[1],r,n),o=Ph(t[t.length-1],e,n),a=new Array(i-2);for(let c=0;c<i-2;c+=2){try{const e=Ph(t[c+2],s.type,n);a[c]=e}catch(l){throw new Error("failed to parse argument ".concat(c+1," of match expression: ").concat(l.message))}try{const e=Ph(t[c+3],o.type,n);a[c+1]=e}catch(l){throw new Error("failed to parse argument ".concat(c+2," of match expression: ").concat(l.message))}}return[s,...a,o]}),[ud]:Rd(Ed(3,3),Pd(mh)),[hd]:Rd(Ed(6,1/0),jd,function(t,e,n){const i=t[1];let r;switch(i[0]){case"linear":r=1;break;case"exponential":const t=i[1];if("number"!==typeof t||t<=0)throw new Error("expected a number base for exponential interpolation"+", got ".concat(JSON.stringify(t)," instead"));r=t;break;default:throw new Error("invalid interpolation type: ".concat(JSON.stringify(i)))}const s=new Ah(mh,r);let o;try{o=Ph(t[2],mh,n)}catch(l){throw new Error("failed to parse argument 1 in interpolate expression: ".concat(l.message))}const a=new Array(t.length-3);for(let c=0;c<a.length;c+=2){try{const e=Ph(t[c+3],mh,n);a[c]=e}catch(l){throw new Error("failed to parse argument ".concat(c+2," for interpolate expression: ").concat(l.message))}try{const i=Ph(t[c+4],e,n);a[c+1]=i}catch(l){throw new Error("failed to parse argument ".concat(c+3," for interpolate expression: ").concat(l.message))}}return[s,o,...a]}),[fd]:Rd(Ed(3,1/0),function(t,e,n){const i=t[0],r=t.length-1;if(r%2===0)throw new Error("expected an odd number of arguments for ".concat(i,", got ").concat(r," instead"))},function(t,e,n){const i=Ph(t[t.length-1],e,n),r=new Array(t.length-1);for(let o=0;o<r.length-1;o+=2){try{const e=Ph(t[o+1],gh,n);r[o]=e}catch(s){throw new Error("failed to parse argument ".concat(o," of case expression: ").concat(s.message))}try{const e=Ph(t[o+2],i.type,n);r[o+1]=e}catch(s){throw new Error("failed to parse argument ".concat(o+1," of case expression: ").concat(s.message))}}return r[r.length-1]=i,r}),[pd]:Rd(Ed(2,2),function(t,e,n){let i,r=t[2];if(!Array.isArray(r))throw new Error('the second argument for the "in" operator must be an array');if("string"===typeof r[0]){if("literal"!==r[0])throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(r[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');r=r[1],i=vh}else i=mh;const s=new Array(r.length);for(let a=0;a<s.length;a++)try{const t=Ph(r[a],i,n);s[a]=t}catch(o){throw new Error("failed to parse haystack item ".concat(a,' for "in" expression: ').concat(o.message))}return[Ph(t[1],i,n),...s]}),[gd]:Rd(Ed(1,1/0),Pd(_h)),[md]:Rd(Ed(1,1/0),Pd(_h)),[vd]:Rd(Ed(1,1/0),Pd(mh)),[yd]:Rd(Ed(1,4),Pd(mh)),[bd]:Rd(Ed(1,3),Pd(mh)),[_d]:Rd(Ed(2,2),function(t,e,n){let i;try{i=Ph(t[1],mh,n)}catch(o){throw new Error("failed to parse first argument in palette expression: ".concat(o.message))}const r=t[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");const s=new Array(r.length);for(let a=0;a<s.length;a++){let t;try{t=Ph(r[a],yh,n)}catch(o){throw new Error("failed to parse color at index ".concat(a," in palette expression: ").concat(o.message))}if(!(t instanceof Ah))throw new Error("the palette color at index ".concat(a," must be a literal value"));s[a]=t}return[i,...s]}),[xd]:Rd(Ed(1,1),Pd(gh|mh|vh|yh))};function Cd(t,e,n){const i=t.length-1,r=new Array(i);for(let s=0;s<i;++s){const e=t[s+1];switch(typeof e){case"number":r[s]=new Ah(mh,e);break;case"string":r[s]=new Ah(vh,e);break;default:throw new Error("expected a string key or numeric array index for a get operation, got ".concat(e))}0===s&&n.properties.add(String(e))}return r}function Nd(t,e,n){n.mapState=!0}function Ad(t,e,n){const i=t[0];if(1!==t.length)throw new Error("expected no arguments for ".concat(i," operation"));return[]}function Ed(t,e){return function(n,i,r){const s=n[0],o=n.length-1;if(t===e){if(o!==t){const e=1===t?"":"s";throw new Error("expected ".concat(t," argument").concat(e," for ").concat(s,", got ").concat(o))}}else if(o<t||o>e){const n=e===1/0?"".concat(t," or more"):"".concat(t," to ").concat(e);throw new Error("expected ".concat(n," arguments for ").concat(s,", got ").concat(o))}}}function Ld(t,e,n){const i=t.length-1,r=new Array(i);for(let s=0;s<i;++s){const i=Ph(t[s+1],e,n);r[s]=i}return r}function Pd(t){return function(e,n,i){const r=e.length-1,s=new Array(r);for(let o=0;o<r;++o){const n=Ph(e[o+1],t,i);s[o]=n}return s}}function jd(t,e,n){const i=t[0],r=t.length-1;if(r%2===1)throw new Error("expected an even number of arguments for operation ".concat(i,", got ").concat(r," instead"))}function Rd(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t,n,i){const r=t[0];let s;for(let o=0;o<e.length;o++){const r=e[o](t,n,i);if(o==e.length-1){if(!r)throw new Error("expected last argument validator to return the parsed args");s=r}}return new Eh(n,r,...s)}}function Td(t){if(!t)return"";const e=t.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return Td(t.getGeometries()[0]);default:return""}}function Id(t,e,n){return Fd(Ph(t,e,n),n)}function Fd(t,e){if(t instanceof Ah){if(t.type===yh&&"string"===typeof t.value){const e=ch(t.value);return function(){return e}}return function(){return t.value}}const n=t.operator;switch(n){case gd:case md:case dd:return function(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=Fd(t.args[s],e);switch(n){case dd:return t=>{for(let e=0;e<i;++e){const n=r[e](t);if("undefined"!==typeof n&&null!==n)return n}throw new Error("Expected one of the values to be non-null")};case gd:case md:return t=>{for(let e=0;e<i;++e){const i=r[e](t);if(typeof i===n)return i}throw new Error("Expected one of the values to be a ".concat(n))};default:throw new Error("Unsupported assertion operator ".concat(n))}}(t,e);case jh:case Rh:case Sd:return function(t){const e=t.args[0],n=e.value;switch(t.operator){case jh:return e=>{const i=t.args;let r=e.properties[n];for(let t=1,n=i.length;t<n;++t){r=r[i[t].value]}return r};case Rh:return t=>t.variables[n];case Sd:return e=>{const i=t.args;if(!(n in e.properties))return!1;let r=e.properties[n];for(let t=1,n=i.length;t<n;++t){const e=i[t].value;if(!r||!Object.hasOwn(r,e))return!1;r=r[e]}return!0};default:throw new Error("Unsupported accessor operator ".concat(t.operator))}}(t);case wd:return t=>t.featureId;case Ih:return t=>t.geometryType;case Th:{const n=t.args.map(t=>Fd(t,e));return t=>"".concat(...n.map(e=>e(t).toString()))}case Bh:return t=>t.resolution;case Oh:case Mh:case ud:case pd:case Dh:return function(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=Fd(t.args[s],e);switch(n){case Oh:return t=>{for(let e=0;e<i;++e)if(r[e](t))return!0;return!1};case Mh:return t=>{for(let e=0;e<i;++e)if(!r[e](t))return!1;return!0};case ud:return t=>{const e=r[0](t),n=r[1](t),i=r[2](t);return e>=n&&e<=i};case pd:return t=>{const e=r[0](t);for(let n=1;n<i;++n)if(e===r[n](t))return!0;return!1};case Dh:return t=>!r[0](t);default:throw new Error("Unsupported logical operator ".concat(n))}}(t,e);case qh:case Wh:case Gh:case Kh:case Hh:case Vh:return function(t,e){const n=t.operator,i=Fd(t.args[0],e),r=Fd(t.args[1],e);switch(n){case qh:return t=>i(t)===r(t);case Wh:return t=>i(t)!==r(t);case Gh:return t=>i(t)<r(t);case Kh:return t=>i(t)<=r(t);case Hh:return t=>i(t)>r(t);case Vh:return t=>i(t)>=r(t);default:throw new Error("Unsupported comparison operator ".concat(n))}}(t,e);case Yh:case Xh:case Zh:case Jh:case $h:case Qh:case td:case ed:case nd:case id:case rd:case sd:case od:case ad:case ld:return function(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=Fd(t.args[s],e);switch(n){case Yh:return t=>{let e=1;for(let n=0;n<i;++n)e*=r[n](t);return e};case Xh:return t=>r[0](t)/r[1](t);case Zh:return t=>{let e=0;for(let n=0;n<i;++n)e+=r[n](t);return e};case Jh:return t=>r[0](t)-r[1](t);case $h:return t=>{const e=r[0](t),n=r[1](t);if(e<n)return n;const i=r[2](t);return e>i?i:e};case Qh:return t=>r[0](t)%r[1](t);case td:return t=>Math.pow(r[0](t),r[1](t));case ed:return t=>Math.abs(r[0](t));case nd:return t=>Math.floor(r[0](t));case id:return t=>Math.ceil(r[0](t));case rd:return t=>Math.round(r[0](t));case sd:return t=>Math.sin(r[0](t));case od:return t=>Math.cos(r[0](t));case ad:return 2===i?t=>Math.atan2(r[0](t),r[1](t)):t=>Math.atan(r[0](t));case ld:return t=>Math.sqrt(r[0](t));default:throw new Error("Unsupported numeric operator ".concat(n))}}(t,e);case fd:return function(t,e){const n=t.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=Fd(t.args[r],e);return t=>{for(let e=0;e<n-1;e+=2){if(i[e](t))return i[e+1](t)}return i[n-1](t)}}(t,e);case cd:return function(t,e){const n=t.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=Fd(t.args[r],e);return t=>{const e=i[0](t);for(let r=1;r<n-1;r+=2)if(e===i[r](t))return i[r+1](t);return i[n-1](t)}}(t,e);case hd:return function(t,e){const n=t.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=Fd(t.args[r],e);return t=>{const e=i[0](t),r=i[1](t);let s,o;for(let a=2;a<n;a+=2){const n=i[a](t);let l=i[a+1](t);const c=Array.isArray(l);if(c&&(l=ih(l)),n>=r)return 2===a?l:c?Md(e,r,s,o,n,l):Od(e,r,s,o,n,l);s=n,o=l}return o}}(t,e);case xd:return function(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=Fd(t.args[s],e);if(n===xd)return e=>{const n=r[0](e);return t.args[0].type===yh?hh(n):n.toString()};throw new Error("Unsupported convert operator ".concat(n))}(t,e);default:throw new Error("Unsupported operator ".concat(n))}}function Od(t,e,n,i,r,s){const o=r-n;if(0===o)return i;const a=e-n;return i+(1===t?a/o:(Math.pow(t,a)-1)/(Math.pow(t,o)-1))*(s-i)}function Md(t,e,n,i,r,s){if(0===r-n)return i;const o=lh(i),a=lh(s);let l=a[2]-o[2];l>180?l-=360:l<-180&&(l+=360);return function(t){const e=(t[0]+16)/116,n=t[1],i=t[2]*Math.PI/180,r=sh(e),s=sh(e+n/500*Math.cos(i)),o=sh(e-n/200*Math.sin(i)),a=rh(3.021973625*s-1.617392459*r-.404875592*o),l=rh(-.943766287*s+1.916279586*r+.027607165*o),c=rh(.069407491*s-.22898585*r+1.159737864*o);return[Kr(a+.5|0,0,255),Kr(l+.5|0,0,255),Kr(c+.5|0,0,255),t[3]]}([Od(t,e,n,o[0],r,a[0]),Od(t,e,n,o[1],r,a[1]),o[2]+Od(t,e,n,0,r,l),Od(t,e,n,i[3],r,s[3])])}const Dd=0,Bd=1,zd=2,Ud=3;function qd(t,e){return e&&(t.src=e),t.src&&Ca?new Promise((e,n)=>t.decode().then(()=>e(t)).catch(i=>t.complete&&t.width?e(t):n(i))):function(t,e){return new Promise((n,i)=>{function r(){o(),n(t)}function s(){o(),i(new Error("Image load error"))}function o(){t.removeEventListener("load",r),t.removeEventListener("error",s)}t.addEventListener("load",r),t.addEventListener("error",s),e&&(t.src=e)})}(t)}class Wd{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const e in this.cache_){const n=this.cache_[e];0!==(3&t++)||n.hasListener()||(delete this.cache_[e],delete this.patternCache_[e],--this.cacheSize_)}}}get(t,e,n){const i=Hd(t,e,n);return i in this.cache_?this.cache_[i]:null}getPattern(t,e,n){const i=Hd(t,e,n);return i in this.patternCache_?this.patternCache_[i]:null}set(t,e,n,i,r){const s=Hd(t,e,n),o=s in this.cache_;this.cache_[s]=i,r&&(i.getImageState()===Dd&&i.load(),i.getImageState()===Bd?i.ready().then(()=>{this.patternCache_[s]=vc().createPattern(i.getImage(1),"repeat")}):this.patternCache_[s]=vc().createPattern(i.getImage(1),"repeat")),o||++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}}function Hd(t,e,n){return e+":"+t+":"+(n?uh(n):"null")}const Vd=new Wd;let Gd=null;class Kd extends ia{constructor(t,e,n,i,r){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=n,this.canvas_={},this.color_=r,this.imageState_=void 0===i?Dd:i,this.size_=t&&t.width&&t.height?[t.width,t.height]:null,this.src_=e,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(void 0===this.tainted_&&this.imageState_===zd){Gd||(Gd=gc(1,1,void 0,{willReadFrequently:!0})),Gd.drawImage(this.image_,0,0);try{Gd.getImageData(0,0,1,1),this.tainted_=!1}catch(t){Gd=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent(Ro)}handleImageError_(){this.imageState_=Ud,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=zd,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],e=this.size_[1],n=gc(t,e);n.fillRect(0,0,t,e),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===Dd){this.image_||this.initializeImage_(),this.imageState_=Bd;try{void 0!==this.src_&&(this.image_.src=this.src_)}catch(t){this.handleImageError_()}this.image_ instanceof HTMLImageElement&&qd(this.image_,this.src_).then(t=>{this.image_=t,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==zd)return;const e=this.image_,n=gc(Math.ceil(e.width*t),Math.ceil(e.height*t)),i=n.canvas;var r;n.scale(t,t),n.drawImage(e,0,0),n.globalCompositeOperation="multiply",n.fillStyle="string"===typeof(r=this.color_)?r:hh(r),n.fillRect(0,0,i.width/t,i.height/t),n.globalCompositeOperation="destination-in",n.drawImage(e,0,0),this.canvas_[t]=i}ready(){return this.ready_||(this.ready_=new Promise(t=>{if(this.imageState_===zd||this.imageState_===Ud)t();else{const e=()=>{this.imageState_!==zd&&this.imageState_!==Ud||(this.removeEventListener(Ro,e),t())};this.addEventListener(Ro,e)}})),this.ready_}}function Yd(t,e,n,i,r,s){let o=void 0===e?void 0:Vd.get(e,n,r);return o||(o=new Kd(t,t&&"src"in t?t.src||void 0:e,n,i,r),Vd.set(e,n,r,o,s)),s&&o&&!Vd.getPattern(e,n,r)&&Vd.set(e,n,r,o,s),o}const Xd=Kd;function Zd(t){return t?Array.isArray(t)?hh(t):"object"===typeof t&&"src"in t?function(t){if(!t.offset||!t.size)return Vd.getPattern(t.src,"anonymous",t.color);const e=t.src+":"+t.offset,n=Vd.getPattern(e,void 0,t.color);if(n)return n;const i=Vd.get(t.src,"anonymous",null);if(i.getImageState()!==zd)return null;const r=gc(t.size[0],t.size[1]);return r.drawImage(i.getImage(1),t.offset[0],t.offset[1],t.size[0],t.size[1],0,0,t.size[0],t.size[1]),Yd(r.canvas,e,void 0,zd,t.color,!0),Vd.getPattern(e,void 0,t.color)}(t):t:null}const Jd="10px sans-serif",$d="#000",Qd="round",tf=[],ef="round",nf="#000",rf="center",sf="middle",of=[0,0,0,0],af=new fa;let lf,cf=null;const uf={},hf=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","emoji","math","fangsong"]);function df(t,e,n){return"".concat(t," ").concat(e,' 16px "').concat(n,'"')}const ff=function(){const t=100;let e,n;async function i(t){await n.ready;const e=await n.load(t);if(0===e.length)return!1;const i=pc(t),r=i.families[0].toLowerCase(),s=i.weight;return e.some(t=>{const e=t.family.replace(/^['"]|['"]$/g,"").toLowerCase(),n=fc[t.weight]||t.weight;return e===r&&t.style===i.style&&n==s})}async function r(){await n.ready;let s=!0;const o=af.getProperties(),a=Object.keys(o).filter(e=>o[e]<t);for(let e=a.length-1;e>=0;--e){const n=a[e];let r=o[n];r<t&&(await i(n)?(ta(uf),af.set(n,t)):(r+=10,af.set(n,r,!0),r<t&&(s=!1)))}e=void 0,s||(e=setTimeout(r,100))}return async function(t){n||(n=ka?self.fonts:document.fonts);const i=pc(t);if(!i)return;const s=i.families;let o=!1;for(const e of s){if(hf.has(e))continue;const t=df(i.style,i.weight,e);void 0===af.get(t)&&(af.set(t,0,!0),o=!0)}o&&(clearTimeout(e),e=setTimeout(r,100))}}(),pf=function(){let t;return function(e){let n=uf[e];if(void 0==n){if(ka){const t=pc(e),i=gf(e,"\u017dg");n=(isNaN(Number(t.lineHeight))?1.2:Number(t.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),n=t.offsetHeight,document.body.removeChild(t);uf[e]=n}return n}}();function gf(t,e){return cf||(cf=gc(1,1)),t!=lf&&(cf.font=t,lf=cf.font),cf.measureText(e)}function mf(t,e){return gf(t,e).width}function vf(t,e,n){if(e in n)return n[e];const i=e.split("\n").reduce((e,n)=>Math.max(e,mf(t,n)),0);return n[e]=i,i}function yf(t,e,n,i,r,s,o,a,l,c,u){t.save(),1!==n&&(void 0===t.globalAlpha?t.globalAlpha=t=>t.globalAlpha*=n:t.globalAlpha*=n),e&&t.transform.apply(t,e),i.contextInstructions?(t.translate(l,c),t.scale(u[0],u[1]),function(t,e){const n=t.contextInstructions;for(let i=0,r=n.length;i<r;i+=2)Array.isArray(n[i+1])?e[n[i]].apply(e,n[i+1]):e[n[i]]=n[i+1]}(i,t)):u[0]<0||u[1]<0?(t.translate(l,c),t.scale(u[0],u[1]),t.drawImage(i,r,s,o,a,0,0,o,a)):t.drawImage(i,r,s,o,a,l,c,o*u[0],a*u[1]),t.restore()}class wf{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=fh(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new wf({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return ca()}getImage(t){return ca()}getHitDetectionImage(){return ca()}getPixelRatio(t){return 1}getImageState(){return ca()}getImageSize(){return ca()}getOrigin(){return ca()}getSize(){return ca()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=fh(t)}listenImageChange(t){ca()}load(){ca()}unlistenImageChange(t){ca()}ready(){return Promise.resolve()}}const bf=wf;class _f extends bf{constructor(t){super({opacity:1,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=void 0!==t.fill?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius=t.radius,this.radius2_=t.radius2,this.angle_=void 0!==t.angle?t.angle:0,this.stroke_=void 0!==t.stroke?t.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?Bd:zd,this.imageState_===Bd&&this.ready().then(()=>this.imageState_=zd),this.render()}clone(){const t=this.getScale(),e=new _f({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}getAnchor(){const t=this.size_,e=this.getDisplacement(),n=this.getScaleArray();return[t[0]/2-e[0]/n[0],t[1]/2+e[1]/n[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(t){var e,n;const i=null===(e=this.fill_)||void 0===e?void 0:e.getKey(),r="".concat(t,",").concat(this.angle_,",").concat(this.radius,",").concat(this.radius2_,",").concat(this.points_,",").concat(i)+Object.values(this.renderOptions_).join(",");let s=null===(n=Vd.get(r,null,null))||void 0===n?void 0:n.getImage(1);if(!s){const e=this.renderOptions_,n=Math.ceil(e.size*t),i=gc(n,n);this.draw_(e,i,t),s=i.canvas,Vd.set(r,null,null,new Xd(s,void 0,null,zd,null))}return s}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,e,n){if(0===e||this.points_===1/0||"bevel"!==t&&"miter"!==t)return e;let i=this.radius,r=void 0===this.radius2_?i:this.radius2_;if(i<r){const t=i;i=r,r=t}const s=void 0===this.radius2_?this.points_:2*this.points_,o=2*Math.PI/s,a=r*Math.sin(o),l=i-Math.sqrt(r*r-a*a),c=Math.sqrt(a*a+l*l),u=c/a;if("miter"===t&&u<=n)return u*e;const h=e/2/u,d=e/2*(l/c),f=Math.sqrt((i+h)*(i+h)+d*d)-i;if(void 0===this.radius2_||"bevel"===t)return 2*f;const p=i*Math.sin(o),g=r-Math.sqrt(i*i-p*p),m=Math.sqrt(p*p+g*g)/p;if(m<=n){const t=m*e/2-r-i;return 2*Math.max(f,t)}return 2*f}createRenderOptions(){let t,e=Qd,n=ef,i=0,r=null,s=0,o=0;var a,l,c,u,h,d;this.stroke_&&(t=Zd(null!==(a=this.stroke_.getColor())&&void 0!==a?a:nf),o=null!==(l=this.stroke_.getWidth())&&void 0!==l?l:1,r=this.stroke_.getLineDash(),s=null!==(c=this.stroke_.getLineDashOffset())&&void 0!==c?c:0,n=null!==(u=this.stroke_.getLineJoin())&&void 0!==u?u:ef,e=null!==(h=this.stroke_.getLineCap())&&void 0!==h?h:Qd,i=null!==(d=this.stroke_.getMiterLimit())&&void 0!==d?d:10);const f=this.calculateLineJoinSize_(n,o,i),p=Math.max(this.radius,this.radius2_||0);return{strokeStyle:t,strokeWidth:o,size:Math.ceil(2*p+f),lineCap:e,lineDash:r,lineDashOffset:s,lineJoin:n,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const t=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[t,t]}draw_(t,e,n){if(e.scale(n,n),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){let t=this.fill_.getColor();null===t&&(t=$d),e.fillStyle=Zd(t),e.fill()}t.strokeStyle&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}createHitDetectionCanvas_(t){let e;if(this.fill_){let n=this.fill_.getColor(),i=0;"string"===typeof n&&(n=uh(n)),null===n?i=1:Array.isArray(n)&&(i=4===n.length?n[3]:1),0===i&&(e=gc(t.size,t.size),this.drawHitDetectionCanvas_(t,e))}return e?e.canvas:this.getImage(1)}createPath_(t){let e=this.points_;const n=this.radius;if(e===1/0)t.arc(0,0,n,0,2*Math.PI);else{const i=void 0===this.radius2_?n:this.radius2_;void 0!==this.radius2_&&(e*=2);const r=this.angle_-Math.PI/2,s=2*Math.PI/e;for(let o=0;o<e;o++){const e=r+o*s,a=o%2===0?n:i;t.lineTo(a*Math.cos(e),a*Math.sin(e))}t.closePath()}}drawHitDetectionCanvas_(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=$d,e.fill(),t.strokeStyle&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}const xf=_f;class Sf extends xf{constructor(t){super({points:1/0,fill:(t=t||{radius:5}).fill,radius:t.radius,stroke:t.stroke,scale:void 0!==t.scale?t.scale:1,rotation:void 0!==t.rotation?t.rotation:0,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){const t=this.getScale(),e=new Sf({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}setRadius(t){this.radius=t,this.render()}}const kf=Sf;class Cf{constructor(t){t=t||{},this.patternImage_=null,this.color_=null,void 0!==t.color&&this.setColor(t.color)}clone(){const t=this.getColor();return new Cf({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){if(null!==t&&"object"===typeof t&&"src"in t){const e=Yd(null,t.src,"anonymous",void 0,t.offset?null:t.color?t.color:null,!(t.offset&&t.size));e.ready().then(()=>{this.patternImage_=null}),e.getImageState()===Dd&&e.load(),e.getImageState()===Bd&&(this.patternImage_=e)}this.color_=t}getKey(){const t=this.getColor();return t?t instanceof CanvasPattern||t instanceof CanvasGradient?ha(t):"object"===typeof t&&"src"in t?t.src+":"+t.offset:uh(t).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}const Nf=Cf;function Af(t,e,n,i){return void 0!==n&&void 0!==i?[n/t,i/e]:void 0!==n?n/t:void 0!==i?i/e:1}class Ef extends bf{constructor(t){const e=void 0!==(t=t||{}).opacity?t.opacity:1,n=void 0!==t.rotation?t.rotation:0,i=void 0!==t.scale?t.scale:1,r=void 0!==t.rotateWithView&&t.rotateWithView;super({opacity:e,rotation:n,scale:i,displacement:void 0!==t.displacement?t.displacement:[0,0],rotateWithView:r,declutterMode:t.declutterMode}),this.anchor_=void 0!==t.anchor?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==t.anchorOrigin?t.anchorOrigin:"top-left",this.anchorXUnits_=void 0!==t.anchorXUnits?t.anchorXUnits:"fraction",this.anchorYUnits_=void 0!==t.anchorYUnits?t.anchorYUnits:"fraction",this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null;const s=void 0!==t.img?t.img:null;let o,a=t.src;if(Ha(!(void 0!==a&&s),"`image` and `src` cannot be provided at the same time"),void 0!==a&&0!==a.length||!s||(a=s.src||ha(s)),Ha(void 0!==a&&a.length>0,"A defined and non-empty `src` or `image` must be provided"),Ha(!((void 0!==t.width||void 0!==t.height)&&void 0!==t.scale),"`width` or `height` cannot be provided together with `scale`"),void 0!==t.src?o=Dd:void 0!==s&&(o="complete"in s?s.complete?s.src?zd:Dd:Bd:zd),this.color_=void 0!==t.color?uh(t.color):null,this.iconImage_=Yd(s,a,this.crossOrigin_,o,this.color_),this.offset_=void 0!==t.offset?t.offset:[0,0],this.offsetOrigin_=void 0!==t.offsetOrigin?t.offsetOrigin:"top-left",this.origin_=null,this.size_=void 0!==t.size?t.size:null,this.initialOptions_,void 0!==t.width||void 0!==t.height){let e,n;if(t.size)[e,n]=t.size;else{const i=this.getImage(1);if(i.width&&i.height)e=i.width,n=i.height;else if(i instanceof HTMLImageElement){this.initialOptions_=t;const e=()=>{if(this.unlistenImageChange(e),!this.initialOptions_)return;const n=this.iconImage_.getSize();this.setScale(Af(n[0],n[1],t.width,t.height))};return void this.listenImageChange(e)}}void 0!==e&&this.setScale(Af(e,n,t.width,t.height))}}clone(){let t,e,n;return this.initialOptions_?(e=this.initialOptions_.width,n=this.initialOptions_.height):(t=this.getScale(),t=Array.isArray(t)?t.slice():t),new Ef({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,width:e,height:n,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const e=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!e)return null;t=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(t[0]*=e[0]),"fraction"==this.anchorYUnits_&&(t[1]*=e[1])}if("top-left"!=this.anchorOrigin_){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),"top-right"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[0]=-t[0]+e[0]),"bottom-left"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}const e=this.getDisplacement(),n=this.getScaleArray();return[t[0]-e[0]/n[0],t[1]+e[1]/n[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if("top-left"!=this.offsetOrigin_){const e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),"top-right"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[0]=n[0]-e[0]-t[0]),"bottom-left"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const t=this.getScaleArray();return this.size_?this.size_[0]*t[0]:this.iconImage_.getImageState()==zd?this.iconImage_.getSize()[0]*t[0]:void 0}getHeight(){const t=this.getScaleArray();return this.size_?this.size_[1]*t[1]:this.iconImage_.getImageState()==zd?this.iconImage_.getSize()[1]*t[1]:void 0}setScale(t){delete this.initialOptions_,super.setScale(t)}listenImageChange(t){this.iconImage_.addEventListener(Ro,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(Ro,t)}ready(){return this.iconImage_.ready()}}const Lf=Ef;class Pf{constructor(t){t=t||{},this.color_=void 0!==t.color?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=void 0!==t.lineDash?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){const t=this.getColor();return new Pf({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}}const jf=Pf;class Rf{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=Ff,void 0!==t.geometry&&this.setGeometry(t.geometry),this.fill_=void 0!==t.fill?t.fill:null,this.image_=void 0!==t.image?t.image:null,this.renderer_=void 0!==t.renderer?t.renderer:null,this.hitDetectionRenderer_=void 0!==t.hitDetectionRenderer?t.hitDetectionRenderer:null,this.stroke_=void 0!==t.stroke?t.stroke:null,this.text_=void 0!==t.text?t.text:null,this.zIndex_=t.zIndex}clone(){var t;let e=this.getGeometry();return e&&"object"===typeof e&&(e=e.clone()),new Rf({geometry:null!==e&&void 0!==e?e:void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:null!==(t=this.getRenderer())&&void 0!==t?t:void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){"function"===typeof t?this.geometryFunction_=t:"string"===typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=Ff,this.geometry_=t}setZIndex(t){this.zIndex_=t}}let Tf=null;function If(t,e){if(!Tf){const t=new Nf({color:"rgba(255,255,255,0.4)"}),e=new jf({color:"#3399CC",width:1.25});Tf=[new Rf({image:new kf({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return Tf}function Ff(t){return t.getGeometry()}const Of=Rf;class Mf{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.keepUpright_=t.keepUpright,this.scale_=t.scale,this.scaleArray_=fh(void 0!==t.scale?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=void 0!==t.fill?t.fill:new Nf({color:"#333"}),this.maxAngle_=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.placement_=void 0!==t.placement?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=void 0!==t.stroke?t.stroke:null,this.offsetX_=void 0!==t.offsetX?t.offsetX:0,this.offsetY_=void 0!==t.offsetY?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=void 0===t.padding?null:t.padding,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new Mf({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRepeat(t){this.repeat_=t}setRotateWithView(t){this.rotateWithView_=t}setKeepUpright(t){this.keepUpright_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=fh(void 0!==t?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}const Df=Mf;function Bf(t){return!0}function zf(t){const e=Lh(),n=function(t,e){const n=t.length,i=new Array(n);for(let r=0;r<n;++r){const n=t[r],s="filter"in n?Id(n.filter,gh,e):Bf;let o;if(Array.isArray(n.style)){const t=n.style.length;o=new Array(t);for(let i=0;i<t;++i)o[i]=qf(n.style[i],e)}else o=[qf(n.style,e)];i[r]={filter:s,styles:o}}return function(e){const r=[];let s=!1;for(let o=0;o<n;++o){if((0,i[o].filter)(e)&&(!t[o].else||!s)){s=!0;for(const t of i[o].styles){const n=t(e);n&&r.push(n)}}}return r}}(t,e),i={variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""};return function(t,r){if(i.properties=t.getPropertiesInternal(),i.resolution=r,e.featureId){const e=t.getId();i.featureId=void 0!==e?e:null}return e.geometryType&&(i.geometryType=Td(t.getGeometry())),n(i)}}function Uf(t){const e=Lh(),n=t.length,i=new Array(n);for(let o=0;o<n;++o)i[o]=qf(t[o],e);const r={variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""},s=new Array(n);return function(t,o){if(r.properties=t.getPropertiesInternal(),r.resolution=o,e.featureId){const e=t.getId();r.featureId=void 0!==e?e:null}let a=0;for(let e=0;e<n;++e){const t=i[e](r);t&&(s[a]=t,a+=1)}return s.length=a,s}}function qf(t,e){const n=Wf(t,"",e),i=Hf(t,"",e),r=function(t,e){const n="text-",i=Gf(t,n+"value",e);if(!i)return null;const r=Wf(t,n,e),s=Wf(t,n+"background-",e),o=Hf(t,n,e),a=Hf(t,n+"background-",e),l=Gf(t,n+"font",e),c=Vf(t,n+"max-angle",e),u=Vf(t,n+"offset-x",e),h=Vf(t,n+"offset-y",e),d=Kf(t,n+"overflow",e),f=Gf(t,n+"placement",e),p=Vf(t,n+"repeat",e),g=$f(t,n+"scale",e),m=Kf(t,n+"rotate-with-view",e),v=Vf(t,n+"rotation",e),y=Gf(t,n+"align",e),w=Gf(t,n+"justify",e),b=Gf(t,n+"baseline",e),_=Kf(t,n+"keep-upright",e),x=Xf(t,n+"padding",e),S=np(t,n+"declutter-mode"),k=new Df({declutterMode:S});return function(t){if(k.setText(i(t)),r&&k.setFill(r(t)),s&&k.setBackgroundFill(s(t)),o&&k.setStroke(o(t)),a&&k.setBackgroundStroke(a(t)),l&&k.setFont(l(t)),c&&k.setMaxAngle(c(t)),u&&k.setOffsetX(u(t)),h&&k.setOffsetY(h(t)),d&&k.setOverflow(d(t)),f){const e=f(t);if("point"!==e&&"line"!==e)throw new Error("Expected point or line for text-placement");k.setPlacement(e)}if(p&&k.setRepeat(p(t)),g&&k.setScale(g(t)),m&&k.setRotateWithView(m(t)),v&&k.setRotation(v(t)),y){const e=y(t);if("left"!==e&&"center"!==e&&"right"!==e&&"end"!==e&&"start"!==e)throw new Error("Expected left, right, center, start, or end for text-align");k.setTextAlign(e)}if(w){const e=w(t);if("left"!==e&&"right"!==e&&"center"!==e)throw new Error("Expected left, right, or center for text-justify");k.setJustify(e)}if(b){const e=b(t);if("bottom"!==e&&"top"!==e&&"middle"!==e&&"alphabetic"!==e&&"hanging"!==e)throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");k.setTextBaseline(e)}return x&&k.setPadding(x(t)),_&&k.setKeepUpright(_(t)),k}}(t,e),s=function(t,e){if("icon-src"in t)return function(t,e){const n="icon-",i=n+"src",r=rp(t[i],i),s=Zf(t,n+"anchor",e),o=$f(t,n+"scale",e),a=Vf(t,n+"opacity",e),l=Zf(t,n+"displacement",e),c=Vf(t,n+"rotation",e),u=Kf(t,n+"rotate-with-view",e),h=tp(t,n+"anchor-origin"),d=ep(t,n+"anchor-x-units"),f=ep(t,n+"anchor-y-units"),p=function(t,e){const n=t[e];if(void 0===n)return;return op(n,e)}(t,n+"color"),g=function(t,e){const n=t[e];if(void 0===n)return;if("string"!==typeof n)throw new Error("Expected a string for ".concat(e));return n}(t,n+"cross-origin"),m=function(t,e){const n=t[e];if(void 0===n)return;return ip(n,e)}(t,n+"offset"),v=tp(t,n+"offset-origin"),y=Qf(t,n+"width"),w=Qf(t,n+"height"),b=function(t,e){const n=t[e];if(void 0===n)return;if("number"===typeof n)return fh(n);if(!Array.isArray(n))throw new Error("Expected a number or size array for ".concat(e));if(2!==n.length||"number"!==typeof n[0]||"number"!==typeof n[1])throw new Error("Expected a number or size array for ".concat(e));return n}(t,n+"size"),_=np(t,n+"declutter-mode"),x=new Lf({src:r,anchorOrigin:h,anchorXUnits:d,anchorYUnits:f,color:p,crossOrigin:g,offset:m,offsetOrigin:v,height:w,width:y,size:b,declutterMode:_});return function(t){return a&&x.setOpacity(a(t)),l&&x.setDisplacement(l(t)),c&&x.setRotation(c(t)),u&&x.setRotateWithView(u(t)),o&&x.setScale(o(t)),s&&x.setAnchor(s(t)),x}}(t,e);if("shape-points"in t)return function(t,e){const n="shape-",i=n+"points",r=n+"radius",s=sp(t[i],i),o=sp(t[r],r),a=Wf(t,n,e),l=Hf(t,n,e),c=$f(t,n+"scale",e),u=Zf(t,n+"displacement",e),h=Vf(t,n+"rotation",e),d=Kf(t,n+"rotate-with-view",e),f=Qf(t,n+"radius2"),p=Qf(t,n+"angle"),g=np(t,n+"declutter-mode"),m=new xf({points:s,radius:o,radius2:f,angle:p,declutterMode:g});return function(t){return a&&m.setFill(a(t)),l&&m.setStroke(l(t)),u&&m.setDisplacement(u(t)),h&&m.setRotation(h(t)),d&&m.setRotateWithView(d(t)),c&&m.setScale(c(t)),m}}(t,e);if("circle-radius"in t)return function(t,e){const n="circle-",i=Wf(t,n,e),r=Hf(t,n,e),s=Vf(t,n+"radius",e),o=$f(t,n+"scale",e),a=Zf(t,n+"displacement",e),l=Vf(t,n+"rotation",e),c=Kf(t,n+"rotate-with-view",e),u=np(t,n+"declutter-mode"),h=new kf({radius:5,declutterMode:u});return function(t){return s&&h.setRadius(s(t)),i&&h.setFill(i(t)),r&&h.setStroke(r(t)),a&&h.setDisplacement(a(t)),l&&h.setRotation(l(t)),c&&h.setRotateWithView(c(t)),o&&h.setScale(o(t)),h}}(t,e);return null}(t,e),o=Vf(t,"z-index",e);if(!n&&!i&&!r&&!s&&!ea(t))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(t));const a=new Of;return function(t){let e=!0;if(n){const i=n(t);i&&(e=!1),a.setFill(i)}if(i){const n=i(t);n&&(e=!1),a.setStroke(n)}if(r){const n=r(t);n&&(e=!1),a.setText(n)}if(s){const n=s(t);n&&(e=!1),a.setImage(n)}return o&&a.setZIndex(o(t)),e?null:a}}function Wf(t,e,n){let i;if(e+"fill-pattern-src"in t)i=function(t,e,n){const i=Gf(t,e+"pattern-src",n),r=Jf(t,e+"pattern-offset",n),s=Jf(t,e+"pattern-size",n),o=Yf(t,e+"color",n);return function(t){return{src:i(t),offset:r&&r(t),size:s&&s(t),color:o&&o(t)}}}(t,e+"fill-",n);else{if("none"===t[e+"fill-color"])return t=>null;i=Yf(t,e+"fill-color",n)}if(!i)return null;const r=new Nf;return function(t){const e=i(t);return e===Gu?null:(r.setColor(e),r)}}function Hf(t,e,n){const i=Vf(t,e+"stroke-width",n),r=Yf(t,e+"stroke-color",n);if(!i&&!r)return null;const s=Gf(t,e+"stroke-line-cap",n),o=Gf(t,e+"stroke-line-join",n),a=Xf(t,e+"stroke-line-dash",n),l=Vf(t,e+"stroke-line-dash-offset",n),c=Vf(t,e+"stroke-miter-limit",n),u=new jf;return function(t){if(r){const e=r(t);if(e===Gu)return null;u.setColor(e)}if(i&&u.setWidth(i(t)),s){const e=s(t);if("butt"!==e&&"round"!==e&&"square"!==e)throw new Error("Expected butt, round, or square line cap");u.setLineCap(e)}if(o){const e=o(t);if("bevel"!==e&&"round"!==e&&"miter"!==e)throw new Error("Expected bevel, round, or miter line join");u.setLineJoin(e)}return a&&u.setLineDash(a(t)),l&&u.setLineDashOffset(l(t)),c&&u.setMiterLimit(c(t)),u}}function Vf(t,e,n){if(!(e in t))return;const i=Id(t[e],mh,n);return function(t){return sp(i(t),e)}}function Gf(t,e,n){if(!(e in t))return null;const i=Id(t[e],vh,n);return function(t){return rp(i(t),e)}}function Kf(t,e,n){if(!(e in t))return null;const i=Id(t[e],gh,n);return function(t){const n=i(t);if("boolean"!==typeof n)throw new Error("Expected a boolean for ".concat(e));return n}}function Yf(t,e,n){if(!(e in t))return null;const i=Id(t[e],yh,n);return function(t){return op(i(t),e)}}function Xf(t,e,n){if(!(e in t))return null;const i=Id(t[e],wh,n);return function(t){return ip(i(t),e)}}function Zf(t,e,n){if(!(e in t))return null;const i=Id(t[e],wh,n);return function(t){const n=ip(i(t),e);if(2!==n.length)throw new Error("Expected two numbers for ".concat(e));return n}}function Jf(t,e,n){if(!(e in t))return null;const i=Id(t[e],wh,n);return function(t){return ap(i(t),e)}}function $f(t,e,n){if(!(e in t))return null;const i=Id(t[e],wh|mh,n);return function(t){return function(t,e){if("number"===typeof t)return t;return ap(t,e)}(i(t),e)}}function Qf(t,e){const n=t[e];if(void 0!==n){if("number"!==typeof n)throw new Error("Expected a number for ".concat(e));return n}}function tp(t,e){const n=t[e];if(void 0!==n){if("bottom-left"!==n&&"bottom-right"!==n&&"top-left"!==n&&"top-right"!==n)throw new Error("Expected bottom-left, bottom-right, top-left, or top-right for ".concat(e));return n}}function ep(t,e){const n=t[e];if(void 0!==n){if("pixels"!==n&&"fraction"!==n)throw new Error("Expected pixels or fraction for ".concat(e));return n}}function np(t,e){const n=t[e];if(void 0!==n){if("string"!==typeof n)throw new Error("Expected a string for ".concat(e));if("declutter"!==n&&"obstacle"!==n&&"none"!==n)throw new Error("Expected declutter, obstacle, or none for ".concat(e));return n}}function ip(t,e){if(!Array.isArray(t))throw new Error("Expected an array for ".concat(e));const n=t.length;for(let i=0;i<n;++i)if("number"!==typeof t[i])throw new Error("Expected an array of numbers for ".concat(e));return t}function rp(t,e){if("string"!==typeof t)throw new Error("Expected a string for ".concat(e));return t}function sp(t,e){if("number"!==typeof t)throw new Error("Expected a number for ".concat(e));return t}function op(t,e){if("string"===typeof t)return t;const n=ip(t,e),i=n.length;if(i<3||i>4)throw new Error("Expected a color with 3 or 4 values for ".concat(e));return n}function ap(t,e){const n=ip(t,e);if(2!==n.length)throw new Error("Expected an array of two numbers for ".concat(e));return n}const lp="renderOrder";const cp=class extends Au{constructor(t){t=t||{};const e=Object.assign({},t);delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,super(e),this.declutter_=t.declutter?String(t.declutter):void 0,this.renderBuffer_=void 0!==t.renderBuffer?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,this.updateWhileInteracting_=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(lp)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t,e){const n=this.getDeclutter();n in t.declutter===!1&&(t.declutter[n]=new ju(9)),this.getRenderer().renderDeclutter(t,e)}setRenderOrder(t){this.set(lp,t)}setStyle(t){this.style_=void 0===t?If:t;const e=function(t){if(void 0===t)return If;if(!t)return null;if("function"===typeof t)return t;if(t instanceof Of)return t;if(!Array.isArray(t))return Uf([t]);if(0===t.length)return[];const e=t.length,n=t[0];if(n instanceof Of){const n=new Array(e);for(let i=0;i<e;++i){const e=t[i];if(!(e instanceof Of))throw new Error("Expected a list of style instances");n[i]=e}return n}if("style"in n){const n=new Array(e);for(let i=0;i<e;++i){const e=t[i];if(!("style"in e))throw new Error("Expected a list of rules with a style property");n[i]=e}return zf(n)}const i=t;return Uf(i)}(t);this.styleFunction_=null===t?void 0:function(t){let e;if("function"===typeof t)e=t;else{let n;Array.isArray(t)?n=t:(Ha("function"===typeof t.getZIndex,"Expected an `Style` or an array of `Style`"),n=[t]),e=function(){return n}}return e}(e),this.changed()}setDeclutter(t){this.declutter_=t?String(t):void 0,this.changed()}};const up=class extends na{constructor(t,e,n,i){super(t),this.inversePixelTransform=e,this.frameState=n,this.context=i}};function hp(t,e){Vd.expire()}const dp=class extends qo{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,e){ca()}calculateMatrices2D(t){const e=t.viewState,n=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;rl(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),sl(i,n)}forEachFeatureAtCoordinate(t,e,n,i,r,s,o,a){let l;const c=e.viewState;function u(t,e,n,i){return r.call(s,e,t?n:null,i)}const h=c.projection,d=Gr(t.slice(),h),f=[[0,0]];if(h.canWrapX()&&i){const t=Dr(h.getExtent());f.push([-t,0],[t,0])}const p=e.layerStatesArray,g=p.length,m=[],v=[];for(let w=0;w<f.length;w++)for(let i=g-1;i>=0;--i){const r=p[i],s=r.layer;if(s.hasRenderer()&&Nu(r,c)&&o.call(a,s)){const i=s.getRenderer(),o=s.getSource();if(i&&o){const s=o.getWrapX()?d:t,a=u.bind(null,r.managed);v[0]=s[0]+f[w][0],v[1]=s[1]+f[w][1],l=i.forEachFeatureAtCoordinate(v,e,n,a,m)}if(l)return l}}if(0===m.length)return;const y=1/m.length;return m.forEach((t,e)=>t.distanceSq+=e*y),m.sort((t,e)=>t.distanceSq-e.distanceSq),m.some(t=>l=t.callback(t.feature,t.layer,t.geometry)),l}hasFeatureAtCoordinate(t,e,n,i,r,s){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,i,Xo,this,r,s)}getMap(){return this.map_}renderFrame(t){ca()}scheduleExpireIconCache(t){Vd.canExpireCache()&&t.postRenderFunctions.push(hp)}};const fp=class extends dp{constructor(t){super(t),this.fontChangeListenerKey_=ra(af,jo,t.redrawText,t),this.element_=document.createElement("div");const e=this.element_.style;e.position="absolute",e.width="100%",e.height="100%",e.zIndex="0",this.element_.className=lc+" ol-layers";const n=t.getViewport();n.insertBefore(this.element_,n.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,e){const n=this.getMap();if(n.hasListener(t)){const i=new up(t,void 0,e);n.dispatchEvent(i)}}disposeInternal(){oa(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(t){if(!t)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));this.calculateMatrices2D(t),this.dispatchRenderEvent(Su,t);const e=t.layerStatesArray.sort((t,e)=>t.zIndex-e.zIndex);e.some(t=>t.layer instanceof cp&&t.layer.getDeclutter())&&(t.declutter={});const n=t.viewState;this.children_.length=0;const i=[];let r=null;for(let s=0,o=e.length;s<o;++s){const o=e[s];t.layerIndex=s;const a=o.layer,l=a.getSourceState();if(!Nu(o,n)||"ready"!=l&&"undefined"!=l){a.unrender();continue}const c=a.render(t,r);c&&(c!==r&&(this.children_.push(c),r=c),i.push(o))}this.declutter(t,i),function(t,e){const n=t.childNodes;for(let i=0;;++i){const r=n[i],s=e[i];if(!r&&!s)break;r!==s&&(r?s?t.insertBefore(s,r):(t.removeChild(r),--i):t.appendChild(s))}}(this.element_,this.children_),this.dispatchRenderEvent(ku,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}declutter(t,e){if(t.declutter){for(let n=e.length-1;n>=0;--n){const i=e[n],r=i.layer;r.getDeclutter()&&r.renderDeclutter(t,i)}e.forEach(e=>e.layer.renderDeferred(t))}}};function pp(t){t instanceof Au?t.setMapInternal(null):t instanceof bu&&t.getLayers().forEach(pp)}function gp(t,e){if(t instanceof Au)t.setMapInternal(e);else if(t instanceof bu){const n=t.getLayers().getArray();for(let t=0,i=n.length;t<i;++t)gp(n[t],e)}}const mp=class extends fa{constructor(t){super(),t=t||{},this.on,this.once,this.un;const e=function(t){let e=null;void 0!==t.keyboardEventTarget&&(e="string"===typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},i=t.layers&&"function"===typeof t.layers.getLayers?t.layers:new bu({layers:t.layers});let r,s,o;n[Fa]=i,n[Ma]=t.target,n[Da]=t.view instanceof oc?t.view:new oc,void 0!==t.controls&&(Array.isArray(t.controls)?r=new ma(t.controls.slice()):(Ha("function"===typeof t.controls.getArray,"Expected `controls` to be an array or an `ol/Collection.js`"),r=t.controls));void 0!==t.interactions&&(Array.isArray(t.interactions)?s=new ma(t.interactions.slice()):(Ha("function"===typeof t.interactions.getArray,"Expected `interactions` to be an array or an `ol/Collection.js`"),s=t.interactions));void 0!==t.overlays?Array.isArray(t.overlays)?o=new ma(t.overlays.slice()):(Ha("function"===typeof t.overlays.getArray,"Expected `overlays` to be an array or an `ol/Collection.js`"),o=t.overlays):o=new ma;return{controls:r,interactions:s,keyboardEventTarget:e,overlays:o,values:n}}(t);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=void 0!==t.maxTilesLoading?t.maxTilesLoading:16,this.pixelRatio_=void 0!==t.pixelRatio?t.pixelRatio:Sa,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=[1,0,0,1,0,0],this.pixelToCoordinateTransform_=[1,0,0,1,0,0],this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=e.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=e.controls||function(t){t=t||{};const e=new ma;return(void 0===t.zoom||t.zoom)&&e.push(new Sc(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&e.push(new xc(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&e.push(new _c(t.attributionOptions)),e}(),this.interactions=e.interactions||function(t){t=t||{};const e=new ma,n=new kc(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&e.push(new qc),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&e.push(new Ec({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&e.push(new Uc({onFocusOnly:t.onFocusOnly,kinetic:n})),(void 0===t.pinchRotate||t.pinchRotate)&&e.push(new ru),(void 0===t.pinchZoom||t.pinchZoom)&&e.push(new su({duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(e.push(new eu),e.push(new nu({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&e.push(new iu({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&e.push(new Zc({duration:t.zoomDuration})),e}({onFocusOnly:!0}),this.overlays_=e.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new Ka(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Fa,this.handleLayerGroupChanged_),this.addChangeListener(Da,this.handleViewChanged_),this.addChangeListener(Oa,this.handleSizeChanged_),this.addChangeListener(Ma,this.handleTargetChanged_),this.setProperties(e.values);const n=this;!t.view||t.view instanceof oc||t.view.then(function(t){n.setView(new oc(t))}),this.controls.addEventListener(Lo,t=>{t.element.setMap(this)}),this.controls.addEventListener(Po,t=>{t.element.setMap(null)}),this.interactions.addEventListener(Lo,t=>{t.element.setMap(this)}),this.interactions.addEventListener(Po,t=>{t.element.setMap(null)}),this.overlays_.addEventListener(Lo,t=>{this.addOverlayInternal_(t.element)}),this.overlays_.addEventListener(Po,t=>{const e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}),this.controls.forEach(t=>{t.setMap(this)}),this.interactions.forEach(t=>{t.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){gp(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,e,n){if(!this.frameState_||!this.renderer_)return;const i=this.getCoordinateFromPixelInternal(t),r=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,s=void 0!==n.layerFilter?n.layerFilter:Xo,o=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,r,o,e,null,s,null)}getFeaturesAtPixel(t,e){const n=[];return this.forEachFeatureAtPixel(t,function(t){n.push(t)},e),n}getAllLayers(){const t=[];return function e(n){n.forEach(function(n){n instanceof bu?e(n.getLayers()):t.push(n)})}(this.getLayers()),t}hasFeatureAtPixel(t,e){if(!this.frameState_||!this.renderer_)return!1;const n=this.getCoordinateFromPixelInternal(t),i=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:Xo,r=void 0!==e.hitTolerance?e.hitTolerance:0,s=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,r,s,i,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const e=this.viewport_.getBoundingClientRect(),n=this.getSize(),i=e.width/n[0],r=e.height/n[1],s="changedTouches"in t?t.changedTouches[0]:t;return[(s.clientX-e.left)/i,(s.clientY-e.top)/r]}getTarget(){return this.get(Ma)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return vo(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const e=this.frameState_;return e?il(e.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Fa)}setLayers(t){const e=this.getLayerGroup();if(t instanceof ma)return void e.setLayers(t);const n=e.getLayers();n.clear(),n.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,n=t.length;e<n;++e){const n=t[e];if(!n.visible)continue;const i=n.layer.getRenderer();if(i&&!i.ready)return!0;const r=n.layer.getSource();if(r&&r.loading)return!0}return!1}getPixelFromCoordinate(t){const e=yo(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)}getPixelFromCoordinateInternal(t){const e=this.frameState_;return e?il(e.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Oa)}getView(){return this.get(Da)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,e,n,i){return function(t,e,n,i,r){if(!t||!(n in t.wantedTiles))return Va;if(!t.wantedTiles[n][e.getKey()])return Va;const s=t.viewState.center,o=i[0]-s[0],a=i[1]-s[1];return 65536*Math.log(r)+Math.sqrt(o*o+a*a)/r}(this.frameState_,t,e,n,i)}handleBrowserEvent(t,e){e=e||t.type;const n=new ya(e,this,t);this.handleMapBrowserEvent(n)}handleMapBrowserEvent(t){if(!this.frameState_)return;const e=t.originalEvent,n=e.type;if(n===Ea||n===Uo||n===Mo){const t=this.getOwnerDocument(),n=this.viewport_.getRootNode?this.viewport_.getRootNode():t,i=e.target,r=n instanceof ShadowRoot?n.host===i?n.host.ownerDocument:n:n===t?t.documentElement:n;if(this.overlayContainerStopEvent_.contains(i)||!r.contains(i))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t)){const e=this.getInteractions().getArray().slice();for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.getMap()!==this||!i.getActive()||!this.getTargetElement())continue;if(!i.handleEvent(t)||t.propagationStopped)break}}}handlePostRender(){const t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){let n=this.maxTilesLoading_,i=n;if(t){const e=t.viewHints;if(e[Ya]||e[Xa]){const e=Date.now()-t.time>8;n=e?0:8,i=e?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}t&&this.renderer_&&!t.animate&&(this.renderComplete_?(this.hasListener(Cu)&&this.renderer_.dispatchRenderEvent(Cu,t),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new va(Ia,this,t)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new va(Ta,this,t))));const n=this.postRenderFunctions_;if(t)for(let i=0,r=n.length;i<r;++i)n[i](this,t);n.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let t=0,e=this.targetChangeHandlerKeys_.length;t<e;++t)oa(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Io,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Uo,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const t=this.targetElement_.getRootNode();t instanceof ShadowRoot&&this.resizeObserver_.unobserve(t.host),this.setSize(void 0)}const t=this.getTarget(),e="string"===typeof t?document.getElementById(t):t;if(this.targetElement_=e,e){e.appendChild(this.viewport_),this.renderer_||(this.renderer_=new fp(this)),this.mapBrowserEventHandler_=new La(this,this.moveTolerance_);for(const e in wa)this.mapBrowserEventHandler_.addEventListener(wa[e],this.handleMapBrowserEvent.bind(this));let t;if(this.viewport_.addEventListener(Io,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Uo,this.boundHandleBrowserEvent_,!!Na&&{passive:!1}),this.keyboardEventTarget_)t=this.keyboardEventTarget_;else{const n=e.getRootNode();t=n instanceof ShadowRoot?n.host:e}this.targetChangeHandlerKeys_=[ra(t,Mo,this.handleBrowserEvent,this),ra(t,Do,this.handleBrowserEvent,this)];const n=e.getRootNode();n instanceof ShadowRoot&&this.resizeObserver_.observe(n.host),this.resizeObserver_.observe(e)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(oa(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(oa(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=ra(t,jo,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=ra(t,Ro,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(oa),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new vu("addlayer",t)),this.layerGroupPropertyListenerKeys_=[ra(t,jo,this.render,this),ra(t,Ro,this.render,this),ra(t,"addlayer",this.handleLayerAdd_,this),ra(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){if(!this.frameState_)return;const t=this.frameState_.layerStatesArray;for(let e=0,n=t.length;e<n;++e){const n=t[e].layer;n.hasRenderer()&&n.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){pp(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const e=this.getSize(),n=this.getView(),i=this.frameState_;let r=null;if(void 0!==e&&dh(e)&&n&&n.isDef()){const i=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),s=n.getState();if(r={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:Rr(s.center,s.resolution,s.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:s,viewHints:i,wantedTiles:{},mapId:ha(this),renderTargets:{}},s.nextCenter&&s.nextResolution){const t=isNaN(s.nextRotation)?s.rotation:s.nextRotation;r.nextExtent=Rr(s.nextCenter,s.nextResolution,t,e)}}if(this.frameState_=r,this.renderer_.renderFrame(r),r){if(r.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,r.postRenderFunctions),i){(!this.previousExtent_||!zr(this.previousExtent_)&&!xr(r.extent,this.previousExtent_))&&(this.dispatchEvent(new va(ja,this,i)),this.previousExtent_=wr(this.previousExtent_))}this.previousExtent_&&!r.viewHints[Ya]&&!r.viewHints[Xa]&&!xr(r.extent,this.previousExtent_)&&(this.dispatchEvent(new va(Ra,this,r)),hr(r.extent,this.previousExtent_))}this.dispatchEvent(new va(Pa,this,r)),this.renderComplete_=(this.hasListener(Ta)||this.hasListener(Ia)||this.hasListener(Cu))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(t){const e=this.getLayerGroup();e&&this.handleLayerRemove_(new vu("removelayer",e)),this.set(Fa,t)}setSize(t){this.set(Oa,t)}setTarget(t){this.set(Ma,t)}setView(t){if(!t||t instanceof oc)return void this.set(Da,t);this.set(Da,new oc);const e=this;t.then(function(t){e.setView(new oc(t))})}updateSize(){const t=this.getTargetElement();let e;if(t){const n=getComputedStyle(t),i=t.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),r=t.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth);isNaN(i)||isNaN(r)||(e=[Math.max(0,i),Math.max(0,r)],!dh(e)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&er("No map visible because the map container's width or height are 0."))}const n=this.getSize();!e||n&&Yo(e,n)||(this.setSize(e),this.updateViewportSize_(e))}updateViewportSize_(t){const e=this.getView();e&&e.setViewportSize(t)}};const vp=class extends ia{constructor(t,e,n){super(),n=n||{},this.tileCoord=t,this.state=e,this.key="",this.transition_=void 0===n.transition?250:n.transition,this.transitionStarts_={},this.interpolate=!!n.interpolate}changed(){this.dispatchEvent(Ro)}release(){this.setState(Wa)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==Wa){if(this.state!==qa&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}}load(){ca()}getAlpha(t,e){if(!this.transition_)return 1;let n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;const i=e-n+1e3/60;return i>=this.transition_?1:Qa(i/this.transition_)}inTransition(t){return!!this.transition_&&-1!==this.transitionStarts_[t]}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}disposeInternal(){this.release(),super.disposeInternal()}};function yp(t){return t instanceof Image||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageBitmap?t:null}const wp=new Error("disposed");const bp=[256,256];const _p=class extends vp{constructor(t){const e=Ba;super(t.tileCoord,e,{transition:t.transition,interpolate:t.interpolate}),this.loader_=t.loader,this.data_=null,this.error_=null,this.size_=t.size||null,this.controller_=t.controller||null}getSize(){if(this.size_)return this.size_;const t=yp(this.data_);return t?[t.width,t.height]:bp}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==Ba&&this.state!==qa)return;this.state=za,this.changed();const t=this;this.loader_().then(function(e){t.data_=e,t.state=Ua,t.changed()}).catch(function(e){t.error_=e,t.state=qa,t.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(wp),this.controller_=null),super.disposeInternal()}};const xp=class extends vp{constructor(t,e,n,i,r,s){super(t,e,s),this.crossOrigin_=i,this.src_=n,this.key=n,this.image_=new Image,null!==i&&(this.image_.crossOrigin=i),this.unlisten_=null,this.tileLoadFunction_=r}getImage(){return this.image_}setImage(t){this.image_=t,this.state=Ua,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=qa,this.unlistenImage_(),this.image_=function(){const t=gc(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}(),this.changed()}handleImageLoad_(){const t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=Ua:this.state=Wa,this.unlistenImage_(),this.changed()}load(){this.state==qa&&(this.state=Ba,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Ba&&(this.state=za,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=function(t,e,n){const i=t;let r=!0,s=!1,o=!1;const a=[sa(i,Bo,function(){o=!0,s||e()})];return i.src&&Ca?(s=!0,i.decode().then(function(){r&&e()}).catch(function(t){r&&(o?e():n())})):a.push(sa(i,To,n)),function(){r=!1,a.forEach(oa)}}(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}};class Sp{constructor(t,e,n,i){this.minX=t,this.maxX=e,this.minY=n,this.maxY=i}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function kp(t,e,n,i,r){return void 0!==r?(r.minX=t,r.maxX=e,r.minY=n,r.maxY=i,r):new Sp(t,e,n,i)}const Cp=Sp;let Np;const Ap=[];function Ep(t,e,n,i,r){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(i,r),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,i)+1,Math.max(n,r)),t.restore()}function Lp(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function Pp(t,e,n,i){const r=fo(n,e,t);let s=io(e,i,n);const o=e.getMetersPerUnit();void 0!==o&&(s*=o);const a=t.getMetersPerUnit();void 0!==a&&(s/=a);const l=t.getExtent();if(!l||fr(l,r)){const e=io(t,s,r)/s;isFinite(e)&&e>0&&(s/=e)}return s}function jp(t,e,n,i,r,s,o,a,l,c,u,h,d,f){const p=gc(Math.round(n*t),Math.round(n*e),Ap);if(h||(p.imageSmoothingEnabled=!1),0===l.length)return p.canvas;function g(t){return Math.round(t*n)/n}p.scale(n,n),p.globalCompositeOperation="lighter";const m=[1/0,1/0,-1/0,-1/0];let v;l.forEach(function(t,e,n){var i,r;i=m,(r=t.extent)[0]<i[0]&&(i[0]=r[0]),r[2]>i[2]&&(i[2]=r[2]),r[1]<i[1]&&(i[1]=r[1]),r[3]>i[3]&&(i[3]=r[3])});const y=n/i,w=(h?1:1+Math.pow(2,-24))/y;if(!d||1!==l.length||0!==c){if(v=gc(Math.round(Dr(m)*y),Math.round(Ir(m)*y),Ap),h||(v.imageSmoothingEnabled=!1),r&&f){const t=(r[0]-m[0])*y,e=-(r[3]-m[3])*y,n=Dr(r)*y,i=Ir(r)*y;v.rect(t,e,n,i),v.clip()}l.forEach(function(t,e,n){if(t.image.width>0&&t.image.height>0){if(t.clipExtent){v.save();const e=(t.clipExtent[0]-m[0])*y,n=-(t.clipExtent[3]-m[3])*y,i=Dr(t.clipExtent)*y,r=Ir(t.clipExtent)*y;v.rect(h?e:Math.round(e),h?n:Math.round(n),h?i:Math.round(e+i)-Math.round(e),h?r:Math.round(n+r)-Math.round(n)),v.clip()}const e=(t.extent[0]-m[0])*y,n=-(t.extent[3]-m[3])*y,i=Dr(t.extent)*y,r=Ir(t.extent)*y;v.drawImage(t.image,c,c,t.image.width-2*c,t.image.height-2*c,h?e:Math.round(e),h?n:Math.round(n),h?i:Math.round(e+i)-Math.round(e),h?r:Math.round(n+r)-Math.round(n)),t.clipExtent&&v.restore()}})}const b=Or(o);return a.getTriangles().forEach(function(t,e,n){const i=t.source,r=t.target;let o=i[0][0],a=i[0][1],c=i[1][0],u=i[1][1],d=i[2][0],f=i[2][1];const y=g((r[0][0]-b[0])/s),_=g(-(r[0][1]-b[1])/s),x=g((r[1][0]-b[0])/s),S=g(-(r[1][1]-b[1])/s),k=g((r[2][0]-b[0])/s),C=g(-(r[2][1]-b[1])/s),N=o,A=a;o=0,a=0,c-=N,u-=A,d-=N,f-=A;const E=function(t){const e=t.length;for(let i=0;i<e;i++){let n=i,r=Math.abs(t[i][i]);for(let o=i+1;o<e;o++){const e=Math.abs(t[o][i]);e>r&&(r=e,n=o)}if(0===r)return null;const s=t[n];t[n]=t[i],t[i]=s;for(let o=i+1;o<e;o++){const n=-t[o][i]/t[i][i];for(let r=i;r<e+1;r++)i==r?t[o][r]=0:t[o][r]+=n*t[i][r]}}const n=new Array(e);for(let i=e-1;i>=0;i--){n[i]=t[i][e]/t[i][i];for(let r=i-1;r>=0;r--)t[r][e]-=t[r][i]*n[i]}return n}([[c,u,0,0,x-y],[d,f,0,0,k-y],[0,0,c,u,S-_],[0,0,d,f,C-_]]);if(!E)return;if(p.save(),p.beginPath(),function(){if(void 0===Np){const t=gc(6,6,Ap);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",Ep(t,4,5,4,0),Ep(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;Np=Lp(e,0)||Lp(e,4)||Lp(e,8),yc(t),Ap.push(t.canvas)}return Np}()||!h){p.moveTo(x,S);const t=4,e=y-x,n=_-S;for(let i=0;i<t;i++)p.lineTo(x+g((i+1)*e/t),S+g(i*n/(t-1))),i!=t-1&&p.lineTo(x+g((i+1)*e/t),S+g((i+1)*n/(t-1)));p.lineTo(k,C)}else p.moveTo(x,S),p.lineTo(y,_),p.lineTo(k,C);let L;if(p.clip(),p.transform(E[0],E[2],E[1],E[3],y,_),p.translate(m[0]-N,m[3]-A),v)L=v.canvas,p.scale(w,-w);else{const t=l[0],e=t.extent;L=t.image,p.scale(Dr(e)/L.width,-Ir(e)/L.height)}p.drawImage(L,0,0),p.restore()}),v&&(yc(v),Ap.push(v.canvas)),u&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,a.getTriangles().forEach(function(t,e,n){const i=t.target,r=(i[0][0]-b[0])/s,o=-(i[0][1]-b[1])/s,a=(i[1][0]-b[0])/s,l=-(i[1][1]-b[1])/s,c=(i[2][0]-b[0])/s,u=-(i[2][1]-b[1])/s;p.beginPath(),p.moveTo(a,l),p.lineTo(r,o),p.lineTo(c,u),p.closePath(),p.stroke()}),p.restore()),p.canvas}const Rp=class{constructor(t,e,n,i,r,s,o){this.sourceProj_=t,this.targetProj_=e;let a={};const l=o?oo(t=>il(o,fo(t,this.targetProj_,this.sourceProj_))):ho(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){const e=t[0]+"/"+t[1];return a[e]||(a[e]=l(t)),a[e]},this.maxSourceExtent_=i,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&Dr(i)>=Dr(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Dr(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Dr(this.targetProj_.getExtent()):null;const c=Or(n),u=Mr(n),h=Lr(n),d=Er(n),f=this.transformInv_(c),p=this.transformInv_(u),g=this.transformInv_(h),m=this.transformInv_(d),v=10+(s?Math.max(0,Math.ceil(Math.log2(Ar(n)/(s*s*256*256)))):0);if(this.addQuad_(c,u,h,d,f,p,g,m,v),this.wrapsXInSource_){let t=1/0;this.triangles_.forEach(function(e,n,i){t=Math.min(t,e.source[0][0],e.source[1][0],e.source[2][0])}),this.triangles_.forEach(e=>{if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-t>this.sourceWorldWidth_/2){const n=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];n[0][0]-t>this.sourceWorldWidth_/2&&(n[0][0]-=this.sourceWorldWidth_),n[1][0]-t>this.sourceWorldWidth_/2&&(n[1][0]-=this.sourceWorldWidth_),n[2][0]-t>this.sourceWorldWidth_/2&&(n[2][0]-=this.sourceWorldWidth_);const i=Math.min(n[0][0],n[1][0],n[2][0]);Math.max(n[0][0],n[1][0],n[2][0])-i<this.sourceWorldWidth_/2&&(e.source=n)}})}a={}}addTriangle_(t,e,n,i,r,s){this.triangles_.push({source:[i,r,s],target:[t,e,n]})}addQuad_(t,e,n,i,r,s,o,a,l){const c=cr([r,s,o,a]),u=this.sourceWorldWidth_?Dr(c)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&u>.5&&u<1;let f=!1;if(l>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){f=Dr(cr([t,e,n,i]))/this.targetWorldWidth_>.25||f}!d&&this.sourceProj_.isGlobal()&&u&&(f=u>.25||f)}if(!f&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3])&&!Br(c,this.maxSourceExtent_))return;let p=0;if(!f&&(!isFinite(r[0])||!isFinite(r[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])))if(l>0)f=!0;else if(p=(isFinite(r[0])&&isFinite(r[1])?0:8)+(isFinite(s[0])&&isFinite(s[1])?0:4)+(isFinite(o[0])&&isFinite(o[1])?0:2)+(isFinite(a[0])&&isFinite(a[1])?0:1),1!=p&&2!=p&&4!=p&&8!=p)return;if(l>0){if(!f){const e=[(t[0]+n[0])/2,(t[1]+n[1])/2],i=this.transformInv_(e);let s;if(d){s=($r(r[0],h)+$r(o[0],h))/2-$r(i[0],h)}else s=(r[0]+o[0])/2-i[0];const a=(r[1]+o[1])/2-i[1];f=s*s+a*a>this.errorThresholdSquared_}if(f){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){const c=[(e[0]+n[0])/2,(e[1]+n[1])/2],u=this.transformInv_(c),h=[(i[0]+t[0])/2,(i[1]+t[1])/2],d=this.transformInv_(h);this.addQuad_(t,e,c,h,r,s,u,d,l-1),this.addQuad_(h,c,n,i,d,u,o,a,l-1)}else{const c=[(t[0]+e[0])/2,(t[1]+e[1])/2],u=this.transformInv_(c),h=[(n[0]+i[0])/2,(n[1]+i[1])/2],d=this.transformInv_(h);this.addQuad_(t,c,h,i,r,u,d,a,l-1),this.addQuad_(c,e,n,h,u,s,o,d,l-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&p)&&this.addTriangle_(t,n,i,r,o,a),0==(14&p)&&this.addTriangle_(t,n,e,r,o,s),p&&(0==(13&p)&&this.addTriangle_(e,i,t,s,a,r),0==(7&p)&&this.addTriangle_(e,i,n,s,a,o))}calculateSourceExtent(){const t=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach(function(e,n,i){const r=e.source;Sr(t,r[0]),Sr(t,r[1]),Sr(t,r[2])}),t}getTriangles(){return this.triangles_}};const Tp=class extends vp{constructor(t,e,n,i,r,s,o,a,l,c,u,h){super(r,Ba,h),this.renderEdges_=void 0!==u&&u,this.pixelRatio_=o,this.gutter_=a,this.canvas_=null,this.sourceTileGrid_=e,this.targetTileGrid_=i,this.wrappedTileCoord_=s||r,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=t.canWrapX()?t.getExtent():void 0;const d=i.getTileCoordExtent(this.wrappedTileCoord_),f=this.targetTileGrid_.getExtent();let p=this.sourceTileGrid_.getExtent();const g=f?Fr(d,f):d;if(0===Ar(g))return void(this.state=Wa);const m=t.getExtent();m&&(p=p?Fr(p,m):m);const v=i.getResolution(this.wrappedTileCoord_[0]),y=function(t,e,n,i){const r=Pr(n);let s=Pp(t,e,r,i);return(!isFinite(s)||s<=0)&&Nr(n,function(n){return s=Pp(t,e,n,i),isFinite(s)&&s>0}),s}(t,n,g,v);if(!isFinite(y)||y<=0)return void(this.state=Wa);const w=void 0!==c?c:.5;if(this.triangulation_=new Rp(t,n,g,p,y*w,v),0===this.triangulation_.getTriangles().length)return void(this.state=Wa);this.sourceZ_=e.getZForResolution(y);let b=this.triangulation_.calculateSourceExtent();if(p&&(t.canWrapX()?(b[1]=Kr(b[1],p[1],p[3]),b[3]=Kr(b[3],p[1],p[3])):b=Fr(b,p)),Ar(b)){let n=0,i=0;t.canWrapX()&&(n=Dr(m),i=Math.floor((b[0]-m[0])/n));Wr(b.slice(),t,!0).forEach(t=>{const r=e.getTileRangeForExtentAndZ(t,this.sourceZ_);for(let e=r.minX;e<=r.maxX;e++)for(let t=r.minY;t<=r.maxY;t++){const r=l(this.sourceZ_,e,t,o);if(r){const t=i*n;this.sourceTiles_.push({tile:r,offset:t})}}++i}),0===this.sourceTiles_.length&&(this.state=Wa)}else this.state=Wa}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach(e=>{const n=e.tile;if(n&&n.getState()==Ua){var i;const r=this.sourceTileGrid_.getTileCoordExtent(n.tileCoord);r[0]+=e.offset,r[2]+=e.offset;const s=null===(i=this.clipExtent_)||void 0===i?void 0:i.slice();s&&(s[0]+=e.offset,s[2]+=e.offset),t.push({extent:r,clipExtent:s,image:n.getImage()})}}),this.sourceTiles_.length=0,0===t.length)this.state=qa;else{const e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),i="number"===typeof n?n:n[0],r="number"===typeof n?n:n[1],s=this.targetTileGrid_.getResolution(e),o=this.sourceTileGrid_.getResolution(this.sourceZ_),a=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=jp(i,r,this.pixelRatio_,o,this.sourceTileGrid_.getExtent(),s,a,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=Ua}this.changed()}load(){if(this.state==Ba){this.state=za,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(e=>{let{tile:n}=e;const i=n.getState();if(i==Ba||i==za){t++;const e=ra(n,Ro,i=>{const r=n.getState();r!=Ua&&r!=qa&&r!=Wa||(oa(e),t--,0===t&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(e)}}),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(t,e,n){let{tile:i}=t;i.getState()==Ba&&i.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(oa),this.sourcesListenerKeys_=null}release(){this.canvas_&&(yc(this.canvas_.getContext("2d")),Ap.push(this.canvas_),this.canvas_=null),super.release()}};const Ip=class{constructor(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){const t=this.pop();t instanceof qo&&t.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let e=this.oldest_;for(;e;)t(e.value_,e.key_,this),e=e.newer}get(t,e){const n=this.entries_[t];return Ha(void 0!==n,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_}remove(t){const e=this.entries_[t];return Ha(void 0!==e,"Tried to get a value for a key that does not exist in the cache"),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_}getCount(){return this.count_}getKeys(){const t=new Array(this.count_);let e,n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.key_;return t}getValues(){const t=new Array(this.count_);let e,n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){var e;return null===(e=this.entries_[t])||void 0===e?void 0:e.value_}pop(){const t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,e){this.get(t),this.entries_[t].value_=e}set(t,e){Ha(!(t in this.entries_),"Tried to set a value for a key that is used already");const n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_}setSize(t){this.highWaterMark=t}};function Fp(t,e,n,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function Op(t,e,n){return t+"/"+e+"/"+n}const Mp=class{constructor(){var t=this;(0,r.A)(this,"pushMethodArgs_",function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.push_(n),t}),this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(vc(),{get:(t,e)=>{if("function"===typeof vc()[e])return this.push_(e),this.pushMethodArgs_},set:(t,e,n)=>(this.push_(e,n),!0)})}push_(){const t=this.instructions_,e=this.zIndex+this.offset_;t[e]||(t[e]=[]),t[e].push(...arguments)}pushFunction(t){this.push_(t)}getContext(){return this.context_}draw(t){this.instructions_.forEach(e=>{for(let n=0,i=e.length;n<i;++n){const i=e[n];if("function"===typeof i){i(t);continue}const r=e[++n];if("function"===typeof t[i])t[i](...r);else{if("function"===typeof r){t[i]=r(t);continue}t[i]=r}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}};const Dp=class extends la{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.staleKeys_=new Array,this.maxStaleKeys=5}getStaleKeys(){return this.staleKeys_}prependStaleKey(t){this.staleKeys_.unshift(t),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(t){return ca()}getData(t){return null}prepareFrame(t){return ca()}renderFrame(t,e){return ca()}forEachFeatureAtCoordinate(t,e,n,i,r){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){const e=t.target;e.getState()!==zd&&e.getState()!==Ud||this.renderIfReadyAndVisible()}loadImage(t){let e=t.getState();return e!=zd&&e!=Ud&&t.addEventListener(Ro,this.boundHandleImageChange_),e==Dd&&(t.load(),e=t.getState()),e==zd}renderIfReadyAndVisible(){const t=this.getLayer();t&&t.getVisible()&&"ready"===t.getSourceState()&&t.changed()}renderDeferred(t){}disposeInternal(){delete this.layer_,super.disposeInternal()}},Bp=[];let zp=null;const Up=class extends Dp{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=[1,0,0,1,0,0],this.pixelTransform=[1,0,0,1,0,0],this.inversePixelTransform=[1,0,0,1,0,0],this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(t,e,n){let i;zp||(zp=gc(1,1,void 0,{willReadFrequently:!0})),zp.clearRect(0,0,1,1);try{zp.drawImage(t,e,n,1,1,0,0,1,1),i=zp.getImageData(0,0,1,1).data}catch(r){return zp=null,null}return i}getBackground(t){let e=this.getLayer().getBackground();return"function"===typeof e&&(e=e(t.viewState.resolution)),e||void 0}useContainer(t,e,n){const i=this.getLayer().getClassName();let r,s;if(t&&t.className===i&&(!n||t&&t.style.backgroundColor&&Yo(uh(t.style.backgroundColor),uh(n)))){const e=t.firstElementChild;e instanceof HTMLCanvasElement&&(s=e.getContext("2d"))}if(s&&function(t,e){const n=ll(t),i=ll(e);for(let r=0;r<6;++r)if(0!==Math.round((n[r]-i[r])*ol[r]))return!1;return!0}(s.canvas.style.transform,e)?(this.container=t,this.context=s,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){r=document.createElement("div"),r.className=i;let t=r.style;t.position="absolute",t.width="100%",t.height="100%",s=gc();const e=s.canvas;r.appendChild(e),t=e.style,t.position="absolute",t.left="0",t.transformOrigin="top left",this.container=r,this.context=s}this.containerReused||!n||this.container.style.backgroundColor||(this.container.style.backgroundColor=n)}clipUnrotated(t,e,n){const i=Or(n),r=Mr(n),s=Lr(n),o=Er(n);il(e.coordinateToPixelTransform,i),il(e.coordinateToPixelTransform,r),il(e.coordinateToPixelTransform,s),il(e.coordinateToPixelTransform,o);const a=this.inversePixelTransform;il(a,i),il(a,r),il(a,s),il(a,o),t.save(),t.beginPath(),t.moveTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.clip()}prepareContainer(t,e){const n=t.extent,i=t.viewState.resolution,r=t.viewState.rotation,s=t.pixelRatio,o=Math.round(Dr(n)/i*s),a=Math.round(Ir(n)/i*s);rl(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/s,1/s,r,-o/2,-a/2),sl(this.inversePixelTransform,this.pixelTransform);const l=al(this.pixelTransform);if(this.useContainer(e,l,this.getBackground(t)),!this.containerReused){const t=this.context.canvas;t.width!=o||t.height!=a?(t.width=o,t.height=a):this.context.clearRect(0,0,o,a),l!==t.style.transform&&(t.style.transform=l)}}dispatchRenderEvent_(t,e,n){const i=this.getLayer();if(i.hasListener(t)){const r=new up(t,this.inversePixelTransform,n,e);i.dispatchEvent(r)}}preRender(t,e){this.frameState=e,e.declutter||this.dispatchRenderEvent_(_u,t,e)}postRender(t,e){e.declutter||this.dispatchRenderEvent_(xu,t,e)}renderDeferredInternal(t){}getRenderContext(t){return t.declutter&&!this.deferredContext_&&(this.deferredContext_=new Mp),t.declutter?this.deferredContext_.getContext():this.context}renderDeferred(t){t.declutter&&(this.dispatchRenderEvent_(_u,this.context,t),t.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(t),this.dispatchRenderEvent_(xu,this.context,t))}getRenderTransform(t,e,n,i,r,s,o){const a=r/2,l=s/2,c=i/e,u=-c,h=-t[0]+o,d=-t[1];return rl(this.tempTransform,a,l,c,u,-n,h,d)}disposeInternal(){delete this.frameState,super.disposeInternal()}};function qp(t,e,n,i,r){return"".concat(ha(t),",").concat(e,",").concat(Op(n,i,r))}function Wp(t,e,n){if(!(n in t))return t[n]=new Set([e]),!0;const i=t[n],r=i.has(e);return r||i.add(e),!r}function Hp(t,e,n){const i=t[n];return!!i&&i.delete(e)}function Vp(t,e){const n=t.layerStatesArray[t.layerIndex];n.extent&&(e=Fr(e,bo(n.extent,t.viewState.projection)));const i=n.layer.getRenderSource();if(!i.getWrapX()){const n=i.getTileGridForProjection(t.viewState.projection).getExtent();n&&(e=Fr(e,n))}return e}const Gp=class extends Up{constructor(t,e){super(t),e=e||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=[1/0,1/0,-1/0,-1/0],this.tempTileRange_=new Cp(0,0,0,0),this.tempTileCoord_=Fp(0,0,0);const n=void 0!==e.cacheSize?e.cacheSize:512;this.tileCache_=new Ip(n),this.maxStaleKeys=.5*n}getTileCache(){return this.tileCache_}getOrCreateTile(t,e,n,i){const r=this.tileCache_,s=this.getLayer().getSource(),o=qp(s,s.getKey(),t,e,n);let a;if(r.containsKey(o))a=r.get(o);else{if(a=s.getTile(t,e,n,i.pixelRatio,i.viewState.projection),!a)return null;r.set(o,a)}return a}getTile(t,e,n,i){const r=this.getOrCreateTile(t,e,n,i);return r||null}getData(t){const e=this.frameState;if(!e)return null;const n=this.getLayer(),i=il(e.pixelToCoordinateTransform,t.slice()),r=n.getExtent();if(r&&!fr(r,i))return null;const s=e.viewState,o=n.getRenderSource(),a=o.getTileGridForProjection(s.projection),l=o.getTilePixelRatio(e.pixelRatio);for(let c=a.getZForResolution(s.resolution);c>=a.getMinZoom();--c){const t=a.getTileCoordForCoordAndZ(i,c),n=this.getTile(c,t[1],t[2],e);if(!n||n.getState()!==Ua)continue;const r=a.getOrigin(c),u=fh(a.getTileSize(c)),h=a.getResolution(c);let d;if(n instanceof xp||n instanceof Tp)d=n.getImage();else{if(!(n instanceof _p))continue;if(d=yp(n.getData()),!d)continue}const f=Math.floor(l*((i[0]-r[0])/h-t[1]*u[0])),p=Math.floor(l*((r[1]-i[1])/h-t[2]*u[1])),g=Math.round(l*o.getGutterForProjection(s.projection));return this.getImageData(d,f+g,p+g)}return null}prepareFrame(t){this.renderedProjection?t.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=t.viewState.projection):this.renderedProjection=t.viewState.projection;const e=this.getLayer().getSource();if(!e)return!1;const n=e.getRevision();return this.renderedSourceRevision_?this.renderedSourceRevision_!==n&&(this.renderedSourceRevision_=n,this.renderedSourceKey_===e.getKey()&&this.tileCache_.clear()):this.renderedSourceRevision_=n,!0}enqueueTiles(t,e,n,i,r){const s=t.viewState,o=this.getLayer(),a=o.getRenderSource(),l=a.getTileGridForProjection(s.projection),c=ha(a);c in t.wantedTiles||(t.wantedTiles[c]={});const u=t.wantedTiles[c],h=o.getMapInternal(),d=Math.max(n-r,l.getMinZoom(),l.getZForResolution(Math.min(o.getMaxResolution(),h?h.getView().getResolutionForZoom(Math.max(o.getMinZoom(),0)):l.getResolution(0)),a.zDirection)),f=s.rotation,p=f?Tr(s.center,s.resolution,f,t.size):void 0;for(let g=n;g>=d;--g){const n=l.getTileRangeForExtentAndZ(e,g,this.tempTileRange_),r=l.getResolution(g);for(let e=n.minX;e<=n.maxX;++e)for(let s=n.minY;s<=n.maxY;++s){if(f&&!l.tileCoordIntersectsViewport([g,e,s],p))continue;const n=this.getTile(g,e,s,t);if(!n)continue;if(!Wp(i,n,g))continue;const o=n.getKey();if(u[o]=!0,n.getState()===Ba&&!t.tileQueue.isKeyQueued(o)){const i=Fp(g,e,s,this.tempTileCoord_);t.tileQueue.enqueue([n,c,l.getTileCoordCenter(i),r])}}}}findStaleTile_(t,e){const n=this.tileCache_,i=t[0],r=t[1],s=t[2],o=this.getStaleKeys();for(let a=0;a<o.length;++a){const t=qp(this.getLayer().getSource(),o[a],i,r,s);if(n.containsKey(t)){const r=n.peek(t);if(r.getState()===Ua)return r.endTransition(ha(this)),Wp(e,r,i),!0}}return!1}findAltTiles_(t,e,n,i){const r=t.getTileRangeForTileCoordAndZ(e,n,this.tempTileRange_);if(!r)return!1;let s=!0;const o=this.tileCache_,a=this.getLayer().getRenderSource(),l=a.getKey();for(let c=r.minX;c<=r.maxX;++c)for(let t=r.minY;t<=r.maxY;++t){const e=qp(a,l,n,c,t);let r=!1;if(o.containsKey(e)){const t=o.peek(e);t.getState()===Ua&&(Wp(i,t,n),r=!0)}r||(s=!1)}return s}renderFrame(t,e){this.renderComplete=!0;const n=t.layerStatesArray[t.layerIndex],i=t.viewState,r=i.projection,s=i.resolution,o=i.center,a=t.pixelRatio,l=this.getLayer(),c=l.getSource(),u=c.getTileGridForProjection(r),h=u.getZForResolution(s,c.zDirection),d=u.getResolution(h),f=c.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==f&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=f):this.renderedSourceKey_=f;let p=t.extent;const g=c.getTilePixelRatio(a);this.prepareContainer(t,e);const m=this.context.canvas.width,v=this.context.canvas.height,y=n.extent&&bo(n.extent,r);y&&(p=Fr(p,bo(n.extent,r)));const w=d*m/2/g,b=d*v/2/g,_=[o[0]-w,o[1]-b,o[0]+w,o[1]+b],x={};this.renderedTiles.length=0;const S=l.getPreload();if(t.nextExtent){const e=u.getZForResolution(i.nextResolution,c.zDirection),n=Vp(t,t.nextExtent);this.enqueueTiles(t,n,e,x,S)}const k=Vp(t,p);if(this.enqueueTiles(t,k,h,x,0),S>0&&setTimeout(()=>{this.enqueueTiles(t,k,h-1,x,S-1)},0),!(h in x))return this.container;const C=ha(this),N=t.time;for(const T of x[h]){const e=T.getState();if(e===Wa)continue;const n=T.tileCoord;if(e===Ua){if(1===T.getAlpha(C,N)){T.endTransition(C);continue}}e!==qa&&(this.renderComplete=!1);if(this.findStaleTile_(n,x)){Hp(x,T,h),t.animate=!0;continue}if(this.findAltTiles_(u,n,h+1,x))continue;const i=u.getMinZoom();for(let t=h-1;t>=i;--t){if(this.findAltTiles_(u,n,t,x))break}}const A=d/s*a/g,E=this.getRenderContext(t);rl(this.tempTransform,m/2,v/2,A,A,0,-m/2,-v/2),n.extent&&this.clipUnrotated(E,t,y),c.getInterpolate()||(E.imageSmoothingEnabled=!1),this.preRender(E,t);const L=Object.keys(x).map(Number);let P;L.sort(Wo);const j=[],R=[];for(let T=L.length-1;T>=0;--T){const e=L[T],n=c.getTilePixelSize(e,a,r),i=u.getResolution(e)/d,s=n[0]*i*A,o=n[1]*i*A,l=u.getTileCoordForCoordAndZ(Or(_),e),h=u.getTileCoordExtent(l),f=il(this.tempTransform,[g*(h[0]-_[0])/d,g*(_[3]-h[3])/d]),p=g*c.getGutterForProjection(r);for(const r of x[e]){if(r.getState()!==Ua)continue;const n=r.tileCoord,i=l[1]-n[1],a=Math.round(f[0]-(i-1)*s),u=l[2]-n[2],h=Math.round(f[1]-(u-1)*o),d=Math.round(f[0]-i*s),g=Math.round(f[1]-u*o),m=a-d,v=h-g,y=1===L.length;let w=!1;P=[d,g,d+m,g,d+m,g+v,d,g+v];for(let t=0,r=j.length;t<r;++t)if(!y&&e<R[t]){const e=j[t];Br([d,g,d+m,g+v],[e[0],e[3],e[4],e[7]])&&(w||(E.save(),w=!0),E.beginPath(),E.moveTo(P[0],P[1]),E.lineTo(P[2],P[3]),E.lineTo(P[4],P[5]),E.lineTo(P[6],P[7]),E.moveTo(e[6],e[7]),E.lineTo(e[4],e[5]),E.lineTo(e[2],e[3]),E.lineTo(e[0],e[1]),E.clip())}j.push(P),R.push(e),this.drawTile(r,t,d,g,m,v,p,y),w&&E.restore(),this.renderedTiles.unshift(r),this.updateUsedTiles(t.usedTiles,c,r)}}if(this.renderedResolution=d,this.extentChanged=!this.renderedExtent_||!xr(this.renderedExtent_,_),this.renderedExtent_=_,this.renderedPixelRatio=a,this.postRender(this.context,t),n.extent&&E.restore(),E.imageSmoothingEnabled=!0,this.renderComplete){const e=(t,e)=>{const n=ha(c),i=e.wantedTiles[n],r=i?Object.keys(i).length:0;this.updateCacheSize(r),this.tileCache_.expireCache()};t.postRenderFunctions.push(e)}return this.container}updateCacheSize(t){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,2*t)}drawTile(t,e,n,i,r,s,o,a){let l;if(t instanceof _p){if(l=yp(t.getData()),!l)throw new Error("Rendering array data is not yet supported")}else l=this.getTileImage(t);if(!l)return;const c=this.getRenderContext(e),u=ha(this),h=e.layerStatesArray[e.layerIndex],d=h.opacity*(a?t.getAlpha(u,e.time):1),f=d!==c.globalAlpha;f&&(c.save(),c.globalAlpha=d),c.drawImage(l,o,o,l.width-2*o,l.height-2*o,n,i,r,s),f&&c.restore(),d!==h.opacity?e.animate=!0:a&&t.endTransition(u)}getImage(){const t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}updateUsedTiles(t,e,n){const i=ha(e);i in t||(t[i]={}),t[i][n.getKey()]=!0}},Kp="preload",Yp="useInterimTilesOnError";const Xp=class extends Au{constructor(t){t=t||{};const e=Object.assign({},t),n=t.cacheSize;delete t.cacheSize,delete e.preload,delete e.useInterimTilesOnError,super(e),this.on,this.once,this.un,this.cacheSize_=n,this.setPreload(void 0!==t.preload?t.preload:0),this.setUseInterimTilesOnError(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(Kp)}setPreload(t){this.set(Kp,t)}getUseInterimTilesOnError(){return this.get(Yp)}setUseInterimTilesOnError(t){this.set(Yp,t)}getData(t){return super.getData(t)}};const Zp=class extends Xp{constructor(t){super(t)}createRenderer(){return new Gp(this,{cacheSize:this.getCacheSize()})}},Jp=[0,0,0];const $p=class{constructor(t){let e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,Ha(function(t,e,n){const i=e||Wo;return t.every(function(e,r){if(0===r)return!0;const s=i(t[r-1],e);return!(s>0||n&&0===s)})}(this.resolutions_,(t,e)=>e-t,!0),"`resolutions` must be sorted in descending order"),!t.origins)for(let i=0,r=this.resolutions_.length-1;i<r;++i)if(e){if(this.resolutions_[i]/this.resolutions_[i+1]!==e){e=void 0;break}}else e=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,Ha(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const n=t.extent;void 0===n||this.origin_||this.origins_||(this.origin_=Or(n)),Ha(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,Ha(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:nc,Ha(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=void 0!==n?n:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((t,e)=>{const i=new Cp(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(n){const t=this.getTileRangeForExtentAndZ(n,e);i.minX=Math.max(t.minX,i.minX),i.maxX=Math.min(t.maxX,i.maxX),i.minY=Math.max(t.minY,i.minY),i.maxY=Math.min(t.maxY,i.maxY)}return i}):n&&this.calculateTileRanges_(n)}forEachTileCoord(t,e,n){const i=this.getTileRangeForExtentAndZ(t,e);for(let r=i.minX,s=i.maxX;r<=s;++r)for(let t=i.minY,o=i.maxY;t<=o;++t)n([e,r,t])}forEachTileCoordParentTileRange(t,e,n,i){let r,s,o,a=null,l=t[0]-1;for(2===this.zoomFactor_?(s=t[1],o=t[2]):a=this.getTileCoordExtent(t,i);l>=this.minZoom;){if(void 0!==s&&void 0!==o?(s=Math.floor(s/2),o=Math.floor(o/2),r=kp(s,s,o,o,n)):r=this.getTileRangeForExtentAndZ(a,l,n),e(l,r))return!0;--l}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){const n=2*t[1],i=2*t[2];return kp(n,n+1,i,i+1,e)}const i=this.getTileCoordExtent(t,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(i,t[0]+1,e)}return null}getTileRangeForTileCoordAndZ(t,e,n){if(e>this.maxZoom||e<this.minZoom)return null;const i=t[0],r=t[1],s=t[2];if(e===i)return kp(r,s,r,s,n);if(this.zoomFactor_){const t=Math.pow(this.zoomFactor_,e-i),o=Math.floor(r*t),a=Math.floor(s*t);if(e<i)return kp(o,o,a,a,n);return kp(o,Math.floor(t*(r+1))-1,a,Math.floor(t*(s+1))-1,n)}const o=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(o,e,n)}getTileRangeForExtentAndZ(t,e,n){this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,Jp);const i=Jp[1],r=Jp[2];this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,Jp);return kp(i,Jp[1],r,Jp[2],n)}getTileCoordCenter(t){const e=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=fh(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*i[0]*n,e[1]-(t[2]+.5)*i[1]*n]}getTileCoordExtent(t,e){const n=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=fh(this.getTileSize(t[0]),this.tmpSize_),s=n[0]+t[1]*r[0]*i,o=n[1]-(t[2]+1)*r[1]*i;return yr(s,o,s+r[0]*i,o+r[1]*i,e)}getTileCoordForCoordAndResolution(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)}getTileCoordForXYAndResolution_(t,e,n,i,r){const s=this.getZForResolution(n),o=n/this.getResolution(s),a=this.getOrigin(s),l=fh(this.getTileSize(s),this.tmpSize_);let c=o*(t-a[0])/n/l[0],u=o*(a[1]-e)/n/l[1];return i?(c=ns(c,5)-1,u=ns(u,5)-1):(c=es(c,5),u=es(u,5)),Fp(s,c,u,r)}getTileCoordForXYAndZ_(t,e,n,i,r){const s=this.getOrigin(n),o=this.getResolution(n),a=fh(this.getTileSize(n),this.tmpSize_);let l=(t-s[0])/o/a[0],c=(s[1]-e)/o/a[1];return i?(l=ns(l,5)-1,c=ns(c,5)-1):(l=es(l,5),c=es(c,5)),Fp(n,l,c,r)}getTileCoordForCoordAndZ(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,e){return Kr(Vo(this.resolutions_,t,e||0),this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,e){return ql(e,0,e.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){const e=this.resolutions_.length,n=new Array(e);for(let i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=n}};function Qp(t){let e=t.getDefaultTileGrid();return e||(e=function(t,e,n,i){const r=eg(t);return function(t,e,n,i){i=void 0!==i?i:"top-left";const r=tg(t,e,n);return new $p({extent:t,origin:jr(t,i),resolutions:r,tileSize:n})}(r,e,n,i)}(t),t.setDefaultTileGrid(e)),e}function tg(t,e,n,i){e=void 0!==e?e:42,n=fh(void 0!==n?n:nc);const r=Ir(t),s=Dr(t);i=i>0?i:Math.max(s/n[0],r/n[1]);const o=e+1,a=new Array(o);for(let l=0;l<o;++l)a[l]=i/Math.pow(2,l);return a}function eg(t){let e=(t=no(t)).getExtent();if(!e){const n=180*rs.degrees/t.getMetersPerUnit();e=yr(-n,-n,n,n)}return e}const ng=/\{z\}/g,ig=/\{x\}/g,rg=/\{y\}/g,sg=/\{-y\}/g;function og(t,e){return function(n,i,r){if(!n)return;let s;const o=n[0];if(e){const t=e.getFullTileRange(o);t&&(s=t.getHeight()-1)}return function(t,e,n,i,r){return t.replace(ng,e.toString()).replace(ig,n.toString()).replace(rg,i.toString()).replace(sg,function(){if(void 0===r)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(r-i).toString()})}(t,o,n[1],n[2],s)}}function ag(t,e){const n=t.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=og(t[r],e);return function(t){if(1===t.length)return t[0];return function(e,n,i){if(!e)return;const r=function(t){return function(t,e,n){return(e<<t)+n}(t[0],t[1],t[2])}(e),s=$r(r,t.length);return t[s](e,n,i)}}(i)}function lg(t){return t?"function"===typeof t?t:(Array.isArray(t)||(t=[t]),e=>t):null}const cg=class extends fa{constructor(t){var e;super(),this.projection=no(t.projection),this.attributions_=lg(t.attributions),this.attributionsCollapsible_=null===(e=t.attributionsCollapsible)||void 0===e||e,this.loading=!1,this.state_=void 0!==t.state?t.state:"ready",this.wrapX_=void 0!==t.wrapX&&t.wrapX,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(t,e){n.viewResolver=t,n.viewRejector=e})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=lg(t),this.changed()}setState(t){this.state_=t,this.changed()}};class ug extends na{constructor(t,e){super(t),this.tile=e}}const hg=class extends cg{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null;const e=[256,256];this.tileGrid&&fh(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),e),this.tmpSize=[0,0],this.key_=t.key||ha(this),this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getResolutions(t){const e=t?this.getTileGridForProjection(t):this.tileGrid;return e?e.getResolutions():null}getTile(t,e,n,i,r){return ca()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:Qp(t)}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,e,n){const i=this.getTileGridForProjection(n),r=this.getTilePixelRatio(e),s=fh(i.getTileSize(t),this.tmpSize);return 1==r?s:(o=s,a=r,void 0===(l=this.tmpSize)&&(l=[0,0]),l[0]=o[0]*a+.5|0,l[1]=o[1]*a+.5|0,l);var o,a,l}getTileCoordForTileUrlFunction(t,e){const n=void 0!==e?e:this.getProjection(),i=void 0!==e?this.getTileGridForProjection(n):this.tileGrid||this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=function(t,e,n){const i=e[0],r=t.getTileCoordCenter(e),s=eg(n);if(!fr(s,r)){const e=Dr(s),n=Math.ceil((s[0]-r[0])/e);return r[0]+=e*n,t.getTileCoordForCoordAndZ(r,i)}return e}(i,t,n)),function(t,e){const n=t[0],i=t[1],r=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const s=e.getFullTileRange(n);return!s||s.containsXY(i,r)}(t,i)?t:null}clear(){}refresh(){this.clear(),super.refresh()}},dg="tileloadstart",fg="tileloadend",pg="tileloaderror";class gg extends hg{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===gg.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const e=t.target,n=ha(e),i=e.getState();let r;i==za?(this.tileLoadingKeys_[n]=!0,r=dg):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],r=i==qa?pg:i==Ua?fg:void 0),void 0!=r&&this.dispatchEvent(new ug(r,e))}setTileLoadFunction(t){this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,e){this.tileUrlFunction=t,"undefined"!==typeof e?this.setKey(e):this.changed()}setUrl(t){const e=function(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const i=n[1].charCodeAt(0),r=n[2].charCodeAt(0);let s;for(s=i;s<=r;++s)e.push(t.replace(n[0],String.fromCharCode(s)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const i=parseInt(n[2],10);for(let r=parseInt(n[1],10);r<=i;r++)e.push(t.replace(n[0],r.toString()));return e}return e.push(t),e}(t);this.urls=e,this.setUrls(e)}setUrls(t){this.urls=t;const e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(ag(t,this.tileGrid),e):this.setKey(e)}tileUrlFunction(t,e,n){}}const mg=gg;function vg(t,e){t.getImage().src=e}const yg=class extends mg{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:vg,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:void 0===t.interpolate||t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:xp,this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(t){return this.getProjection()&&t&&!lo(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getTileGridForProjection(t){const e=this.getProjection();if(this.tileGrid&&(!e||lo(e,t)))return this.tileGrid;const n=ha(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=Qp(t)),this.tileGridForProjection[n]}createTile_(t,e,n,i,r,s){const o=[t,e,n],a=this.getTileCoordForTileUrlFunction(o,r),l=a?this.tileUrlFunction(a,i,r):void 0,c=new this.tileClass(o,void 0!==l?Ba:Wa,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=s,c.addEventListener(Ro,this.handleTileChange.bind(this)),c}getTile(t,e,n,i,r){const s=this.getProjection();if(!s||!r||lo(s,r))return this.getTileInternal(t,e,n,i,s||r);const o=[t,e,n],a=this.getKey(),l=this.getTileGridForProjection(s),c=this.getTileGridForProjection(r),u=this.getTileCoordForTileUrlFunction(o,r),h=new Tp(s,l,r,c,o,u,this.getTilePixelRatio(i),this.getGutter(),(t,e,n,i)=>this.getTileInternal(t,e,n,i,s),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return h.key=a,h}getTileInternal(t,e,n,i,r){const s=this.getKey();return this.createTile_(t,e,n,i,r,s)}setRenderReprojectionEdges(t){this.renderReprojectionEdges_!=t&&(this.renderReprojectionEdges_=t,this.changed())}setTileGridForProjection(t,e){const n=no(t);if(n){const t=ha(n);t in this.tileGridForProjection||(this.tileGridForProjection[t]=e)}}};const wg=class extends yg{constructor(t){const e=void 0!==(t=t||{}).projection?t.projection:"EPSG:3857",n=void 0!==t.tileGrid?t.tileGrid:function(t){const e=t||{},n=e.extent||no("EPSG:3857").getExtent(),i={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:tg(n,e.maxZoom,e.tileSize,e.maxResolution)};return new $p(i)}({extent:eg(e),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:e,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:n,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.gutter_=void 0!==t.gutter?t.gutter:0}getGutter(){return this.gutter_}};const bg=class extends wg{constructor(t){let e;e=void 0!==(t=t||{}).attributions?t.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'];const n=void 0!==t.crossOrigin?t.crossOrigin:"anonymous",i=void 0!==t.url?t.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:e,attributionsCollapsible:!1,cacheSize:t.cacheSize,crossOrigin:n,interpolate:t.interpolate,maxZoom:void 0!==t.maxZoom?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:i,wrapX:t.wrapX,zDirection:t.zDirection})}};class _g extends fa{constructor(t){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t)if("function"===typeof t.getSimplifiedGeometry){const e=t;this.setGeometry(e)}else{const e=t;this.setProperties(e)}}clone(){const t=new _g(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());const e=this.getGeometry();e&&t.setGeometry(e.clone());const n=this.getStyle();return n&&t.setStyle(n),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(oa(this.geometryChangeKey_),this.geometryChangeKey_=null);const t=this.getGeometry();t&&(this.geometryChangeKey_=ra(t,Ro,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?function(t){if("function"===typeof t)return t;let e;if(Array.isArray(t))e=t;else{Ha("function"===typeof t.getZIndex,"Expected an `ol/style/Style` or an array of `ol/style/Style.js`");e=[t]}return function(){return e}}(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}const xg=_g;const Sg=class{drawCustom(t,e,n,i,r){}drawGeometry(t){}setStyle(t){}drawCircle(t,e,n){}drawFeature(t,e,n){}drawGeometryCollection(t,e,n){}drawLineString(t,e,n){}drawMultiLineString(t,e,n){}drawMultiPoint(t,e,n){}drawMultiPolygon(t,e,n){}drawPoint(t,e,n){}drawPolygon(t,e,n){}drawText(t,e,n){}setFillStrokeStyle(t,e){}setImageStyle(t,e){}setTextStyle(t,e){}},kg={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Cg=[kg.FILL],Ng=[kg.STROKE],Ag=[kg.BEGIN_PATH],Eg=[kg.CLOSE_PATH],Lg=kg;const Pg=class extends Sg{constructor(t,e,n,i){super(),this.tolerance=t,this.maxExtent=e,this.pixelRatio=i,this.maxLineWidth=0,this.resolution=n,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){const e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})}appendFlatPointCoordinates(t,e){const n=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,r=this.coordinates;let s=r.length;for(let o=0,a=t.length;o<a;o+=e)i[0]=t[o],i[1]=t[o+1],fr(n,i)&&(r[s++]=i[0],r[s++]=i[1]);return s}appendFlatLineCoordinates(t,e,n,i,r,s){const o=this.coordinates;let a=o.length;const l=this.getBufferedMaxExtent();s&&(e+=i);let c=t[e],u=t[e+1];const h=this.tmpCoordinate_;let d,f,p,g=!0;for(d=e+i;d<n;d+=i)h[0]=t[d],h[1]=t[d+1],p=mr(l,h),p!==f?(g&&(o[a++]=c,o[a++]=u,g=!1),o[a++]=h[0],o[a++]=h[1]):p===rr?(o[a++]=h[0],o[a++]=h[1],g=!1):g=!0,c=h[0],u=h[1],f=p;return(r&&g||d===e+i)&&(o[a++]=c,o[a++]=u),a}drawCustomCoordinates_(t,e,n,i,r){for(let s=0,o=n.length;s<o;++s){const o=n[s],a=this.appendFlatLineCoordinates(t,e,o,i,!1,!1);r.push(a),e=o}return e}drawCustom(t,e,n,i,r){this.beginGeometry(t,e,r);const s=t.getType(),o=t.getStride(),a=this.coordinates.length;let l,c,u,h,d;switch(s){case"MultiPolygon":l=t.getOrientedFlatCoordinates(),h=[];const e=t.getEndss();d=0;for(let t=0,n=e.length;t<n;++t){const n=[];d=this.drawCustomCoordinates_(l,d,e[t],o,n),h.push(n)}this.instructions.push([Lg.CUSTOM,a,h,t,n,Al,r]),this.hitDetectionInstructions.push([Lg.CUSTOM,a,h,t,i||n,Al,r]);break;case"Polygon":case"MultiLineString":u=[],l="Polygon"==s?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),d=this.drawCustomCoordinates_(l,0,t.getEnds(),o,u),this.instructions.push([Lg.CUSTOM,a,u,t,n,Nl,r]),this.hitDetectionInstructions.push([Lg.CUSTOM,a,u,t,i||n,Nl,r]);break;case"LineString":case"Circle":l=t.getFlatCoordinates(),c=this.appendFlatLineCoordinates(l,0,l.length,o,!1,!1),this.instructions.push([Lg.CUSTOM,a,c,t,n,Cl,r]),this.hitDetectionInstructions.push([Lg.CUSTOM,a,c,t,i||n,Cl,r]);break;case"MultiPoint":l=t.getFlatCoordinates(),c=this.appendFlatPointCoordinates(l,o),c>a&&(this.instructions.push([Lg.CUSTOM,a,c,t,n,Cl,r]),this.hitDetectionInstructions.push([Lg.CUSTOM,a,c,t,i||n,Cl,r]));break;case"Point":l=t.getFlatCoordinates(),this.coordinates.push(l[0],l[1]),c=this.coordinates.length,this.instructions.push([Lg.CUSTOM,a,c,t,n,void 0,r]),this.hitDetectionInstructions.push([Lg.CUSTOM,a,c,t,i||n,void 0,r])}this.endGeometry(e)}beginGeometry(t,e,n){this.beginGeometryInstruction1_=[Lg.BEGIN_GEOMETRY,e,0,t,n],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Lg.BEGIN_GEOMETRY,e,0,t,n],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const t=this.hitDetectionInstructions;let e;t.reverse();const n=t.length;let i,r,s=-1;for(e=0;e<n;++e)i=t[e],r=i[0],r==Lg.END_GEOMETRY?s=e:r==Lg.BEGIN_GEOMETRY&&(i[2]=e,Go(this.hitDetectionInstructions,s,e),s=-1)}fillStyleToState(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t){const n=t.getColor();e.fillPatternScale=n&&"object"===typeof n&&"src"in n?this.pixelRatio:1,e.fillStyle=Zd(n||$d)}else e.fillStyle=void 0;return e}strokeStyleToState(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t){const n=t.getColor();e.strokeStyle=Zd(n||nf);const i=t.getLineCap();e.lineCap=void 0!==i?i:Qd;const r=t.getLineDash();e.lineDash=r?r.slice():tf;const s=t.getLineDashOffset();e.lineDashOffset=s||0;const o=t.getLineJoin();e.lineJoin=void 0!==o?o:ef;const a=t.getWidth();e.lineWidth=void 0!==a?a:1;const l=t.getMiterLimit();e.miterLimit=void 0!==l?l:10,e.lineWidth>this.maxLineWidth&&(this.maxLineWidth=e.lineWidth,this.bufferedMaxExtent_=null)}else e.strokeStyle=void 0,e.lineCap=void 0,e.lineDash=null,e.lineDashOffset=void 0,e.lineJoin=void 0,e.lineWidth=void 0,e.miterLimit=void 0;return e}setFillStrokeStyle(t,e){const n=this.state;this.fillStyleToState(t,n),this.strokeStyleToState(e,n)}createFill(t){const e=t.fillStyle,n=[Lg.SET_FILL_STYLE,e];return"string"!==typeof e&&n.push(t.fillPatternScale),n}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[Lg.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,t.lineDash?this.applyPixelRatio(t.lineDash):null,t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,e){const n=t.fillStyle;"string"===typeof n&&t.currentFillStyle==n||(this.instructions.push(e.call(this,t)),t.currentFillStyle=n)}updateStrokeStyle(t,e){const n=t.strokeStyle,i=t.lineCap,r=t.lineDash,s=t.lineDashOffset,o=t.lineJoin,a=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=i||r!=t.currentLineDash&&!Yo(t.currentLineDash,r)||t.currentLineDashOffset!=s||t.currentLineJoin!=o||t.currentLineWidth!=a||t.currentMiterLimit!=l)&&(e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=i,t.currentLineDash=r,t.currentLineDashOffset=s,t.currentLineJoin=o,t.currentLineWidth=a,t.currentMiterLimit=l)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const e=[Lg.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=hr(this.maxExtent),this.maxLineWidth>0)){const t=this.resolution*(this.maxLineWidth+1)/2;ur(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}};const jg=class extends Pg{constructor(t,e,n,i){super(t,e,n,i),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,e,n){if(!this.image_||this.maxExtent&&!fr(this.maxExtent,t.getFlatCoordinates()))return;this.beginGeometry(t,e,n);const i=t.getFlatCoordinates(),r=t.getStride(),s=this.coordinates.length,o=this.appendFlatPointCoordinates(i,r);this.instructions.push([Lg.DRAW_IMAGE,s,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Lg.DRAW_IMAGE,s,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}drawMultiPoint(t,e,n){if(!this.image_)return;this.beginGeometry(t,e,n);const i=t.getFlatCoordinates(),r=[];for(let a=0,l=i.length;a<l;a+=t.getStride())this.maxExtent&&!fr(this.maxExtent,i.slice(a,a+2))||r.push(i[a],i[a+1]);const s=this.coordinates.length,o=this.appendFlatPointCoordinates(r,2);this.instructions.push([Lg.DRAW_IMAGE,s,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Lg.DRAW_IMAGE,s,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,e){const n=t.getAnchor(),i=t.getSize(),r=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=r[0],this.originY_=r[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=i[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e}};const Rg=class extends Pg{constructor(t,e,n,i){super(t,e,n,i)}drawFlatCoordinates_(t,e,n,i){const r=this.coordinates.length,s=this.appendFlatLineCoordinates(t,e,n,i,!1,!1),o=[Lg.MOVE_TO_LINE_TO,r,s];return this.instructions.push(o),this.hitDetectionInstructions.push(o),n}drawLineString(t,e,n){const i=this.state,r=i.strokeStyle,s=i.lineWidth;if(void 0===r||void 0===s)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e,n),this.hitDetectionInstructions.push([Lg.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,tf,0],Ag);const o=t.getFlatCoordinates(),a=t.getStride();this.drawFlatCoordinates_(o,0,o.length,a),this.hitDetectionInstructions.push(Ng),this.endGeometry(e)}drawMultiLineString(t,e,n){const i=this.state,r=i.strokeStyle,s=i.lineWidth;if(void 0===r||void 0===s)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e,n),this.hitDetectionInstructions.push([Lg.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,tf,0],Ag);const o=t.getEnds(),a=t.getFlatCoordinates(),l=t.getStride();let c=0;for(let u=0,h=o.length;u<h;++u)c=this.drawFlatCoordinates_(a,c,o[u],l);this.hitDetectionInstructions.push(Ng),this.endGeometry(e)}finish(){const t=this.state;return void 0!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(Ng),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){void 0!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(Ng),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(Ag)}};const Tg=class extends Pg{constructor(t,e,n,i){super(t,e,n,i)}drawFlatCoordinatess_(t,e,n,i){const r=this.state,s=void 0!==r.fillStyle,o=void 0!==r.strokeStyle,a=n.length;this.instructions.push(Ag),this.hitDetectionInstructions.push(Ag);for(let l=0;l<a;++l){const r=n[l],s=this.coordinates.length,a=this.appendFlatLineCoordinates(t,e,r,i,!0,!o),c=[Lg.MOVE_TO_LINE_TO,s,a];this.instructions.push(c),this.hitDetectionInstructions.push(c),o&&(this.instructions.push(Eg),this.hitDetectionInstructions.push(Eg)),e=r}return s&&(this.instructions.push(Cg),this.hitDetectionInstructions.push(Cg)),o&&(this.instructions.push(Ng),this.hitDetectionInstructions.push(Ng)),e}drawCircle(t,e,n){const i=this.state,r=i.fillStyle,s=i.strokeStyle;if(void 0===r&&void 0===s)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Lg.SET_FILL_STYLE,$d]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Lg.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,tf,0]);const o=t.getFlatCoordinates(),a=t.getStride(),l=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,a,!1,!1);const c=[Lg.CIRCLE,l];this.instructions.push(Ag,c),this.hitDetectionInstructions.push(Ag,c),void 0!==i.fillStyle&&(this.instructions.push(Cg),this.hitDetectionInstructions.push(Cg)),void 0!==i.strokeStyle&&(this.instructions.push(Ng),this.hitDetectionInstructions.push(Ng)),this.endGeometry(e)}drawPolygon(t,e,n){const i=this.state,r=i.fillStyle,s=i.strokeStyle;if(void 0===r&&void 0===s)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Lg.SET_FILL_STYLE,$d]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Lg.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,tf,0]);const o=t.getEnds(),a=t.getOrientedFlatCoordinates(),l=t.getStride();this.drawFlatCoordinatess_(a,0,o,l),this.endGeometry(e)}drawMultiPolygon(t,e,n){const i=this.state,r=i.fillStyle,s=i.strokeStyle;if(void 0===r&&void 0===s)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Lg.SET_FILL_STYLE,$d]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Lg.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,tf,0]);const o=t.getEndss(),a=t.getOrientedFlatCoordinates(),l=t.getStride();let c=0;for(let u=0,h=o.length;u<h;++u)c=this.drawFlatCoordinatess_(a,c,o[u],l);this.endGeometry(e)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const t=this.tolerance;if(0!==t){const e=this.coordinates;for(let n=0,i=e.length;n<i;++n)e[n]=Pl(e[n],t)}return super.finish()}setFillStrokeStyles_(){const t=this.state;this.updateFillStyle(t,this.createFill),this.updateStrokeStyle(t,this.applyStroke)}};function Ig(t,e,n,i,r){const s=[];let o=n,a=0,l=e.slice(n,2);for(;a<t&&o+r<i;){const[n,i]=l.slice(-2),c=e[o+r],u=e[o+r+1],h=Math.sqrt((c-n)*(c-n)+(u-i)*(u-i));if(a+=h,a>=t){const e=(t-a+h)/h,d=Qr(n,c,e),f=Qr(i,u,e);l.push(d,f),s.push(l),l=[d,f],a==t&&(o+=r),a=0}else if(a<t)l.push(e[o+r],e[o+r+1]),o+=r;else{const t=h-a,e=Qr(n,c,t/h),d=Qr(i,u,t/h);l.push(e,d),s.push(l),l=[e,d],a=0,o+=r}}return a>0&&s.push(l),s}function Fg(t,e,n,i,r){let s,o,a,l,c,u,h,d,f,p,g=n,m=n,v=0,y=0,w=n;for(o=n;o<i;o+=r){const n=e[o],i=e[o+1];void 0!==c&&(f=n-c,p=i-u,l=Math.sqrt(f*f+p*p),void 0!==h&&(y+=a,s=Math.acos((h*f+d*p)/(a*l)),s>t&&(y>v&&(v=y,g=w,m=o),y=0,w=o-r)),a=l,h=f,d=p),c=n,u=i}return y+=l,y>v?[w,o]:[g,m]}const Og={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};const Mg=class extends Pg{constructor(t,e,n,i){super(t,e,n,i),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[$d]={fillStyle:$d},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,e,n){const i=this.textFillState_,r=this.textStrokeState_,s=this.textState_;if(""===this.text_||!s||!i&&!r)return;const o=this.coordinates;let a=o.length;const l=t.getType();let c=null,u=t.getStride();if("line"!==s.placement||"LineString"!=l&&"MultiLineString"!=l&&"Polygon"!=l&&"MultiPolygon"!=l){let i=s.overflow?null:[];switch(l){case"Point":case"MultiPoint":c=t.getFlatCoordinates();break;case"LineString":c=t.getFlatMidpoint();break;case"Circle":c=t.getCenter();break;case"MultiLineString":c=t.getFlatMidpoints(),u=2;break;case"Polygon":c=t.getFlatInteriorPoint(),s.overflow||i.push(c[2]/this.resolution),u=3;break;case"MultiPolygon":const e=t.getFlatInteriorPoints();c=[];for(let t=0,n=e.length;t<n;t+=3)s.overflow||i.push(e[t+2]/this.resolution),c.push(e[t],e[t+1]);if(0===c.length)return;u=2}const r=this.appendFlatPointCoordinates(c,u);if(r===a)return;if(i&&(r-a)/2!==c.length/u){let t=a/2;i=i.filter((e,n)=>{const i=o[2*(t+n)]===c[n*u]&&o[2*(t+n)+1]===c[n*u+1];return i||--t,i})}this.saveTextStates_();const h=s.backgroundFill?this.createFill(this.fillStyleToState(s.backgroundFill)):null,d=s.backgroundStroke?this.createStroke(this.strokeStyleToState(s.backgroundStroke)):null;this.beginGeometry(t,e,n);let f=s.padding;if(f!=of&&(s.scale[0]<0||s.scale[1]<0)){let t=s.padding[0],e=s.padding[1],n=s.padding[2],i=s.padding[3];s.scale[0]<0&&(e=-e,i=-i),s.scale[1]<0&&(t=-t,n=-n),f=[t,e,n,i]}const p=this.pixelRatio;this.instructions.push([Lg.DRAW_IMAGE,a,r,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,f==of?of:f.map(function(t){return t*p}),h,d,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,i]);const g=1/p,m=h?h.slice(0):null;m&&(m[1]=$d),this.hitDetectionInstructions.push([Lg.DRAW_IMAGE,a,r,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[g,g],NaN,this.declutterMode_,this.declutterImageWithText_,f,m,d,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?$d:this.fillKey_,this.textOffsetX_,this.textOffsetY_,i]),this.endGeometry(e)}else{if(!Br(this.maxExtent,t.getExtent()))return;let i;if(c=t.getFlatCoordinates(),"LineString"==l)i=[c.length];else if("MultiLineString"==l)i=t.getEnds();else if("Polygon"==l)i=t.getEnds().slice(0,1);else if("MultiPolygon"==l){const e=t.getEndss();i=[];for(let t=0,n=e.length;t<n;++t)i.push(e[t][0])}this.beginGeometry(t,e,n);const r=s.repeat,h=r?void 0:s.textAlign;let d=0;for(let t=0,e=i.length;t<e;++t){let e;e=r?Ig(r*this.resolution,c,d,i[t],u):[c.slice(d,i[t])];for(let n=0,r=e.length;n<r;++n){const r=e[n];let l=0,c=r.length;if(void 0==h){const t=Fg(s.maxAngle,r,0,r.length,2);l=t[0],c=t[1]}for(let t=l;t<c;t+=u)o.push(r[t],r[t+1]);const f=o.length;d=i[t],this.drawChars_(a,f),a=f}}this.endGeometry(e)}}saveTextStates_(){const t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,i=this.strokeKey_;t&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const r=this.textKey_;r in this.textStates||(this.textStates[r]={font:e.font,textAlign:e.textAlign||rf,justify:e.justify,textBaseline:e.textBaseline||sf,scale:e.scale});const s=this.fillKey_;n&&(s in this.fillStates||(this.fillStates[s]={fillStyle:n.fillStyle}))}drawChars_(t,e){const n=this.textStrokeState_,i=this.textState_,r=this.strokeKey_,s=this.textKey_,o=this.fillKey_;this.saveTextStates_();const a=this.pixelRatio,l=Og[i.textBaseline],c=this.textOffsetY_*a,u=this.text_,h=n?n.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([Lg.DRAW_CHARS,t,e,l,i.overflow,o,i.maxAngle,a,c,r,h*a,u,s,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([Lg.DRAW_CHARS,t,e,l,i.overflow,o?$d:o,i.maxAngle,a,c,r,h*a,u,s,1/a,this.declutterMode_,this.textKeepUpright_])}setTextStyle(t,e){let n,i,r;if(t){const e=t.getFill();e?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=Zd(e.getColor()||$d)):(i=null,this.textFillState_=i);const s=t.getStroke();if(s){r=this.textStrokeState_,r||(r={},this.textStrokeState_=r);const t=s.getLineDash(),e=s.getLineDashOffset(),n=s.getWidth(),i=s.getMiterLimit();r.lineCap=s.getLineCap()||Qd,r.lineDash=t?t.slice():tf,r.lineDashOffset=void 0===e?0:e,r.lineJoin=s.getLineJoin()||ef,r.lineWidth=void 0===n?1:n,r.miterLimit=void 0===i?10:i,r.strokeStyle=Zd(s.getColor()||nf)}else r=null,this.textStrokeState_=r;n=this.textState_;const o=t.getFont()||Jd;ff(o);const a=t.getScaleArray();n.overflow=t.getOverflow(),n.font=o,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.repeat=t.getRepeat(),n.justify=t.getJustify(),n.textBaseline=t.getTextBaseline()||sf,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||of,n.scale=void 0===a?[1,1]:a;const l=t.getOffsetX(),c=t.getOffsetY(),u=t.getRotateWithView(),h=t.getKeepUpright(),d=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===l?0:l,this.textOffsetY_=void 0===c?0:c,this.textRotateWithView_=void 0!==u&&u,this.textKeepUpright_=void 0===h||h,this.textRotation_=void 0===d?0:d,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:ha(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.repeat||"?")+(n.justify||"?")+(n.textBaseline||"?"),this.fillKey_=i&&i.fillStyle?"string"==typeof i.fillStyle?i.fillStyle:"|"+ha(i.fillStyle):""}else this.text_="";this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e}},Dg={Circle:Tg,Default:Pg,Image:jg,LineString:Rg,Polygon:Tg,Text:Mg};const Bg=class{constructor(t,e,n,i){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=i,this.resolution_=n,this.buildersByZIndex_={}}finish(){const t={};for(const e in this.buildersByZIndex_){t[e]=t[e]||{};const n=this.buildersByZIndex_[e];for(const i in n){const r=n[i].finish();t[e][i]=r}}return t}getBuilder(t,e){const n=void 0!==t?t.toString():"0";let i=this.buildersByZIndex_[n];void 0===i&&(i={},this.buildersByZIndex_[n]=i);let r=i[e];if(void 0===r){r=new(0,Dg[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[e]=r}return r}};function zg(t,e,n,i){let r=t[e],s=t[e+1],o=0;for(let a=e+i;a<n;a+=i){const e=t[a],n=t[a+1];o+=Math.sqrt((e-r)*(e-r)+(n-s)*(n-s)),r=e,s=n}return o}function Ug(t,e,n,i,r,s,o,a,l,c,u,h){let d=!(arguments.length>12&&void 0!==arguments[12])||arguments[12],f=t[e],p=t[e+1],g=0,m=0,v=0,y=0;function w(){g=f,m=p,f=t[e+=i],p=t[e+1],y+=v,v=Math.sqrt((f-g)*(f-g)+(p-m)*(p-m))}do{w()}while(e<n-i&&y+v<s);let b=0===v?0:(s-y)/v;const _=Qr(g,f,b),x=Qr(m,p,b),S=e-i,k=y,C=s+a*l(c,r,u);for(;e<n-i&&y+v<C;)w();b=0===v?0:(C-y)/v;const N=Qr(g,f,b),A=Qr(m,p,b);let E=!1;if(d)if(h){const t=[_,x,N,A];ul(t,0,4,2,h,t,t),E=t[0]>t[2]}else E=_>N;const L=Math.PI,P=[],j=S+i===e;let R;if(v=0,y=k,f=t[e=S],p=t[e+1],j){w(),R=Math.atan2(p-m,f-g),E&&(R+=R>0?-L:L);const t=(N+_)/2,e=(A+x)/2;return P[0]=[t,e,(C-s)/2,R,r],P}for(let T=0,I=(r=r.replace(/\n/g," ")).length;T<I;){w();let t=Math.atan2(p-m,f-g);if(E&&(t+=t>0?-L:L),void 0!==R){let e=t-R;if(e+=e>L?-2*L:e<-L?2*L:0,Math.abs(e)>o)return null}R=t;const h=T;let d=0;for(;T<I;++T){const t=a*l(c,r[E?I-T-1:T],u);if(e+i<n&&y+v<s+d+t/2)break;d+=t}if(T===h)continue;const _=E?r.substring(I-h,I-T):r.substring(h,T);b=0===v?0:(s+d/2-y)/v;const x=Qr(g,f,b),S=Qr(m,p,b);P.push([x,S,d/2,t,_]),s+=d}return P}const qg=[1/0,1/0,-1/0,-1/0],Wg=[],Hg=[],Vg=[],Gg=[];function Kg(t){return t[3].declutterBox}const Yg=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function Xg(t,e){return"start"===e?e=Yg.test(t)?"right":"left":"end"===e&&(e=Yg.test(t)?"left":"right"),Og[e]}function Zg(t,e,n){return n>0&&t.push("\n",""),t.push(e,""),t}function Jg(t,e,n){return n%2===0&&(t+=e),t}const $g=class{constructor(t,e,n,i,r){this.overlaps=n,this.pixelRatio=e,this.resolution=t,this.alignAndScaleFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=r?new Mp:null}getZIndexContext(){return this.zIndexContext_}createLabel(t,e,n,i){const r=t+e+n+i;if(this.labels_[r])return this.labels_[r];const s=i?this.strokeStates[i]:null,o=n?this.fillStates[n]:null,a=this.textStates[e],l=this.pixelRatio,c=[a.scale[0]*l,a.scale[1]*l],u=a.justify?Og[a.justify]:Xg(Array.isArray(t)?t[0]:t,a.textAlign||rf),h=i&&s.lineWidth?s.lineWidth:0,d=Array.isArray(t)?t:String(t).split("\n").reduce(Zg,[]),{width:f,height:p,widths:g,heights:m,lineWidths:v}=function(t,e){const n=[],i=[],r=[];let s=0,o=0,a=0,l=0;for(let c=0,u=e.length;c<=u;c+=2){const h=e[c];if("\n"===h||c===u){s=Math.max(s,o),r.push(o),o=0,a+=l,l=0;continue}const d=e[c+1]||t.font,f=mf(d,h);n.push(f),o+=f;const p=pf(d);i.push(p),l=Math.max(l,p)}return{width:s,height:a,widths:n,heights:i,lineWidths:r}}(a,d),y=f+h,w=[],b=(y+2)*c[0],_=(p+h)*c[1],x={width:b<0?Math.floor(b):Math.ceil(b),height:_<0?Math.floor(_):Math.ceil(_),contextInstructions:w};1==c[0]&&1==c[1]||w.push("scale",c),i&&(w.push("strokeStyle",s.strokeStyle),w.push("lineWidth",h),w.push("lineCap",s.lineCap),w.push("lineJoin",s.lineJoin),w.push("miterLimit",s.miterLimit),w.push("setLineDash",[s.lineDash]),w.push("lineDashOffset",s.lineDashOffset)),n&&w.push("fillStyle",o.fillStyle),w.push("textBaseline","middle"),w.push("textAlign","center");const S=.5-u;let k=u*y+S*h;const C=[],N=[];let A,E=0,L=0,P=0,j=0;for(let R=0,T=d.length;R<T;R+=2){const t=d[R];if("\n"===t){L+=E,E=0,k=u*y+S*h,++j;continue}const e=d[R+1]||a.font;e!==A&&(i&&C.push("font",e),n&&N.push("font",e),A=e),E=Math.max(E,m[P]);const r=[t,k+S*g[P]+u*(g[P]-v[j]),.5*(h+E)+L];k+=g[P],i&&C.push("strokeText",r),n&&N.push("fillText",r),++P}return Array.prototype.push.apply(w,C),Array.prototype.push.apply(w,N),this.labels_[r]=x,x}replayTextBackground_(t,e,n,i,r,s,o){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,e),s&&(this.alignAndScaleFill_=s[2],t.fillStyle=s[1],this.fill_(t)),o&&(this.setStrokeStyle_(t,o),t.stroke())}calculateImageOrLabelDimensions_(t,e,n,i,r,s,o,a,l,c,u,h,d,f,p,g){let m=n-(o*=h[0]),v=i-(a*=h[1]);const y=r+l>t?t-l:r,w=s+c>e?e-c:s,b=f[3]+y*h[0]+f[1],_=f[0]+w*h[1]+f[2],x=m-f[3],S=v-f[0];let k;return(p||0!==u)&&(Wg[0]=x,Gg[0]=x,Wg[1]=S,Hg[1]=S,Hg[0]=x+b,Vg[0]=Hg[0],Vg[1]=S+_,Gg[1]=Vg[1]),0!==u?(k=rl([1,0,0,1,0,0],n,i,1,1,u,-n,-i),il(k,Wg),il(k,Hg),il(k,Vg),il(k,Gg),yr(Math.min(Wg[0],Hg[0],Vg[0],Gg[0]),Math.min(Wg[1],Hg[1],Vg[1],Gg[1]),Math.max(Wg[0],Hg[0],Vg[0],Gg[0]),Math.max(Wg[1],Hg[1],Vg[1],Gg[1]),qg)):yr(Math.min(x,x+b),Math.min(S,S+_),Math.max(x,x+b),Math.max(S,S+_),qg),d&&(m=Math.round(m),v=Math.round(v)),{drawImageX:m,drawImageY:v,drawImageW:y,drawImageH:w,originX:l,originY:c,declutterBox:{minX:qg[0],minY:qg[1],maxX:qg[2],maxY:qg[3],value:g},canvasTransform:k,scale:h}}replayImageOrLabel_(t,e,n,i,r,s,o){const a=!(!s&&!o),l=i.declutterBox,c=o?o[2]*i.scale[0]/2:0;return l.minX-c<=e[0]&&l.maxX+c>=0&&l.minY-c<=e[1]&&l.maxY+c>=0&&(a&&this.replayTextBackground_(t,Wg,Hg,Vg,Gg,s,o),yf(t,i.canvasTransform,r,n,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0}fill_(t){const e=this.alignAndScaleFill_;if(e){const n=il(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.save(),t.translate(n[0]%i,n[1]%i),1!==e&&t.scale(e,e),t.rotate(this.viewRotation_)}t.fill(),e&&t.restore()}setStrokeStyle_(t,e){t.strokeStyle=e[1],e[1]&&(t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.lineDashOffset=e[7],t.setLineDash(e[6]))}drawLabelWithPointPlacement_(t,e,n,i){const r=this.textStates[e],s=this.createLabel(t,e,i,n),o=this.strokeStates[n],a=this.pixelRatio,l=Xg(Array.isArray(t)?t[0]:t,r.textAlign||rf),c=Og[r.textBaseline||sf],u=o&&o.lineWidth?o.lineWidth:0;return{label:s,anchorX:l*(s.width/a-2*r.scale[0])+2*(.5-l)*u,anchorY:c*s.height/a+2*(.5-c)*u}}execute_(t,e,n,i,r,s,o,a){const l=this.zIndexContext_;let c;var u,h;this.pixelCoordinates_&&Yo(n,this.renderedTransform_)?c=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),c=cl(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),u=this.renderedTransform_,h=n,u[0]=h[0],u[1]=h[1],u[2]=h[2],u[3]=h[3],u[4]=h[4],u[5]=h[5]);let d=0;const f=i.length;let p,g,m,v,y,w,b,_,x,S,k,C,N,A=0,E=0,L=0;const P=this.coordinateCache_,j=this.viewRotation_,R=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,T={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:j},I=this.instructions!=i||this.overlaps?0:200;let F,O,M,D;for(;d<f;){const n=i[d];switch(n[0]){case Lg.BEGIN_GEOMETRY:F=n[1],D=n[3],F.getGeometry()?void 0===o||Br(o,D.getExtent())?++d:d=n[2]+1:d=n[2],l&&(l.zIndex=n[4]);break;case Lg.BEGIN_PATH:E>I&&(this.fill_(t),E=0),L>I&&(t.stroke(),L=0),E||L||(t.beginPath(),y=NaN,w=NaN),++d;break;case Lg.CIRCLE:A=n[1];const i=c[A],u=c[A+1],h=c[A+2]-i,f=c[A+3]-u,B=Math.sqrt(h*h+f*f);t.moveTo(i+B,u),t.arc(i,u,B,0,2*Math.PI,!0),++d;break;case Lg.CLOSE_PATH:t.closePath(),++d;break;case Lg.CUSTOM:A=n[1],p=n[2];const z=n[3],U=n[4],q=n[5];T.geometry=z,T.feature=F,d in P||(P[d]=[]);const W=P[d];q?q(c,A,p,2,W):(W[0]=c[A],W[1]=c[A+1],W.length=2),l&&(l.zIndex=n[6]),U(W,T),++d;break;case Lg.DRAW_IMAGE:A=n[1],p=n[2],x=n[3],g=n[4],m=n[5];let H=n[6];const V=n[7],G=n[8],K=n[9],Y=n[10];let X=n[11];const Z=n[12];let J=n[13];v=n[14]||"declutter";const $=n[15];if(!x&&n.length>=20){S=n[19],k=n[20],C=n[21],N=n[22];const t=this.drawLabelWithPointPlacement_(S,k,C,N);x=t.label,n[3]=x;const e=n[23];g=(t.anchorX-e)*this.pixelRatio,n[4]=g;const i=n[24];m=(t.anchorY-i)*this.pixelRatio,n[5]=m,H=x.height,n[6]=H,J=x.width,n[13]=J}let Q,tt,et,nt;n.length>25&&(Q=n[25]),n.length>17?(tt=n[16],et=n[17],nt=n[18]):(tt=of,et=null,nt=null),Y&&R?X+=j:Y||R||(X-=j);let it=0;for(;A<p;A+=2){if(Q&&Q[it++]<J/this.pixelRatio)continue;const n=this.calculateImageOrLabelDimensions_(x.width,x.height,c[A],c[A+1],J,H,g,m,G,K,X,Z,r,tt,!!et||!!nt,F),i=[t,e,x,n,V,et,nt];if(a){let t,e,r,s,o;if($){const n=p-A;if(!$[n]){$[n]={args:i,declutterMode:v};continue}const s=$[n];t=s.args,e=s.declutterMode,delete $[n],r=Kg(t)}if(!t||"declutter"===e&&a.collides(r)||(s=!0),"declutter"===v&&a.collides(n.declutterBox)||(o=!0),"declutter"===e&&"declutter"===v){const t=s&&o;s=t,o=t}s&&("none"!==e&&a.insert(r),this.replayImageOrLabel_.apply(this,t)),o&&("none"!==v&&a.insert(n.declutterBox),this.replayImageOrLabel_.apply(this,i))}else this.replayImageOrLabel_.apply(this,i)}++d;break;case Lg.DRAW_CHARS:const rt=n[1],st=n[2],ot=n[3],at=n[4];N=n[5];const lt=n[6],ct=n[7],ut=n[8];C=n[9];const ht=n[10];S=n[11],Array.isArray(S)&&(S=S.reduce(Jg,"")),k=n[12];const dt=[n[13],n[13]];v=n[14]||"declutter";const ft=n[15],pt=this.textStates[k],gt=pt.font,mt=[pt.scale[0]*ct,pt.scale[1]*ct];let vt;gt in this.widths_?vt=this.widths_[gt]:(vt={},this.widths_[gt]=vt);const yt=zg(c,rt,st,2),wt=Math.abs(mt[0])*vf(gt,S,vt);if(at||wt<=yt){const n=Ug(c,rt,st,2,S,(yt-wt)*Xg(S,this.textStates[k].textAlign),lt,Math.abs(mt[0]),vf,gt,vt,R?0:this.viewRotation_,ft);t:if(n){const i=[];let r,s,o,l,c;if(C)for(r=0,s=n.length;r<s;++r){c=n[r],o=c[4],l=this.createLabel(o,k,"",C),g=c[2]+(mt[0]<0?-ht:ht),m=ot*l.height+2*(.5-ot)*ht*mt[1]/mt[0]-ut;const s=this.calculateImageOrLabelDimensions_(l.width,l.height,c[0],c[1],l.width,l.height,g,m,0,0,c[3],dt,!1,of,!1,F);if(a&&"declutter"===v&&a.collides(s.declutterBox))break t;i.push([t,e,l,s,1,null,null])}if(N)for(r=0,s=n.length;r<s;++r){c=n[r],o=c[4],l=this.createLabel(o,k,N,""),g=c[2],m=ot*l.height-ut;const s=this.calculateImageOrLabelDimensions_(l.width,l.height,c[0],c[1],l.width,l.height,g,m,0,0,c[3],dt,!1,of,!1,F);if(a&&"declutter"===v&&a.collides(s.declutterBox))break t;i.push([t,e,l,s,1,null,null])}a&&"none"!==v&&a.load(i.map(Kg));for(let t=0,e=i.length;t<e;++t)this.replayImageOrLabel_.apply(this,i[t])}}++d;break;case Lg.END_GEOMETRY:if(void 0!==s){F=n[1];const t=s(F,D,v);if(t)return t}++d;break;case Lg.FILL:I?E++:this.fill_(t),++d;break;case Lg.MOVE_TO_LINE_TO:for(A=n[1],p=n[2],O=c[A],M=c[A+1],t.moveTo(O,M),y=O+.5|0,w=M+.5|0,A+=2;A<p;A+=2)O=c[A],M=c[A+1],b=O+.5|0,_=M+.5|0,A!=p-2&&b===y&&_===w||(t.lineTo(O,M),y=b,w=_);++d;break;case Lg.SET_FILL_STYLE:this.alignAndScaleFill_=n[2],E&&(this.fill_(t),E=0,L&&(t.stroke(),L=0)),t.fillStyle=n[1],++d;break;case Lg.SET_STROKE_STYLE:L&&(t.stroke(),L=0),this.setStrokeStyle_(t,n),++d;break;case Lg.STROKE:I?L++:t.stroke(),++d;break;default:++d}}E&&this.fill_(t),L&&t.stroke()}execute(t,e,n,i,r,s){this.viewRotation_=i,this.execute_(t,e,n,this.instructions,r,void 0,void 0,s)}executeHitDetection(t,e,n,i,r){return this.viewRotation_=n,this.execute_(t,[t.canvas.width,t.canvas.height],e,this.hitDetectionInstructions,!0,i,r)}},Qg=["Polygon","Circle","LineString","Image","Text","Default"],tm=["Image","Text"],em=Qg.filter(t=>!tm.includes(t));const nm={};const im=class{constructor(t,e,n,i,r,s,o){this.maxExtent_=t,this.overlaps_=i,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(r,o)}clip(t,e){const n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()}createExecutors_(t,e){for(const n in t){let i=this.executorsByZIndex_[n];void 0===i&&(i={},this.executorsByZIndex_[n]=i);const r=t[n];for(const t in r){const n=r[t];i[t]=new $g(this.resolution_,this.pixelRatio_,this.overlaps_,n,e)}}}hasExecutors(t){for(const e in this.executorsByZIndex_){const n=this.executorsByZIndex_[e];for(let e=0,i=t.length;e<i;++e)if(t[e]in n)return!0}return!1}forEachFeatureAtCoordinate(t,e,n,i,r,s){const o=2*(i=Math.round(i))+1,a=rl(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-n,-t[0],-t[1]),l=!this.hitDetectionContext_;l&&(this.hitDetectionContext_=gc(o,o));const c=this.hitDetectionContext_;let u;c.canvas.width!==o||c.canvas.height!==o?(c.canvas.width=o,c.canvas.height=o):l||c.clearRect(0,0,o,o),void 0!==this.renderBuffer_&&(u=[1/0,1/0,-1/0,-1/0],Sr(u,t),ur(u,e*(this.renderBuffer_+i),u));const h=function(t){if(void 0!==nm[t])return nm[t];const e=2*t+1,n=t*t,i=new Array(n+1);for(let s=0;s<=t;++s)for(let r=0;r<=t;++r){const o=s*s+r*r;if(o>n)break;let a=i[o];a||(a=[],i[o]=a),a.push(4*((t+s)*e+(t+r))+3),s>0&&a.push(4*((t-s)*e+(t+r))+3),r>0&&(a.push(4*((t+s)*e+(t-r))+3),s>0&&a.push(4*((t-s)*e+(t-r))+3))}const r=[];for(let s=0,o=i.length;s<o;++s)i[s]&&r.push(...i[s]);return nm[t]=r,r}(i);let d;function f(t,e,n){const a=c.getImageData(0,0,o,o).data;for(let l=0,u=h.length;l<u;l++)if(a[h[l]]>0){if(!s||"none"===n||"Image"!==d&&"Text"!==d||s.includes(t)){const n=(h[l]-3)/4,s=i-n%o,a=i-(n/o|0),c=r(t,e,s*s+a*a);if(c)return c}c.clearRect(0,0,o,o);break}}const p=Object.keys(this.executorsByZIndex_).map(Number);let g,m,v,y,w;for(p.sort(Wo),g=p.length-1;g>=0;--g){const t=p[g].toString();for(v=this.executorsByZIndex_[t],m=Qg.length-1;m>=0;--m)if(d=Qg[m],y=v[d],void 0!==y&&(w=y.executeHitDetection(c,a,n,f,u),w))return w}}getClipCoords(t){const e=this.maxExtent_;if(!e)return null;const n=e[0],i=e[1],r=e[2],s=e[3],o=[n,i,n,s,r,s,r,i];return cl(o,0,8,2,t,o),o}isEmpty(){return ea(this.executorsByZIndex_)}execute(t,e,n,i,r,s,o){const a=Object.keys(this.executorsByZIndex_).map(Number);a.sort(o?Ho:Wo),s=s||Qg;const l=Qg.length;for(let c=0,u=a.length;c<u;++c){const u=a[c].toString(),h=this.executorsByZIndex_[u];for(let d=0,f=s.length;d<f;++d){const u=s[d],f=h[u];if(void 0!==f){const s=null===o?void 0:f.getZIndexContext(),h=s?s.getContext():t,d=this.maxExtent_&&"Image"!==u&&"Text"!==u;if(d&&(h.save(),this.clip(h,n)),s&&"Text"!==u&&"Image"!==u?s.pushFunction(t=>f.execute(t,e,n,i,r,o)):f.execute(h,e,n,i,r,o),d&&h.restore(),s){s.offset();const t=a[c]*l+Qg.indexOf(u);this.deferredZIndexContexts_[t]||(this.deferredZIndexContexts_[t]=[]),this.deferredZIndexContexts_[t].push(s)}}}}this.renderedContext_=t}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const t=this.deferredZIndexContexts_,e=Object.keys(t).map(Number).sort(Wo);for(let n=0,i=e.length;n<i;++n)t[e[n]].forEach(t=>{t.draw(this.renderedContext_),t.clear()}),t[e[n]].length=0}};const rm=class extends Sg{constructor(t,e,n,i,r,s,o){super(),this.context_=t,this.pixelRatio_=e,this.extent_=n,this.transform_=i,this.transformRotation_=i?ts(Math.atan2(i[1],i[0]),10):0,this.viewRotation_=r,this.squaredTolerance_=s,this.userTransform_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=[1,0,0,1,0,0]}drawImages_(t,e,n,i){if(!this.image_)return;const r=cl(t,e,n,i,this.transform_,this.pixelCoordinates_),s=this.context_,o=this.tmpLocalTransform_,a=s.globalAlpha;1!=this.imageOpacity_&&(s.globalAlpha=a*this.imageOpacity_);let l=this.imageRotation_;0===this.transformRotation_&&(l-=this.viewRotation_),this.imageRotateWithView_&&(l+=this.viewRotation_);for(let c=0,u=r.length;c<u;c+=2){const t=r[c]-this.imageAnchorX_,e=r[c+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_[0]||1!=this.imageScale_[1]){const n=t+this.imageAnchorX_,i=e+this.imageAnchorY_;rl(o,n,i,1,1,l,-n,-i),s.save(),s.transform.apply(s,o),s.translate(n,i),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.restore()}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,t,e,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(s.globalAlpha=a)}drawText_(t,e,n,i){if(!this.textState_||""===this.text_)return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const r=cl(t,e,n,i,this.transform_,this.pixelCoordinates_),s=this.context_;let o=this.textRotation_;for(0===this.transformRotation_&&(o-=this.viewRotation_),this.textRotateWithView_&&(o+=this.viewRotation_);e<n;e+=i){const t=r[e]+this.textOffsetX_,n=r[e+1]+this.textOffsetY_;0!==o||1!=this.textScale_[0]||1!=this.textScale_[1]?(s.save(),s.translate(t-this.textOffsetX_,n-this.textOffsetY_),s.rotate(o),s.translate(this.textOffsetX_,this.textOffsetY_),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.restore()):(this.textStrokeState_&&s.strokeText(this.text_,t,n),this.textFillState_&&s.fillText(this.text_,t,n))}}moveToLineTo_(t,e,n,i,r){const s=this.context_,o=cl(t,e,n,i,this.transform_,this.pixelCoordinates_);s.moveTo(o[0],o[1]);let a=o.length;r&&(a-=2);for(let l=2;l<a;l+=2)s.lineTo(o[l],o[l+1]);return r&&s.closePath(),n}drawRings_(t,e,n,i){for(let r=0,s=n.length;r<s;++r)e=this.moveToLineTo_(t,e,n[r],i,!0);return e}drawCircle(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Br(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=function(t,e,n){const i=t.getFlatCoordinates();if(!i)return null;const r=t.getStride();return cl(i,0,i.length,r,e,n)}(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],i=e[3]-e[1],r=Math.sqrt(n*n+i*i),s=this.context_;s.beginPath(),s.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t)}}drawFeature(t,e){const n=e.getGeometryFunction()(t);n&&(this.setStyle(e),this.drawGeometry(n))}drawGeometryCollection(t){const e=t.getGeometriesArray();for(let n=0,i=e.length;n<i;++n)this.drawGeometry(e[n])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Br(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){const e=t.getFlatMidpoint();this.drawText_(e,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getExtent();if(Br(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,n=t.getFlatCoordinates();let i=0;const r=t.getEnds(),s=t.getStride();e.beginPath();for(let t=0,o=r.length;t<o;++t)i=this.moveToLineTo_(n,i,r[t],s,!1);e.stroke()}if(""!==this.text_){const e=t.getFlatMidpoints();this.drawText_(e,0,e.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Br(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){const e=t.getFlatInteriorPoint();this.drawText_(e,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Br(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_,n=t.getOrientedFlatCoordinates();let i=0;const r=t.getEndss(),s=t.getStride();e.beginPath();for(let t=0,o=r.length;t<o;++t){const e=r[t];i=this.drawRings_(n,i,e,s)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){const e=t.getFlatInteriorPoints();this.drawText_(e,0,e.length,2)}}}setContextFillState_(t){const e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){const e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),Yo(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){const e=this.context_,n=this.contextTextState_,i=t.textAlign?t.textAlign:rf;n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=i&&(n.textAlign=i,e.textAlign=i),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=i,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})}setFillStrokeStyle(t,e){if(t){const e=t.getColor();this.fillState_={fillStyle:Zd(e||$d)}}else this.fillState_=null;if(e){const t=e.getColor(),n=e.getLineCap(),i=e.getLineDash(),r=e.getLineDashOffset(),s=e.getLineJoin(),o=e.getWidth(),a=e.getMiterLimit(),l=i||tf;this.strokeState_={lineCap:void 0!==n?n:Qd,lineDash:1===this.pixelRatio_?l:l.map(t=>t*this.pixelRatio_),lineDashOffset:(r||0)*this.pixelRatio_,lineJoin:void 0!==s?s:ef,lineWidth:(void 0!==o?o:1)*this.pixelRatio_,miterLimit:void 0!==a?a:10,strokeStyle:Zd(t||nf)}}else this.strokeState_=null}setImageStyle(t){let e;if(!t||!(e=t.getSize()))return void(this.image_=null);const n=t.getPixelRatio(this.pixelRatio_),i=t.getAnchor(),r=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*n,this.imageAnchorY_=i[1]*n,this.imageHeight_=e[1]*n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();const s=t.getScaleArray();this.imageScale_=[s[0]*this.pixelRatio_/n,s[1]*this.pixelRatio_/n],this.imageWidth_=e[0]*n}setTextStyle(t){if(t){const e=t.getFill();if(e){const t=e.getColor();this.textFillState_={fillStyle:Zd(t||$d)}}else this.textFillState_=null;const n=t.getStroke();if(n){const t=n.getColor(),e=n.getLineCap(),i=n.getLineDash(),r=n.getLineDashOffset(),s=n.getLineJoin(),o=n.getWidth(),a=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==e?e:Qd,lineDash:i||tf,lineDashOffset:r||0,lineJoin:void 0!==s?s:ef,lineWidth:void 0!==o?o:1,miterLimit:void 0!==a?a:10,strokeStyle:Zd(t||nf)}}else this.textStrokeState_=null;const i=t.getFont(),r=t.getOffsetX(),s=t.getOffsetY(),o=t.getRotateWithView(),a=t.getRotation(),l=t.getScaleArray(),c=t.getText(),u=t.getTextAlign(),h=t.getTextBaseline();this.textState_={font:void 0!==i?i:Jd,textAlign:void 0!==u?u:rf,textBaseline:void 0!==h?h:sf},this.text_=void 0!==c?Array.isArray(c)?c.reduce((t,e,n)=>t+(n%2?" ":e),""):c:"",this.textOffsetX_=void 0!==r?this.pixelRatio_*r:0,this.textOffsetY_=void 0!==s?this.pixelRatio_*s:0,this.textRotateWithView_=void 0!==o&&o,this.textRotation_=void 0!==a?a:0,this.textScale_=[this.pixelRatio_*l[0],this.pixelRatio_*l[1]]}else this.text_=""}},sm=.5;const om={Point:function(t,e,n,i,r,s){const o=n.getImage(),a=n.getText(),l=a&&a.getText(),c=s&&o&&l?{}:void 0;if(o){if(o.getImageState()!=zd)return;const s=t.getBuilder(n.getZIndex(),"Image");s.setImageStyle(o,c),s.drawPoint(e,i,r)}if(l){const s=t.getBuilder(n.getZIndex(),"Text");s.setTextStyle(a,c),s.drawText(e,i,r)}},LineString:function(t,e,n,i,r){const s=n.getStroke();if(s){const o=t.getBuilder(n.getZIndex(),"LineString");o.setFillStrokeStyle(null,s),o.drawLineString(e,i,r)}const o=n.getText();if(o&&o.getText()){const s=t.getBuilder(n.getZIndex(),"Text");s.setTextStyle(o),s.drawText(e,i,r)}},Polygon:function(t,e,n,i,r){const s=n.getFill(),o=n.getStroke();if(s||o){const a=t.getBuilder(n.getZIndex(),"Polygon");a.setFillStrokeStyle(s,o),a.drawPolygon(e,i,r)}const a=n.getText();if(a&&a.getText()){const s=t.getBuilder(n.getZIndex(),"Text");s.setTextStyle(a),s.drawText(e,i,r)}},MultiPoint:function(t,e,n,i,r,s){const o=n.getImage(),a=o&&0!==o.getOpacity(),l=n.getText(),c=l&&l.getText(),u=s&&a&&c?{}:void 0;if(a){if(o.getImageState()!=zd)return;const s=t.getBuilder(n.getZIndex(),"Image");s.setImageStyle(o,u),s.drawMultiPoint(e,i,r)}if(c){const s=t.getBuilder(n.getZIndex(),"Text");s.setTextStyle(l,u),s.drawText(e,i,r)}},MultiLineString:function(t,e,n,i,r){const s=n.getStroke();if(s){const o=t.getBuilder(n.getZIndex(),"LineString");o.setFillStrokeStyle(null,s),o.drawMultiLineString(e,i,r)}const o=n.getText();if(o&&o.getText()){const s=t.getBuilder(n.getZIndex(),"Text");s.setTextStyle(o),s.drawText(e,i,r)}},MultiPolygon:function(t,e,n,i,r){const s=n.getFill(),o=n.getStroke();if(o||s){const a=t.getBuilder(n.getZIndex(),"Polygon");a.setFillStrokeStyle(s,o),a.drawMultiPolygon(e,i,r)}const a=n.getText();if(a&&a.getText()){const s=t.getBuilder(n.getZIndex(),"Text");s.setTextStyle(a),s.drawText(e,i,r)}},GeometryCollection:function(t,e,n,i,r,s){const o=e.getGeometriesArray();let a,l;for(a=0,l=o.length;a<l;++a){(0,om[o[a].getType()])(t,o[a],n,i,r,s)}},Circle:function(t,e,n,i,r){const s=n.getFill(),o=n.getStroke();if(s||o){const a=t.getBuilder(n.getZIndex(),"Circle");a.setFillStrokeStyle(s,o),a.drawCircle(e,i,r)}const a=n.getText();if(a&&a.getText()){const r=t.getBuilder(n.getZIndex(),"Text");r.setTextStyle(a),r.drawText(e,i)}}};function am(t,e){return parseInt(ha(t),10)-parseInt(ha(e),10)}function lm(t,e){const n=cm(t,e);return n*n}function cm(t,e){return.5*t/e}function um(t,e,n,i,r,s,o,a){const l=[],c=n.getImage();if(c){let t=!0;const e=c.getImageState();e==zd||e==Ud?t=!1:e==Dd&&c.load(),t&&l.push(c.ready())}const u=n.getFill();u&&u.loading()&&l.push(u.ready());const h=l.length>0;return h&&Promise.all(l).then(()=>r(null)),function(t,e,n,i,r,s,o){const a=n.getGeometryFunction()(e);if(!a)return;const l=a.simplifyTransformed(i,r),c=n.getRenderer();if(c)hm(t,l,n,e,o);else{(0,om[l.getType()])(t,l,n,e,o,s)}}(t,e,n,i,s,o,a),h}function hm(t,e,n,i,r){if("GeometryCollection"==e.getType()){const s=e.getGeometries();for(let e=0,o=s.length;e<o;++e)hm(t,s[e],n,i,r);return}t.getBuilder(n.getZIndex(),"Default").drawCustom(e,i,n.getRenderer(),n.getHitDetectionRenderer(),r)}const dm=class extends Up{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=[1/0,1/0,-1/0,-1/0],this.wrappedRenderedExtent_=[1/0,1/0,-1/0,-1/0],this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(t,e,n){const i=e.extent,r=e.viewState,s=r.center,o=r.resolution,a=r.projection,l=r.rotation,c=a.getExtent(),u=this.getLayer().getSource(),h=this.getLayer().getDeclutter(),d=e.pixelRatio,f=e.viewHints,p=!(f[Ya]||f[Xa]),g=this.context,m=Math.round(Dr(i)/o*d),v=Math.round(Ir(i)/o*d),y=u.getWrapX()&&a.canWrapX(),w=y?Dr(c):null,b=y?Math.ceil((i[2]-c[2])/w)+1:1;let _=y?Math.floor((i[0]-c[0])/w):0;do{let i=this.getRenderTransform(s,o,0,d,m,v,_*w);e.declutter&&(i=i.slice(0)),t.execute(g,[g.canvas.width,g.canvas.height],i,l,p,void 0===n?Qg:n?tm:em,n?h&&e.declutter[h]:void 0)}while(++_<b)}setDrawContext_(){1!==this.opacity_&&(this.targetContext_=this.context,this.context=gc(this.context.canvas.width,this.context.canvas.height,Bp))}resetDrawContext_(){if(1!==this.opacity_&&this.targetContext_){const t=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=t,yc(this.context),Bp.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(t){this.replayGroup_&&this.getLayer().getDeclutter()&&this.renderWorlds(this.replayGroup_,t,!0)}renderDeferredInternal(t){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(t,e){const n=t.layerStatesArray[t.layerIndex];this.opacity_=n.opacity;const i=t.viewState;this.prepareContainer(t,e);const r=this.context,s=this.replayGroup_;let o=s&&!s.isEmpty();if(!o){if(!(this.getLayer().hasListener(_u)||this.getLayer().hasListener(xu)))return this.container}this.setDrawContext_(),this.preRender(r,t);const a=i.projection;if(this.clipped_=!1,o&&n.extent&&this.clipping){const e=bo(n.extent,a);o=Br(e,t.extent),this.clipped_=o&&!pr(e,t.extent),this.clipped_&&this.clipUnrotated(r,t,e)}return o&&this.renderWorlds(s,t,!this.getLayer().getDeclutter()&&void 0),!t.declutter&&this.clipped_&&r.restore(),this.postRender(r,t),this.renderedRotation_!==i.rotation&&(this.renderedRotation_=i.rotation,this.hitDetectionImageData_=null),t.declutter||this.resetDrawContext_(),this.container}getFeatures(t){return new Promise(e=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const t=this.frameState.size.slice(),e=this.renderedCenter_,n=this.renderedResolution_,i=this.renderedRotation_,r=this.renderedProjection_,s=this.wrappedRenderedExtent_,o=this.getLayer(),a=[],l=t[0]*sm,c=t[1]*sm;a.push(this.getRenderTransform(e,n,i,sm,l,c,0).slice());const u=o.getSource(),h=r.getExtent();if(u.getWrapX()&&r.canWrapX()&&!pr(h,s)){let t=s[0];const r=Dr(h);let o,u=0;for(;t<h[0];)--u,o=r*u,a.push(this.getRenderTransform(e,n,i,sm,l,c,o).slice()),t+=r;for(u=0,t=s[2];t>h[2];)++u,o=r*u,a.push(this.getRenderTransform(e,n,i,sm,l,c,o).slice()),t-=r}const d=mo();this.hitDetectionImageData_=function(t,e,n,i,r,s,o,a,l){const c=l?wo(r,l):r,u=gc(t[0]*sm,t[1]*sm);u.imageSmoothingEnabled=!1;const h=u.canvas,d=new rm(u,sm,r,null,o,a,l?co(mo(),l):null),f=n.length,p=Math.floor(16777215/f),g={};for(let v=1;v<=f;++v){const t=n[v-1],e=t.getStyleFunction()||i;if(!e)continue;let r=e(t,s);if(!r)continue;Array.isArray(r)||(r=[r]);const o=(v*p).toString(16).padStart(7,"#00000");for(let n=0,i=r.length;n<i;++n){const e=r[n],i=e.getGeometryFunction()(t);if(!i||!Br(c,i.getExtent()))continue;const s=e.clone(),a=s.getFill();a&&a.setColor(o);const l=s.getStroke();l&&(l.setColor(o),l.setLineDash(null)),s.setText(void 0);const u=e.getImage();if(u){const t=u.getImageSize();if(!t)continue;const e=gc(t[0],t[1],void 0,{alpha:!1}),n=e.canvas;e.fillStyle=o,e.fillRect(0,0,n.width,n.height),s.setImage(new Lf({img:n,anchor:u.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:u.getOrigin(),opacity:1,size:u.getSize(),scale:u.getScale(),rotation:u.getRotation(),rotateWithView:u.getRotateWithView()}))}const h=s.getZIndex()||0;let d=g[h];d||(d={},g[h]=d,d.Polygon=[],d.Circle=[],d.LineString=[],d.Point=[]);const f=i.getType();if("GeometryCollection"===f){const t=i.getGeometriesArrayRecursive();for(let e=0,n=t.length;e<n;++e){const n=t[e];d[n.getType().replace("Multi","")].push(n,s)}}else d[f.replace("Multi","")].push(i,s)}}const m=Object.keys(g).map(Number).sort(Wo);for(let v=0,y=m.length;v<y;++v){const t=g[m[v]];for(const n in t){const i=t[n];for(let t=0,n=i.length;t<n;t+=2){d.setStyle(i[t+1]);for(let n=0,r=e.length;n<r;++n)d.setTransform(e[n]),d.drawGeometry(i[t])}}}return u.getImageData(0,0,h.width,h.height)}(t,a,this.renderedFeatures_,o.getStyleFunction(),s,n,i,lm(n,this.renderedPixelRatio_),d?r:null)}e(function(t,e,n){const i=[];if(n){const r=Math.floor(Math.round(t[0])*sm),s=Math.floor(Math.round(t[1])*sm),o=4*(Kr(r,0,n.width-1)+Kr(s,0,n.height-1)*n.width),a=n.data[o],l=n.data[o+1],c=n.data[o+2]+256*(l+256*a),u=Math.floor(16777215/e.length);c&&c%u===0&&i.push(e[c/u-1])}return i}(t,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(t,e,n,i,r){var s;if(!this.replayGroup_)return;const o=e.viewState.resolution,a=e.viewState.rotation,l=this.getLayer(),c={},u=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(t,o,a,n,function(t,e,n){const s=ha(t),o=c[s];if(o){if(!0!==o&&n<o.distanceSq){if(0===n)return c[s]=!0,r.splice(r.lastIndexOf(o),1),i(t,l,e);o.geometry=e,o.distanceSq=n}}else{if(0===n)return c[s]=!0,i(t,l,e);r.push(c[s]={feature:t,layer:l,geometry:e,distanceSq:n,callback:i})}},u?null===(s=e.declutter)||void 0===s||null===(s=s[u])||void 0===s?void 0:s.all().map(t=>t.value):null)}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){const e=this.getLayer(),n=e.getSource();if(!n)return!1;const i=t.viewHints[Ya],r=t.viewHints[Xa],s=e.getUpdateWhileAnimating(),o=e.getUpdateWhileInteracting();if(this.ready&&!s&&i||!o&&r)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const a=t.extent,l=t.viewState,c=l.projection,u=l.resolution,h=t.pixelRatio,d=e.getRevision(),f=e.getRenderBuffer();let p=e.getRenderOrder();void 0===p&&(p=am);const g=l.center.slice(),m=ur(a,f*u),v=m.slice(),y=[m.slice()],w=c.getExtent();if(n.getWrapX()&&c.canWrapX()&&!pr(w,t.extent)){const t=Dr(w),e=Math.max(Dr(m)/2,t);m[0]=w[0]-e,m[2]=w[2]+e,Gr(g,c);const n=qr(y[0],c);n[0]<w[0]&&n[2]<w[2]?y.push([n[0]+t,n[1],n[2]+t,n[3]]):n[0]>w[0]&&n[2]>w[2]&&y.push([n[0]-t,n[1],n[2]-t,n[3]])}if(this.ready&&this.renderedResolution_==u&&this.renderedRevision_==d&&this.renderedRenderOrder_==p&&this.renderedFrameDeclutter_===!!t.declutter&&pr(this.wrappedRenderedExtent_,m))return Yo(this.renderedExtent_,v)||(this.hitDetectionImageData_=null,this.renderedExtent_=v),this.renderedCenter_=g,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const b=new Bg(cm(u,h),m,u,h),_=mo();let x;if(_){for(let t=0,e=y.length;t<e;++t){const e=wo(y[t],c);n.loadFeatures(e,_o(u,c),_)}x=co(_,c)}else for(let P=0,j=y.length;P<j;++P)n.loadFeatures(y[P],u,c);const S=lm(u,h);let k=!0;const C=(t,n)=>{let i;const r=t.getStyleFunction()||e.getStyleFunction();if(r&&(i=r(t,u)),i){const e=this.renderFeature(t,S,i,b,x,this.getLayer().getDeclutter(),n);k=k&&!e}},N=wo(m,c),A=n.getFeaturesInExtent(N);p&&A.sort(p);for(let P=0,j=A.length;P<j;++P)C(A[P],P);this.renderedFeatures_=A,this.ready=k;const E=b.finish(),L=new im(m,u,h,n.getOverlaps(),E,e.getRenderBuffer(),!!t.declutter);return this.renderedResolution_=u,this.renderedRevision_=d,this.renderedRenderOrder_=p,this.renderedFrameDeclutter_=!!t.declutter,this.renderedExtent_=v,this.wrappedRenderedExtent_=m,this.renderedCenter_=g,this.renderedProjection_=c,this.renderedPixelRatio_=h,this.replayGroup_=L,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,e,n,i,r,s,o){if(!n)return!1;let a=!1;if(Array.isArray(n))for(let l=0,c=n.length;l<c;++l)a=um(i,t,n[l],e,this.boundHandleStyleImageChange_,r,s,o)||a;else a=um(i,t,n,e,this.boundHandleStyleImageChange_,r,s,o);return a}};const fm=class extends cp{constructor(t){super(t)}createRenderer(){return new dm(this)}};let pm=!1;function gm(t,e){return function(n,i,r,s,o){!function(t,e,n,i,r,s,o){const a=new XMLHttpRequest;a.open("GET","function"===typeof t?t(n,i,r):t,!0),"arraybuffer"==e.getType()&&(a.responseType="arraybuffer"),a.withCredentials=pm,a.onload=function(t){if(!a.status||a.status>=200&&a.status<300){const t=e.getType();try{let i;"text"==t||"json"==t?i=a.responseText:"xml"==t?i=a.responseXML||a.responseText:"arraybuffer"==t&&(i=a.response),i?s(e.readFeatures(i,{extent:n,featureProjection:r}),e.readProjection(i)):o()}catch(i){o()}}else o()},a.onerror=o,a.send()}(t,e,n,i,r,(t,e)=>{this.addFeatures(t),void 0!==s&&s(t)},()=>{this.changed(),void 0!==o&&o()})}}function mm(t,e){return[[-1/0,-1/0,1/0,1/0]]}function vm(t,e,n,i,r,s,o){let a,l;const c=(n-e)/i;if(1===c)a=e;else if(2===c)a=e,l=r;else if(0!==c){let s=t[e],o=t[e+1],c=0;const u=[0];for(let r=e+i;r<n;r+=i){const e=t[r],n=t[r+1];c+=Math.sqrt((e-s)*(e-s)+(n-o)*(n-o)),u.push(c),s=e,o=n}const h=r*c,d=function(t,e,n){let i,r;n=n||Wo;let s=0,o=t.length,a=!1;for(;s<o;)i=s+(o-s>>1),r=+n(t[i],e),r<0?s=i+1:(o=i,a=!r);return a?s:~s}(u,h);d<0?(l=(h-u[-d-2])/(u[-d-1]-u[-d-2]),a=e+(-d-2)*i):a=e+d*i}o=o>1?o:2,s=s||new Array(o);for(let u=0;u<o;++u)s[u]=void 0===a?NaN:void 0===l?t[a+u]:Qr(t[a+u],t[a+i+u],l);return s}const ym=[1,0,0,1,0,0];class wm{constructor(t,e,n,i,r,s){this.styleFunction,this.extent_,this.id_=s,this.type_=t,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=n||null,this.properties_=r,this.squaredTolerance_,this.stride_=i,this.simplifiedGeometry_}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_="Point"===this.type_?br(this.flatCoordinates_):_r(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const t=Pr(this.getExtent());this.flatInteriorPoints_=zl(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const t=function(t,e){const n=[];let i,r=0,s=0;for(let o=0,a=e.length;o<a;++o){const a=e[o],l=Vl(t,r,a,2);if(void 0===i&&(i=l),l===i)n.push(e.slice(s,o+1));else{if(0===n.length)continue;n[n.length-1].push(e[s])}s=o+1,r=a}return n}(this.flatCoordinates_,this.ends_),e=function(t,e,n,i){const r=[];let s=[1/0,1/0,-1/0,-1/0];for(let o=0,a=n.length;o<a;++o){const a=n[o];s=_r(t,e,a[0],i),r.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=a[a.length-1]}return r}(this.flatCoordinates_,0,t,2);this.flatInteriorPoints_=function(t,e,n,i,r){let s=[];for(let o=0,a=n.length;o<a;++o){const a=n[o];s=zl(t,e,a,i,r,2*o,s),e=a[a.length-1]}return s}(this.flatCoordinates_,0,t,2,e)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=vm(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const t=this.flatCoordinates_;let e=0;const n=this.ends_;for(let i=0,r=n.length;i<r;++i){const r=n[i],s=vm(t,e,r,2,.5);Ko(this.flatMidpoints_,s),e=r}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,e){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){const e=(t=no(t)).getExtent(),n=t.getWorldExtent();if(e&&n){const t=Ir(n)/Ir(e);rl(ym,n[0],n[3],t,-t,0,0,0),cl(this.flatCoordinates_,0,this.flatCoordinates_.length,2,ym,this.flatCoordinates_)}}applyTransform(t){t(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){var t;return new wm(this.type_,this.flatCoordinates_.slice(),null===(t=this.ends_)||void 0===t?void 0:t.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=$o((t,e)=>{if(t===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),e&&this.simplifiedGeometry_.applyTransform(e);const n=this.simplifiedGeometry_.getFlatCoordinates();let i;switch(this.type_){case"LineString":n.length=El(n,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,t,n,0),i=[n.length];break;case"MultiLineString":i=[],n.length=Ll(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,t,n,0,i);break;case"Polygon":i=[],n.length=Rl(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(t),n,0,i)}return i&&(this.simplifiedGeometry_=new wm(this.type_,n,i,2,this.properties_,this.id_)),this.squaredTolerance_=t,this.simplifiedGeometry_}),this}}wm.prototype.getFlatCoordinates=wm.prototype.getOrientedFlatCoordinates;const bm=wm;const _m=class{constructor(t){this.rbush_=new ju(t),this.items_={}}insert(t,e){const n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[ha(e)]=n}load(t,e){const n=new Array(e.length);for(let i=0,r=e.length;i<r;i++){const r=t[i],s=e[i],o={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],value:s};n[i]=o,this.items_[ha(s)]=o}this.rbush_.load(n)}remove(t){const e=ha(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)}update(t,e){const n=this.items_[ha(e)];xr([n.minX,n.minY,n.maxX,n.maxY],t)||(this.remove(e),this.insert(t,e))}getAll(){return this.rbush_.all().map(function(t){return t.value})}getInExtent(t){const e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map(function(t){return t.value})}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,e){return this.forEach_(this.getInExtent(t),e)}forEach_(t,e){let n;for(let i=0,r=t.length;i<r;i++)if(n=e(t[i]),n)return n;return n}isEmpty(){return ea(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){const e=this.rbush_.toJSON();return yr(e.minX,e.minY,e.maxX,e.maxY,t)}concat(t){this.rbush_.load(t.rbush_.all());for(const e in t.items_)this.items_[e]=t.items_[e]}},xm="addfeature",Sm="changefeature",km="clear",Cm="removefeature",Nm="featuresloadstart",Am="featuresloadend",Em="featuresloaderror";class Lm extends na{constructor(t,e,n){super(t),this.feature=e,this.features=n}}const Pm=class extends cg{constructor(t){super({attributions:(t=t||{}).attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===t.wrapX||t.wrapX}),this.on,this.once,this.un,this.loader_=Jo,this.format_=t.format||null,this.overlaps_=void 0===t.overlaps||t.overlaps,this.url_=t.url,void 0!==t.loader?this.loader_=t.loader:void 0!==this.url_&&(Ha(this.format_,"`format` must be set when `url` is set"),this.loader_=gm(this.url_,this.format_)),this.strategy_=void 0!==t.strategy?t.strategy:mm;const e=void 0===t.useSpatialIndex||t.useSpatialIndex;let n,i;this.featuresRtree_=e?new _m:null,this.loadedExtentsRtree_=new _m,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(t.features)?i=t.features:t.features&&(n=t.features,i=n.getArray()),e||void 0!==n||(n=new ma(i)),void 0!==i&&this.addFeaturesInternal(i),void 0!==n&&this.bindFeaturesCollection_(n)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){const e=ha(t);if(!this.addToIndex_(e,t))return void(this.featuresCollection_&&this.featuresCollection_.remove(t));this.setupChangeEvents_(e,t);const n=t.getGeometry();if(n){const e=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(e,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new Lm(xm,t))}setupChangeEvents_(t,e){e instanceof bm||(this.featureChangeKeys_[t]=[ra(e,Ro,this.handleFeatureChange_,this),ra(e,jo,this.handleFeatureChange_,this)])}addToIndex_(t,e){let n=!0;if(void 0!==e.getId()){const t=String(e.getId());if(t in this.idIndex_)if(e instanceof bm){const i=this.idIndex_[t];i instanceof bm?Array.isArray(i)?i.push(e):this.idIndex_[t]=[i,e]:n=!1}else n=!1;else this.idIndex_[t]=e}return n&&(Ha(!(t in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[t]=e),n}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){const e=[],n=[],i=[];for(let r=0,s=t.length;r<s;r++){const e=t[r],i=ha(e);this.addToIndex_(i,e)&&n.push(e)}for(let r=0,s=n.length;r<s;r++){const t=n[r],s=ha(t);this.setupChangeEvents_(s,t);const o=t.getGeometry();if(o){const n=o.getExtent();e.push(n),i.push(t)}else this.nullGeometryFeatures_[s]=t}if(this.featuresRtree_&&this.featuresRtree_.load(e,i),this.hasListener(xm))for(let r=0,s=n.length;r<s;r++)this.dispatchEvent(new Lm(xm,n[r]))}bindFeaturesCollection_(t){let e=!1;this.addEventListener(xm,function(n){e||(e=!0,t.push(n.feature),e=!1)}),this.addEventListener(Cm,function(n){e||(e=!0,t.remove(n.feature),e=!1)}),t.addEventListener(Lo,t=>{e||(e=!0,this.addFeature(t.element),e=!1)}),t.addEventListener(Po,t=>{e||(e=!0,this.removeFeature(t.element),e=!1)}),this.featuresCollection_=t}clear(t){if(t){for(const t in this.featureChangeKeys_){this.featureChangeKeys_[t].forEach(oa)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(t=>{this.removeFeatureInternal(t)});for(const t in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[t])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const e=new Lm(km);this.dispatchEvent(e),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,e){const n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,function(n){const i=n.getGeometry();if(i instanceof bm||i.intersectsCoordinate(t))return e(n)})}forEachFeatureInExtent(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureIntersectingExtent(t,e){return this.forEachFeatureInExtent(t,function(n){const i=n.getGeometry();if(i instanceof bm||i.intersectsExtent(t)){const t=e(n);if(t)return t}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),ea(this.nullGeometryFeatures_)||Ko(t,Object.values(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){const e=[];return this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)}),e}getFeaturesInExtent(t,e){if(this.featuresRtree_){if(!(e&&e.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);const n=Wr(t,e);return[].concat(...n.map(t=>this.featuresRtree_.getInExtent(t)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(t,e){const n=t[0],i=t[1];let r=null;const s=[NaN,NaN];let o=1/0;const a=[-1/0,-1/0,1/0,1/0];return e=e||Xo,this.featuresRtree_.forEachInExtent(a,function(t){if(e(t)){const e=t.getGeometry(),l=o;if(o=e instanceof bm?0:e.closestPointXY(n,i,s,o),o<l){r=t;const e=Math.sqrt(o);a[0]=n-e,a[1]=i-e,a[2]=n+e,a[3]=i+e}}}),r}getExtent(t){return this.featuresRtree_.getExtent(t)}getFeatureById(t){const e=this.idIndex_[t.toString()];return void 0!==e?e:null}getFeatureByUid(t){const e=this.uidIndex_[t];return void 0!==e?e:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){const e=t.target,n=ha(e),i=e.getGeometry();if(i){const t=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(t,e)):this.featuresRtree_&&this.featuresRtree_.update(t,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);const r=e.getId();if(void 0!==r){const t=r.toString();this.idIndex_[t]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[t]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new Lm(Sm,e))}hasFeature(t){const e=t.getId();return void 0!==e?e in this.idIndex_:ha(t)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&ea(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()}loadFeatures(t,e,n){const i=this.loadedExtentsRtree_,r=this.strategy_(t,e,n);for(let s=0,o=r.length;s<o;++s){const t=r[s];i.forEachInExtent(t,function(e){return pr(e.extent,t)})||(++this.loadingExtentsCount_,this.dispatchEvent(new Lm(Nm)),this.loader_.call(this,t,e,n,t=>{--this.loadingExtentsCount_,this.dispatchEvent(new Lm(Am,void 0,t))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Lm(Em))}),i.insert(t,{extent:t.slice()}))}this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){const e=this.loadedExtentsRtree_,n=e.forEachInExtent(t,function(e){if(xr(e.extent,t))return e});n&&e.remove(n)}removeFeatures(t){let e=!1;for(let n=0,i=t.length;n<i;++n)e=this.removeFeatureInternal(t[n])||e;e&&this.changed()}removeFeature(t){if(!t)return;this.removeFeatureInternal(t)&&this.changed()}removeFeatureInternal(t){const e=ha(t);if(!(e in this.uidIndex_))return!1;e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t);const n=this.featureChangeKeys_[e];null===n||void 0===n||n.forEach(oa),delete this.featureChangeKeys_[e];const i=t.getId();if(void 0!==i){const e=i.toString(),n=this.idIndex_[e];n===t?delete this.idIndex_[e]:Array.isArray(n)&&(n.splice(n.indexOf(t),1),1===n.length&&(this.idIndex_[e]=n[0]))}return delete this.uidIndex_[e],this.hasListener(Cm)&&this.dispatchEvent(new Lm(Cm,t)),!0}removeFromIdIndex_(t){for(const e in this.idIndex_)if(this.idIndex_[e]===t){delete this.idIndex_[e];break}}setLoader(t){this.loader_=t}setUrl(t){Ha(this.format_,"`format` must be set when `url` is set"),this.url_=t,this.setLoader(gm(t,this.format_))}setOverlaps(t){this.overlaps_=t,this.changed()}},jm=n.p+"static/media/cleanstreetPointer.391fbd740fb34db1a3ca.png",Rm=n.p+"static/media/redpointer.5b9c2f3c12d11cb3965b.png",Tm=n.p+"static/media/yellowpointer.84a4246d1e2114263a49.png",Im={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000",Fm=()=>{const{user:t}=Gi(),[n,i]=(0,e.useState)({totalIssues:0,pending:0,inProgress:0,resolved:0}),[r,s]=(0,e.useState)([]),[o,a]=(0,e.useState)([]),[l,c]=(0,e.useState)(!1),u=(0,e.useRef)(null),h=(0,e.useRef)(null),d=(0,e.useRef)(new Pm),f=(0,e.useRef)(new fm({source:d.current})),p=(0,e.useCallback)(async()=>{if(t)try{var e,n,r,o,l;const c=localStorage.getItem("token");if(!c)return;const u=await qi.get("".concat(Im,"/api/issues"),{headers:{Authorization:"Bearer ".concat(c)}}),h=[null===(e=u.data)||void 0===e?void 0:e.localIssues,null===(n=u.data)||void 0===n?void 0:n.myAreaReports,null===(r=u.data)||void 0===r?void 0:r.otherIssues,null===(o=u.data)||void 0===o?void 0:o.otherReports,null===(l=u.data)||void 0===l?void 0:l.issues],d=[];h.forEach(t=>{Array.isArray(t)&&d.push(...t)}),0===d.length&&Array.isArray(u.data)&&d.push(...u.data);const f=new Set,p=[];for(const t of d){const e=(null===t||void 0===t?void 0:t._id)||(null===t||void 0===t?void 0:t.id);e&&(f.has(String(e))||(f.add(String(e)),p.push(t)))}const g=((null===t||void 0===t?void 0:t.postalCode)||"").toString().trim(),m=[];p.forEach(t=>{const e=(t.postalCode||"").toString().trim();g&&e&&e===g&&m.push(t)});const v=m.sort((t,e)=>new Date(e.createdAt)-new Date(t.createdAt));s(v.slice(0,4)),i({totalIssues:m.length,pending:m.filter(t=>"reported"===(t.status||"").toLowerCase()).length,inProgress:m.filter(t=>"in progress"===(t.status||"").toLowerCase()).length,resolved:m.filter(t=>"resolved"===(t.status||"").toLowerCase()).length}),a(p)}catch(c){console.error("Error fetching issues:",c)}},[t]);(0,e.useEffect)(()=>{p()},[p]),(0,e.useEffect)(()=>{if(!l||!t)return;return(async()=>{const{lat:e,lng:n}=await(async(t,e)=>{try{const n=t||e,i=await fetch("https://nominatim.openstreetmap.org/search?format=json&q=".concat(encodeURIComponent(n))),r=await i.json();return r.length>0?{lat:parseFloat(r[0].lat),lng:parseFloat(r[0].lon)}:{lat:17.385,lng:78.4867}}catch(n){return{lat:17.385,lng:78.4867}}})(t.postalCode,t.location),i=ao([n,e]);h.current?(h.current.setTarget(u.current),h.current.getView().setCenter(i),h.current.getView().setZoom(14)):h.current=new mp({target:u.current,layers:[new Zp({source:new bg}),f.current],view:new oc({center:i,zoom:14})}),d.current.clear();const r=o.map(t=>{var e,n,i,r,s,o;const a=(null===(e=t.location)||void 0===e?void 0:e.lng)||t.longitude||(null===(n=t.location)||void 0===n||null===(i=n.coordinates)||void 0===i?void 0:i[0]),l=(null===(r=t.location)||void 0===r?void 0:r.lat)||t.latitude||(null===(s=t.location)||void 0===s||null===(o=s.coordinates)||void 0===o?void 0:o[1]);if(!a||!l||isNaN(a)||isNaN(l))return null;const c=(t.priority||"").toLowerCase();let u=jm;"high"===c?u=Rm:"medium"===c&&(u=Tm);const h=new xg({geometry:new Ol(ao([Number(a),Number(l)]))});return h.setStyle(new Of({image:new Lf({src:u,scale:.06,anchor:[.5,1]})})),h}).filter(Boolean);d.current.addFeatures(r),setTimeout(()=>{h.current.updateSize()},200)})(),()=>{h.current&&h.current.setTarget(null)}},[l,t,o]);const g=t=>{const e=(t||"").toLowerCase().replace(" ","");return"status-".concat(e)};return(0,Wi.jsxs)("div",{className:"dashboard-page",children:[(0,Wi.jsxs)("header",{className:"dashboard-header",children:[(0,Wi.jsx)("h1",{className:"dashboard-title",children:"My Dashboard"}),(0,Wi.jsx)("p",{className:"dashboard-subtitle",children:"See what issues your community is reporting and show your support."})]}),(0,Wi.jsxs)("div",{className:"stats-grids",children:[(0,Wi.jsxs)("div",{className:"stat-cards",children:[(0,Wi.jsx)("div",{className:"stat-icon-wrappers",children:(0,Wi.jsx)("i",{className:"bi bi-geo-alt"})}),(0,Wi.jsxs)("div",{className:"stat-labels",children:[(0,Wi.jsx)("i",{className:"bi bi-files"})," Local Reports"]}),(0,Wi.jsx)("div",{className:"stat-values",children:n.totalIssues})]}),(0,Wi.jsxs)("div",{className:"stat-cards",children:[(0,Wi.jsx)("div",{className:"stat-icon-wrappers",children:(0,Wi.jsx)("i",{className:"bi bi-clock"})}),(0,Wi.jsxs)("div",{className:"stat-labels",children:[(0,Wi.jsx)("i",{className:"bi bi-clock"})," Pending"]}),(0,Wi.jsx)("div",{className:"stat-values",children:n.pending})]}),(0,Wi.jsxs)("div",{className:"stat-cards",children:[(0,Wi.jsx)("div",{className:"stat-icon-wrappers",children:(0,Wi.jsx)("i",{className:"bi bi-hammer"})}),(0,Wi.jsxs)("div",{className:"stat-labels",children:[(0,Wi.jsx)("i",{className:"bi bi-hourglass-split"})," In Progress"]}),(0,Wi.jsx)("div",{className:"stat-values",children:n.inProgress})]}),(0,Wi.jsxs)("div",{className:"stat-cards",children:[(0,Wi.jsx)("div",{className:"stat-icon-wrappers",children:(0,Wi.jsx)("i",{className:"bi bi-trophy"})}),(0,Wi.jsxs)("div",{className:"stat-labels",children:[(0,Wi.jsx)("i",{className:"bi bi-check2-circle"})," Resolved"]}),(0,Wi.jsx)("div",{className:"stat-values",children:n.resolved})]})]}),(0,Wi.jsxs)("div",{className:"dashboard-content",children:[(0,Wi.jsxs)("div",{className:"content-section",children:[(0,Wi.jsxs)("h3",{className:"section-titles",children:["Recent Reports in Your Area",(0,Wi.jsx)("i",{className:"bi bi-broadcast",style:{opacity:.5}})]}),(0,Wi.jsx)("div",{className:"activity-list",children:r.length>0?r.map(t=>(0,Wi.jsxs)("div",{className:"activity-item",children:[(0,Wi.jsxs)("div",{className:"activity-info",children:[(0,Wi.jsx)("div",{className:"activity-icon",children:(0,Wi.jsx)("i",{className:"bi ".concat("resolved"===t.status?"bi-check-lg":"bi-geo-alt-fill")})}),(0,Wi.jsxs)("div",{className:"activity-details",children:[(0,Wi.jsx)("h4",{children:t.title}),(0,Wi.jsxs)("p",{children:[new Date(t.createdAt).toLocaleDateString()," \u2022"," ",new Date(t.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),(0,Wi.jsx)("span",{className:"status-badge ".concat(g(t.status||"reported")),children:t.status||"Reported"})]},t._id)):(0,Wi.jsx)("div",{className:"no-data",children:"No recent activity in your area"})})]}),(0,Wi.jsxs)("div",{className:"content-section",style:{height:"fit-content"},children:[(0,Wi.jsx)("h3",{className:"section-titles",children:"Quick Actions"}),(0,Wi.jsxs)("div",{className:"actions-grid",children:[(0,Wi.jsxs)(fe,{to:"/report-issue",className:"dashboard-btn btns-primary",children:[(0,Wi.jsx)("i",{className:"bi bi-plus-circle-fill"})," Report New Issue"]}),(0,Wi.jsxs)(fe,{to:"/complaints",className:"dashboard-btn btn-secondary",children:[(0,Wi.jsx)("i",{className:"bi bi-list-check"})," View All Complaints"]}),(0,Wi.jsxs)("button",{className:"dashboard-btn btn-tertiary",onClick:()=>c(!0),children:[(0,Wi.jsx)("i",{className:"bi bi-map-fill"})," View Issue Map"]})]})]})]}),l&&(0,Wi.jsx)("div",{className:"modal-overlay",onClick:()=>c(!1),children:(0,Wi.jsxs)("div",{className:"modal-content",onClick:t=>t.stopPropagation(),children:[(0,Wi.jsxs)("div",{className:"modal-header",children:[(0,Wi.jsx)("h2",{children:"Community Map"}),(0,Wi.jsx)("button",{className:"btn-close-icon",onClick:()=>c(!1),children:(0,Wi.jsx)("i",{className:"bi bi-x-lg"})})]}),(0,Wi.jsx)("div",{ref:u,className:"map-wrapper"})]})})]})},Om={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL?"".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,"/api/issues"):"http://localhost:5000/api/issues",Mm=()=>{const{user:t}=Gi(),n=(0,e.useRef)(),[i,r]=(0,e.useState)(null),[s]=(0,e.useState)(new Pm),[a,l]=(0,e.useState)(null),[c,u]=(0,e.useState)({title:"",issueType:"",priority:"medium",address:"",landmark:"",description:""}),[h,d]=(0,e.useState)([]),[f,p]=(0,e.useState)([]),[g,m]=(0,e.useState)(!1),[v,y]=(0,e.useState)(null);(0,e.useEffect)(()=>{let e=!0;const a=new Of({image:new Lf({anchor:[.5,1],src:"https://openlayers.org/en/latest/examples/data/icon.png"})});return(async()=>{const i=await Co(null===t||void 0===t?void 0:t.location),c=new mp({target:n.current,layers:[new Zp({source:new bg}),new fm({source:s,style:a})],view:new oc({center:i,zoom:13})});e?(r(c),c.on("click",async t=>{const e=function(t,e){const n=fo(t,void 0!==e?e:"EPSG:3857","EPSG:4326"),i=n[0];return(i<-180||i>180)&&(n[0]=$r(i+180,360)-180),n}(t.coordinate);l(e),s.clear();const n=new xg({geometry:new Ol(t.coordinate)});s.addFeature(n);try{const t=await So(e[0],e[1]);u(e=>o(o({},e),{},{address:t}))}catch(MC){console.error("Reverse geocode failed:",MC),u(t=>o(o({},t),{},{address:"Lat: ".concat(e[1].toFixed(6),", Lon: ").concat(e[0].toFixed(6))}))}})):c.setTarget(void 0)})(),()=>{e=!1,i&&i.setTarget(void 0),f.forEach(t=>URL.revokeObjectURL(t))}},[s,null===t||void 0===t?void 0:t.location]);const w=t=>{u(e=>o(o({},e),{},{[t.target.name]:t.target.value}))};return t?(0,Wi.jsx)("div",{className:"report-issue-page",children:(0,Wi.jsxs)("div",{className:"containers",children:[(0,Wi.jsxs)("div",{className:"report-header",children:[(0,Wi.jsxs)("h1",{children:[(0,Wi.jsx)("i",{className:"bi bi-megaphone"})," Report Civic Issue"]}),(0,Wi.jsx)("p",{children:"Help make your community cleaner and safer"})]}),(0,Wi.jsxs)("div",{className:"report-content-grid",children:[(0,Wi.jsxs)("div",{className:"form-section",children:[(0,Wi.jsxs)("h3",{children:[(0,Wi.jsx)("i",{className:"bi bi-card-checklist"})," Issue Details"]}),(0,Wi.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),!a)return void $i().fire({icon:"warning",title:"Location Required",text:"Please select a location on the map by clicking on it.",background:"linear-gradient(to bottom, #D3F1DE, #81B79D)",color:"#1B1B1B",confirmButtonColor:"#005347"});if(!c.title||!c.issueType||!c.description)return void $i().fire({icon:"error",title:"Missing Information",text:"Please fill in all required fields.",background:"linear-gradient(to bottom, #D3F1DE, #81B79D)",color:"#1B1B1B",confirmButtonColor:"#005347"});m(!0),y(null);const e=new FormData;Object.keys(c).forEach(t=>e.append(t,c[t])),h.forEach(t=>{e.append("images",t)}),e.append("latitude",a[1]),e.append("longitude",a[0]);const n=localStorage.getItem("token");if(!n)return $i().fire({icon:"error",title:"Authorization Failed",text:"Please log in again to submit an issue.",background:"linear-gradient(to bottom, #D3F1DE, #81B79D)",color:"#1B1B1B",confirmButtonColor:"#005347"}),void m(!1);try{await qi.post(Om,e,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(n)},timeout:12e4,onUploadProgress:t=>{if(t.total){const e=Math.round(100*t.loaded/t.total);y(e)}}});$i().fire({icon:"success",title:"Issue Reported Successfully!",text:"Thank you for making your community better.",background:"linear-gradient(to bottom, #D3F1DE, #81B79D)",color:"#1B1B1B",confirmButtonColor:"#005347",timer:3e3,timerProgressBar:!0}),u({title:"",issueType:"",priority:"medium",address:"",landmark:"",description:""}),f.forEach(t=>URL.revokeObjectURL(t)),d([]),p([]),l(null),s.clear(),y(null)}catch(g){var i,r,o;console.error("Issue submit error:",g,{response:null===g||void 0===g||null===(i=g.response)||void 0===i?void 0:i.data});const t=(null===(r=g.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.message)||g.message||"Failed to connect to server or report issue.";$i().fire({icon:"error",title:"Submission Failed",text:t,background:"linear-gradient(to bottom, #D3F1DE, #81B79D)",color:"#1B1B1B",confirmButtonColor:"#005347"})}finally{m(!1),y(null)}},className:"report-form",children:[(0,Wi.jsxs)("div",{className:"form-row",children:[(0,Wi.jsxs)("div",{className:"form-group",children:[(0,Wi.jsxs)("label",{className:"form-label",children:[(0,Wi.jsx)("i",{className:"bi bi-text-left"})," Issue Title *"]}),(0,Wi.jsx)("input",{type:"text",className:"form-control",name:"title",value:c.title,onChange:w,placeholder:"Brief title for the issue",required:!0})]}),(0,Wi.jsxs)("div",{className:"form-group",children:[(0,Wi.jsxs)("label",{className:"form-label",children:[(0,Wi.jsx)("i",{className:"bi bi-tags"})," Issue Type *"]}),(0,Wi.jsxs)("select",{className:"form-control",name:"issueType",value:c.issueType,onChange:w,required:!0,children:[(0,Wi.jsx)("option",{value:"",children:"Select type..."}),[{value:"pothole",label:"Pothole",icon:"bi-cone-striped"},{value:"garbage",label:"Garbage Dump",icon:"bi-trash3"},{value:"streetlight",label:"Broken Streetlight",icon:"bi-lightbulb-off"},{value:"water_leak",label:"Water Leak",icon:"bi-droplet"},{value:"other",label:"Other",icon:"bi-exclamation-circle"}].map(t=>(0,Wi.jsx)("option",{value:t.value,children:t.label},t.value))]})]})]}),(0,Wi.jsxs)("div",{className:"form-row",children:[(0,Wi.jsxs)("div",{className:"form-group",children:[(0,Wi.jsxs)("label",{className:"form-label",children:[(0,Wi.jsx)("i",{className:"bi bi-speedometer2"})," Priority Level *"]}),(0,Wi.jsx)("select",{className:"form-control",name:"priority",value:c.priority,onChange:w,required:!0,children:[{value:"low",label:"Low",icon:"bi-arrow-down-circle"},{value:"medium",label:"Medium",icon:"bi-dash-circle"},{value:"high",label:"High",icon:"bi-arrow-up-circle"}].map(t=>(0,Wi.jsx)("option",{value:t.value,children:t.label},t.value))})]}),(0,Wi.jsxs)("div",{className:"form-group",children:[(0,Wi.jsxs)("label",{className:"form-label",children:[(0,Wi.jsx)("i",{className:"bi bi-signpost-2"})," Landmark (Optional)"]}),(0,Wi.jsx)("input",{type:"text",className:"form-control",name:"landmark",value:c.landmark,onChange:w,placeholder:"Nearby landmark"})]})]}),(0,Wi.jsxs)("div",{className:"form-group",children:[(0,Wi.jsxs)("label",{className:"form-label",children:[(0,Wi.jsx)("i",{className:"bi bi-geo-alt"})," Address (Click on map)"]}),(0,Wi.jsx)("input",{type:"text",className:"form-control",name:"address",value:c.address,readOnly:!0,placeholder:"Select location on map"})]}),(0,Wi.jsxs)("div",{className:"form-group",children:[(0,Wi.jsxs)("label",{className:"form-label",children:[(0,Wi.jsx)("i",{className:"bi bi-pencil-square"})," Description *"]}),(0,Wi.jsx)("textarea",{className:"form-control",name:"description",value:c.description,onChange:w,rows:"3",placeholder:"Describe the issue in detail...",required:!0})]}),(0,Wi.jsxs)("div",{className:"form-group",children:[(0,Wi.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,Wi.jsxs)("label",{className:"form-label",children:[(0,Wi.jsx)("i",{className:"bi bi-image"})," Upload Images (Max 3)"]}),0===h.length&&(0,Wi.jsxs)("p",{className:"image-warning",children:[(0,Wi.jsx)("i",{class:"bi bi-exclamation-triangle"})," Please upload at least one image."]})]}),(0,Wi.jsxs)("div",{className:"custom-file-upload",children:[(0,Wi.jsx)("span",{className:"file-name-display",children:0===h.length?"No files chosen":h.map(t=>t.name).join(", ")}),(0,Wi.jsxs)("button",{type:"button",className:"btn-upload",onClick:()=>document.getElementById("imageFile").click(),title:"Add/Replace images (max 3)",children:[(0,Wi.jsx)("i",{className:"bi bi-folder2-open"})," Browse"]}),(0,Wi.jsx)("input",{type:"file",id:"imageFile",className:"file-input-hidden",accept:"image/*",multiple:!0,onChange:t=>{const e=Array.from(t.target.files).slice(0,3);f.forEach(t=>URL.revokeObjectURL(t)),d(e),p(e.map(t=>URL.createObjectURL(t))),t.target.value=""},required:0===h.length})]})]}),(0,Wi.jsxs)("div",{className:"form-bottom-section",children:[(0,Wi.jsx)("div",{className:"image-preview-list","aria-live":"polite",children:f.map((t,e)=>(0,Wi.jsxs)("div",{className:"image-preview-container has-image",children:[(0,Wi.jsx)("img",{src:t,alt:"Preview ".concat(e+1)}),(0,Wi.jsx)("button",{type:"button",className:"remove-image-btn",onClick:()=>(t=>{const e=f[t];e&&URL.revokeObjectURL(e);const n=h.filter((e,n)=>n!==t),i=f.filter((e,n)=>n!==t);d(n),p(i)})(e),"aria-label":"Remove image ".concat(e+1),title:"Remove image",children:(0,Wi.jsx)("i",{className:"bi bi-x-lg"})})]},e))}),(0,Wi.jsxs)("div",{style:{minWidth:160},children:[null!==v&&(0,Wi.jsxs)("div",{style:{marginBottom:8},children:[(0,Wi.jsxs)("div",{style:{fontSize:12,color:"#06332e",marginBottom:4},children:["Uploading: ",v,"%"]}),(0,Wi.jsx)("div",{style:{background:"#e6efe9",borderRadius:6,height:8},children:(0,Wi.jsx)("div",{style:{width:"".concat(v,"%"),height:"100%",background:"#16594f",borderRadius:6}})})]}),(0,Wi.jsx)("div",{className:"form-actions",children:(0,Wi.jsx)("button",{type:"submit",className:"btn-primary",disabled:g,children:g?(0,Wi.jsxs)(Wi.Fragment,{children:[(0,Wi.jsx)("i",{className:"bi bi-hourglass-split spinning"})," ","Submitting..."]}):(0,Wi.jsxs)(Wi.Fragment,{children:[(0,Wi.jsx)("i",{className:"bi bi-send"})," Submit Issue"]})})})]})]})]})]}),(0,Wi.jsxs)("div",{className:"form-section map-card",children:[(0,Wi.jsxs)("h3",{children:[(0,Wi.jsx)("i",{className:"bi bi-map"})," Select Location on Map"]}),(0,Wi.jsx)("div",{ref:n,className:"map-placeholder"}),a&&(0,Wi.jsxs)("div",{className:"location-selected-text",children:[(0,Wi.jsx)("i",{className:"bi bi-pin-map-fill"})," Location selected"]})]})]})]})}):(0,Wi.jsx)("div",{className:"report-issue-page",children:(0,Wi.jsxs)("div",{className:"not-authorized",children:[(0,Wi.jsxs)("h2",{children:[(0,Wi.jsx)("i",{className:"bi bi-lock"})," You need to be logged in to submit civic issues."]}),(0,Wi.jsx)("p",{children:"Help make your community cleaner and safer by reporting issues."})]})})},Dm=t=>{const e=Math.floor((new Date-new Date(t))/1e3);let n=Math.floor(e/31536e3);return n>=1?n+" years ago":(n=Math.floor(e/2592e3),n>=1?n+" months ago":(n=Math.floor(e/86400),n>=1?n+" days ago":(n=Math.floor(e/3600),n>=1?n+" hours ago":(n=Math.floor(e/60),n>=1?n+" minutes ago":"just now"))))},Bm={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000",zm=()=>{var t,n;const{user:i}=Gi(),[r,s]=(0,e.useState)([]),[a,l]=(0,e.useState)([]),[c,u]=(0,e.useState)("all"),[h,d]=(0,e.useState)("priority"),[f,p]=(0,e.useState)(null),[g,m]=(0,e.useState)(null),[v,y]=(0,e.useState)({}),[w,b]=(0,e.useState)(""),[_,x]=(0,e.useState)(0),[S,k]=(0,e.useState)(!1),[C,N]=(0,e.useState)(!1),A=(null===i||void 0===i?void 0:i._id)||(null===i||void 0===i?void 0:i.id),[E,L]=(0,e.useState)([]),[P,j]=(0,e.useState)(1),[R,T]=(0,e.useState)(1),[I,F]=(0,e.useState)(!0),[O,M]=(0,e.useState)(1),[D,B]=(0,e.useState)(!0),z=(0,e.useRef)(new Set),U=t=>{if(!t)return;const e=t._id||t.id;s(n=>n.map(n=>(n._id||n.id)===e?t:n)),l(n=>n.map(n=>(n._id||n.id)===e?t:n)),y(n=>o(o({},n),{},{[e]:t.comments||[]})),f&&(f._id||f.id)===e&&p(t)},q=async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!S)try{k(!0);const n=localStorage.getItem("token"),i=await qi.get("".concat(Bm,"/api/issues/").concat(t,"/comments?page=").concat(e),{headers:{Authorization:"Bearer ".concat(n)}});L(1===e?i.data.comments:t=>[...t,...i.data.comments]),T(i.data.totalPages||1),F(e<(i.data.totalPages||1)),j(e)}catch(n){console.error("Error loading comments:",n)}finally{k(!1)}};(0,e.useEffect)(()=>{const t=()=>{const t=document.querySelector(".comments-list");if(!t||S||!I)return;const{scrollTop:e,scrollHeight:n,clientHeight:i}=t;if(e+i>=n-10){const t=P+1;q(g._id||g.id,t),j(t)}},e=document.querySelector(".comments-list");return e&&e.addEventListener("scroll",t),()=>{e&&e.removeEventListener("scroll",t)}},[S,I,g,P]);const W=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,{reset:e=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!C)try{var n;N(!0);const r=localStorage.getItem("token"),a=await qi.get("".concat(Bm,"/api/issues?page=").concat(t,"&limit=").concat(20),{headers:{Authorization:"Bearer ".concat(r)}}),c="undefined"!==typeof a.data.totalPages;let u=[],h=[];if(null!==(n=a.data)&&void 0!==n&&n.success)u=a.data.localIssues||[],h=a.data.otherIssues||[];else{const t=a.data.issues||a.data||[],e=((null===i||void 0===i?void 0:i.postalCode)||"").toString().trim();t.forEach(t=>{const n=(t.postalCode||"").toString().trim();e&&n&&n===e?u.push(t):h.push(t)})}const d=(t,e)=>{const n=[...t];return e.forEach(t=>{const e=t._id||t.id;z.current.has(e)||(z.current.add(e),n.push(t))}),n};if(e?(z.current=new Set,u.forEach(t=>z.current.add(t._id||t.id)),h.forEach(t=>z.current.add(t._id||t.id)),s(u),l(h)):(s(t=>d(t,u)),l(t=>d(t,h))),y(t=>{const e=o({},t||{});return[...u,...h].forEach(t=>{const n=t._id||t.id;e[n]=t.comments||e[n]||[]}),e}),c)B(t<(a.data.totalPages||1));else{const t=u.length+h.length||0;B(t>=20)}M(t)}catch(r){console.error("Error loading complaints:",r)}finally{N(!1)}};(0,e.useEffect)(()=>{W(1,{reset:!0})},[]),(0,e.useEffect)(()=>{const t=document.querySelector(".complaints-scroll-container");if(!t)return;let e=!1;const n=()=>{e||(e=!0,requestAnimationFrame(()=>{const{scrollTop:n,clientHeight:i,scrollHeight:r}=t;if(n+i>=r-150&&!C&&D){W(O+1)}e=!1}))};return t.addEventListener("scroll",n),()=>t.removeEventListener("scroll",n)},[O,C,D]),(0,e.useEffect)(()=>{s([]),l([]),z.current=new Set,B(!0),M(1),W(1,{reset:!0})},[c,h]);const H=t=>{let e=[...t];const n={high:1,medium:2,low:3,undefined:4};if("all"!==c&&(e=e.filter(t=>t.priority===c)),"priority"===h)e.sort((t,e)=>n[t.priority]-n[e.priority]||new Date(e.createdAt)-new Date(t.createdAt));else if("newest"===h)e.sort((t,e)=>new Date(e.createdAt)-new Date(t.createdAt));else if("comments"===h)e.sort((t,e)=>(e.commentsCount||0)-(t.commentsCount||0));else if("status"===h){const t=t=>(t||"").toString().toLowerCase().replace(/_/g," ").trim(),n={reported:1,"in progress":2,resolved:3,closed:4};e.sort((e,i)=>{const r=t(e.status),s=t(i.status);return(n[r]||5)-(n[s]||5)})}return e},V=async(t,e)=>{try{var n;const i=localStorage.getItem("token"),r=await qi.post("".concat(Bm,"/api/issues/").concat(t,"/vote/").concat(e),{},{headers:{Authorization:"Bearer ".concat(i)}});if(null!==(n=r.data)&&void 0!==n&&n.success&&r.data.issue)return void U(r.data.issue);const a=n=>n.map(n=>{if((n._id||n.id)!==t)return n;const i="up"===e,r=String(A),s=new Set((n.upvotes||[]).map(String)),a=new Set((n.downvotes||[]).map(String));return i?s.has(r)?s.delete(r):(s.add(r),a.delete(r)):a.has(r)?a.delete(r):(a.add(r),s.delete(r)),o(o({},n),{},{upvotes:Array.from(s),downvotes:Array.from(a)})});s(t=>a(t)),l(t=>a(t)),f&&(f._id||f.id)===t&&p(t=>a([t])[0]||t)}catch(i){console.error("Vote error:",i),alert("Failed to submit vote. Make sure you're logged in and try again.")}},G=t=>{p(t),x(0),document.body.classList.add("modal-open")},K=()=>{p(null),x(0),document.body.classList.remove("modal-open")},Y=t=>{m(t),q(t._id||t.id,1),j(1),document.body.classList.add("modal-open")},X=()=>{m(null),b(""),L([]),j(1),T(1),F(!0),document.body.classList.remove("modal-open")},Z=t=>{var e;const n=t._id||t.id,i=Array.isArray(t.upvotes)?t.upvotes.length:t.upvotes||0,r=Array.isArray(t.downvotes)?t.downvotes.length:t.downvotes||0,s={high:"#e63946",medium:"#ffb703",low:"#2a9d8f"}[t.priority]||"#6c757d",o=(t.status||"Reported").toLowerCase().replace(/_/g," "),a={reported:"#ff075eff","in progress":"#1410e2ff",resolved:"#2a703aff",closed:"#6c757d"}[o]||"#999999",l=o.replace(/\b\w/g,t=>t.toUpperCase()),c=(t.upvotes||[]).map(String).includes(String(A)),u=(t.downvotes||[]).map(String).includes(String(A));return(0,Wi.jsxs)("article",{className:"complaint-card","aria-labelledby":"title-".concat(n),children:[(0,Wi.jsxs)("div",{className:"card-image-wrapper",onClick:()=>G(t),children:[(0,Wi.jsxs)("div",{className:"card-badges",children:[(0,Wi.jsxs)("div",{className:"badge-group",children:[(0,Wi.jsx)("span",{className:"badge",style:{background:s},children:(null===(e=t.priority)||void 0===e?void 0:e.toUpperCase())||"N/A"}),(0,Wi.jsx)("span",{className:"badge",style:{background:a},children:l})]}),(0,Wi.jsx)("span",{className:"time-badge",children:Dm(new Date(t.createdAt))})]}),(0,Wi.jsx)("img",{src:t.imageUrls&&t.imageUrls[0]||"/placeholder.jpg",alt:t.title,className:"complaint-image"})]}),(0,Wi.jsxs)("div",{className:"complaint-content",children:[(0,Wi.jsx)("p",{id:"title-".concat(n),className:"complaint-title",children:t.title}),(0,Wi.jsx)("p",{className:"complaint-description",children:t.description||"No description available."})]}),(0,Wi.jsxs)("div",{className:"complaint-actions",children:[(0,Wi.jsxs)("div",{className:"vote-group",children:[(0,Wi.jsxs)("button",{className:"action-btn btn-vote ".concat(c?"active-up":""),onClick:()=>V(n,"up"),title:"Upvote",children:[(0,Wi.jsx)("i",{className:"bi bi-hand-thumbs-up"})," ",i]}),(0,Wi.jsxs)("button",{className:"action-btn btn-vote ".concat(u?"active-down":""),onClick:()=>V(n,"down"),title:"Downvote",children:[(0,Wi.jsx)("i",{className:"bi bi-hand-thumbs-down"}),r]})]}),(0,Wi.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,Wi.jsxs)("button",{className:"action-btn btn-comment",onClick:()=>Y(t),children:[(0,Wi.jsx)("i",{className:"bi bi-chat-left-text"})," ",t.commentsCount||0]}),(0,Wi.jsx)("button",{className:"action-btn btn-view",onClick:()=>G(t),children:(0,Wi.jsx)("i",{className:"bi bi-eye"})})]})]})]},n)};return(0,Wi.jsxs)("div",{className:"view-complaints-page",children:[(0,Wi.jsxs)("div",{className:"complaints-page-header",children:[(0,Wi.jsxs)("div",{className:"header-titles",children:[(0,Wi.jsx)("h1",{children:"Community Reports"}),(0,Wi.jsx)("p",{children:"See what issues your community is reporting and show your support"})]}),(0,Wi.jsxs)("div",{className:"header-controls",children:[(0,Wi.jsxs)("div",{className:"filter-group",children:[(0,Wi.jsx)("label",{children:"Priority"}),(0,Wi.jsxs)("select",{className:"modern-select",value:c,onChange:t=>u(t.target.value),children:[(0,Wi.jsx)("option",{value:"all",children:"All"}),(0,Wi.jsx)("option",{value:"high",children:"High"}),(0,Wi.jsx)("option",{value:"medium",children:"Medium"}),(0,Wi.jsx)("option",{value:"low",children:"Low"})]})]}),(0,Wi.jsxs)("div",{className:"filter-group",children:[(0,Wi.jsx)("label",{children:"Sort By"}),(0,Wi.jsxs)("select",{className:"modern-select",value:h,onChange:t=>d(t.target.value),children:[(0,Wi.jsx)("option",{value:"priority",children:"Priority"}),(0,Wi.jsx)("option",{value:"newest",children:"Newest"}),(0,Wi.jsx)("option",{value:"comments",children:"Most Comments"}),(0,Wi.jsx)("option",{value:"status",children:"Status"})]})]})]})]}),C&&(0,Wi.jsx)("p",{style:{textAlign:"center",color:"#fff"},children:"Loading reports\u2026"}),(0,Wi.jsxs)("div",{className:"complaints-scroll-container",children:[(0,Wi.jsxs)("section",{"aria-label":"Your area reports",children:[(0,Wi.jsx)("h2",{className:"section-title",children:"Reports in your area"}),0===H(r).length?(0,Wi.jsx)("p",{style:{textAlign:"center",color:"var(--g-accent)"},children:"No reports found in your postal code matching current filters."}):(0,Wi.jsx)("div",{className:"complaints-grid",children:H(r).map(Z)})]}),(0,Wi.jsxs)("section",{"aria-label":"Other reports",style:{marginTop:"3rem"},children:[(0,Wi.jsx)("h2",{className:"section-title",children:"Other reports"}),0===H(a).length?(0,Wi.jsx)("p",{style:{textAlign:"center",color:"var(--g-accent)"},children:"No other reports found matching current filters."}):(0,Wi.jsx)("div",{className:"complaints-grid",children:H(a).map(Z)})]})]}),f&&(0,Wi.jsx)("div",{className:"modal-overlay",onClick:K,children:(0,Wi.jsxs)("div",{className:"modal-box",onClick:t=>t.stopPropagation(),children:[(0,Wi.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,Wi.jsx)("h2",{children:f.title}),(0,Wi.jsx)("button",{className:"action-btn",onClick:K,style:{background:"#eee",color:"#333"},children:(0,Wi.jsx)("i",{className:"bi bi-x-lg"})})]}),(0,Wi.jsx)("div",{className:"modal-image-container",children:f.imageUrls&&f.imageUrls.length>0?(0,Wi.jsxs)(Wi.Fragment,{children:[(0,Wi.jsx)("img",{src:f.imageUrls[_],alt:"Evidence",className:"modal-image",onClick:()=>window.open(f.imageUrls[_],"_blank"),style:{cursor:"pointer"},title:"Click to open full image in new tab"}),f.imageUrls.length>1&&(0,Wi.jsxs)(Wi.Fragment,{children:[(0,Wi.jsx)("button",{onClick:()=>{var t;null!==f&&void 0!==f&&null!==(t=f.imageUrls)&&void 0!==t&&t.length&&x(t=>(t-1+f.imageUrls.length)%f.imageUrls.length)},style:{position:"absolute",left:10,background:"rgba(255,255,255,0.8)",border:"none",borderRadius:"50%",width:36,height:36,cursor:"pointer"},children:(0,Wi.jsx)("i",{className:"bi bi-chevron-left"})}),(0,Wi.jsx)("button",{onClick:()=>{var t;null!==f&&void 0!==f&&null!==(t=f.imageUrls)&&void 0!==t&&t.length&&x(t=>(t+1)%f.imageUrls.length)},style:{position:"absolute",right:10,background:"rgba(255,255,255,0.8)",border:"none",borderRadius:"50%",width:36,height:36,cursor:"pointer"},children:(0,Wi.jsx)("i",{className:"bi bi-chevron-right"})})]})]}):(0,Wi.jsx)("p",{style:{color:"#888"},children:"No images provided"})}),(0,Wi.jsxs)("div",{className:"modal-info-row",children:[(0,Wi.jsxs)("div",{className:"info-item",onClick:()=>(t=>{const e=t.address||t.location||t.title;e&&window.open("https://www.google.com/maps/search/?api=1&query=".concat(encodeURIComponent(e)),"_blank")})(f),title:f.address||f.location,style:{cursor:"pointer",alignItems:"flex-start",maxWidth:"90%"},children:[(0,Wi.jsx)("i",{className:"bi bi-geo-alt-fill",style:{marginTop:"4px",flexShrink:0}}),(0,Wi.jsxs)("div",{style:{display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,Wi.jsx)("span",{style:{display:"block",maxWidth:"600px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:f.address||f.location||"Location not set"}),f.landmark&&(0,Wi.jsxs)("span",{style:{fontSize:"0.85rem",color:"#888",marginTop:"2px"},children:["Landmark: ",f.landmark]})]})]}),(0,Wi.jsxs)("div",{className:"info-item",style:{minWidth:"150px"},children:[(0,Wi.jsx)("i",{className:"bi bi-person-fill",style:{flexShrink:0}}),(null===(t=f.reportedBy)||void 0===t?void 0:t.name)||(null===(n=f.reportedBy)||void 0===n?void 0:n.username)||"Anonymous User"]})]}),(0,Wi.jsx)("p",{style:{lineHeight:1.6,color:"#444",marginBottom:"2rem"},children:f.description}),(0,Wi.jsx)("div",{style:{display:"flex",gap:10},children:(0,Wi.jsxs)("button",{className:"action-btn btn-view",onClick:()=>{K(),Y(f)},children:[(0,Wi.jsx)("i",{className:"bi bi-chat-left-text"})," View Discussion"]})})]})}),g&&(0,Wi.jsx)("div",{className:"modal-overlay",onClick:X,children:(0,Wi.jsxs)("div",{className:"modal-box",onClick:t=>t.stopPropagation(),children:[(0,Wi.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,Wi.jsxs)("h2",{children:["Discussion: ",g.title]}),(0,Wi.jsx)("button",{className:"action-btn",onClick:X,style:{background:"#eee",color:"#333"},children:(0,Wi.jsx)("i",{className:"bi bi-x-lg"})})]}),(0,Wi.jsxs)("div",{className:"comments-section",style:{marginTop:"1rem",display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},children:[(0,Wi.jsxs)("div",{style:{display:"flex",gap:10,marginBottom:"1rem"},children:[(0,Wi.jsx)("textarea",{style:{flex:1,padding:10,borderRadius:8,border:"1px solid #ddd"},rows:"2",placeholder:"Write a comment...",value:w,onChange:t=>b(t.target.value)}),(0,Wi.jsx)("button",{className:"action-btn btn-view",onClick:()=>(async t=>{const e=(w||"").trim();if(e&&t)try{var n;const i=localStorage.getItem("token"),r=await qi.post("".concat(Bm,"/api/issues/").concat(t,"/comments"),{text:e},{headers:{Authorization:"Bearer ".concat(i)}});null!==(n=r.data)&&void 0!==n&&n.success&&(r.data.comment&&L(t=>[r.data.comment,...t||[]]),y(e=>o(o({},e||{}),{},{[t]:[r.data.comment,...(null===e||void 0===e?void 0:e[t])||[]]})),r.data.issue?U(r.data.issue):(s(e=>e.map(e=>(e._id||e.id)===t?o(o({},e),{},{commentsCount:(e.commentsCount||0)+1}):e)),l(e=>e.map(e=>(e._id||e.id)===t?o(o({},e),{},{commentsCount:(e.commentsCount||0)+1}):e))),b(""))}catch(i){console.error("Error posting comment:",i),alert("Failed to post comment.")}else e||alert("Please enter a comment.")})(g._id||g.id),style:{height:"fit-content",alignSelf:"center"},children:"Post"})]}),(0,Wi.jsx)("div",{className:"comments-list",style:{overflowY:"auto",flex:1},children:E.length>0?E.map((t,e)=>{const n=t.userId&&"object"===typeof t.userId&&(t.userId.name||t.userId.username)||"User",r=t.userId&&("object"===typeof t.userId?t.userId._id:t.userId.toString())===((null===i||void 0===i?void 0:i._id)||(null===i||void 0===i?void 0:i.id));return(0,Wi.jsxs)("div",{style:{background:"#f9f9f9",padding:"0.8rem",borderRadius:10,marginBottom:"0.5rem",borderLeft:"4px solid var(--g-accent)"},children:[(0,Wi.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:5},children:[(0,Wi.jsx)("strong",{children:n}),(0,Wi.jsx)("span",{style:{fontSize:"0.75rem",color:"#888"},children:Dm(new Date(t.createdAt))})]}),(0,Wi.jsx)("p",{style:{margin:0,color:"#333"},children:t.text}),r&&(0,Wi.jsx)("button",{onClick:()=>(async(t,e)=>{if((await $i().fire({title:"Delete Comment?",text:"This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#005347",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{var n;const i=localStorage.getItem("token");null!==(n=(await qi.delete("".concat(Bm,"/api/issues/").concat(t,"/comments/").concat(e),{headers:{Authorization:"Bearer ".concat(i)}})).data)&&void 0!==n&&n.success&&(L(t=>t.filter(t=>t._id!==e)),s(e=>e.map(e=>(e._id||e.id)===t?o(o({},e),{},{commentsCount:Math.max((e.commentsCount||1)-1,0)}):e)),l(e=>e.map(e=>(e._id||e.id)===t?o(o({},e),{},{commentsCount:Math.max((e.commentsCount||1)-1,0)}):e)),$i().fire({title:"Deleted",icon:"success",timer:1500,showConfirmButton:!1}))}catch(i){console.error("Error deleting comment:",i),$i().fire({title:"Error",text:"Could not delete comment",icon:"error"})}})(g._id||g.id,t._id),style:{background:"none",border:"none",color:"#d33",fontSize:"0.75rem",cursor:"pointer",marginTop:5,padding:0},children:"Delete"})]},e)}):S?(0,Wi.jsx)("p",{children:"Loading..."}):(0,Wi.jsx)("p",{children:"No comments yet."})})]})]})})]})},Um=(t,e,n)=>({icon:t,title:e,text:n,background:"linear-gradient(to bottom, #F0FFF4, #E6F4EA)",color:"#05302f",confirmButtonColor:"#16594f"}),qm=t=>{try{const e=document.createRange(),n=window.getSelection();e.selectNodeContents(t),e.collapse(!1),n.removeAllRanges(),n.addRange(e)}catch(MC){}},Wm=()=>{const{user:t,updateProfile:n}=Gi(),[i,r]=(0,e.useState)("profile"),[s,a]=(0,e.useState)(!1),[l,c]=(0,e.useState)(!1),[u,h]=(0,e.useState)({name:(null===t||void 0===t?void 0:t.name)||"",username:(null===t||void 0===t?void 0:t.username)||"",phone:(null===t||void 0===t?void 0:t.phone)||"",location:(null===t||void 0===t?void 0:t.location)||"",bio:(null===t||void 0===t?void 0:t.bio)||""}),[d,f]=(0,e.useState)(!1),[p,g]=(0,e.useState)(""),[m,v]=(0,e.useState)(!1),[y,w]=(0,e.useState)(""),[b,_]=(0,e.useState)(""),[x,S]=(0,e.useState)(!1),[k,C]=(0,e.useState)(!1),[N,A]=(0,e.useState)(!1);(0,e.useEffect)(()=>{s&&setTimeout(()=>{document.querySelectorAll(".editable-field").forEach(t=>qm(t))},0)},[s]);const E=(t,e)=>{h(n=>o(o({},n),{},{[t]:e}))},L=null!==t&&void 0!==t&&t.name?t.name.charAt(0).toUpperCase():"?";return(0,Wi.jsx)("div",{className:"profile-page",children:(0,Wi.jsxs)("div",{className:"container",children:[(0,Wi.jsx)("div",{className:"profile-header",children:(0,Wi.jsx)("h1",{children:"My Profile"})}),(0,Wi.jsxs)("div",{className:"profile-layout",children:[(0,Wi.jsxs)("div",{className:"profile-sidebar",children:[(0,Wi.jsxs)("div",{className:"users-card",children:[(0,Wi.jsx)("div",{className:"user-avatar",children:L}),(0,Wi.jsxs)("div",{className:"user-info-block",children:[(0,Wi.jsx)("h3",{children:null===t||void 0===t?void 0:t.name}),(0,Wi.jsxs)("p",{children:["@",null===t||void 0===t?void 0:t.username]}),(0,Wi.jsx)("p",{className:"user-role",children:null===t||void 0===t?void 0:t.role})]})]}),(0,Wi.jsxs)("div",{className:"profile-nav",children:[(0,Wi.jsxs)("button",{className:"nav-item ".concat("profile"===i?"active":""),onClick:()=>r("profile"),children:[(0,Wi.jsx)("i",{className:"bi bi-person-fill"})," ",(0,Wi.jsx)("span",{children:"Personal Details"})]}),(0,Wi.jsxs)("button",{className:"nav-item ".concat("security"===i?"active":""),onClick:()=>r("security"),children:[(0,Wi.jsx)("i",{className:"bi bi-lock-fill"})," ",(0,Wi.jsx)("span",{children:"Security & Privacy"})]})]})]}),(0,Wi.jsxs)("div",{className:"profile-content ".concat(s?"editing":""),children:["profile"===i&&(0,Wi.jsxs)(Wi.Fragment,{children:[(0,Wi.jsxs)("div",{className:"tab-header",children:[(0,Wi.jsx)("h2",{children:s?"Edit Profile":"Personal Details"}),!s&&(0,Wi.jsxs)("button",{className:"btn btn-secondarys",onClick:()=>a(!0),children:[(0,Wi.jsx)("i",{className:"bi bi-pencil-square"})," Edit"]})]}),(0,Wi.jsxs)("div",{className:"profile-grid",children:[(0,Wi.jsxs)("div",{className:"inline-two",children:[(0,Wi.jsxs)("div",{className:"inline-group",children:[(0,Wi.jsx)("label",{children:"Name"}),(0,Wi.jsx)("div",{className:"editable-field",contentEditable:s,suppressContentEditableWarning:!0,onBlur:t=>E("name",t.currentTarget.innerText),onKeyDown:t=>{"Enter"===t.key&&t.ctrlKey&&(t.preventDefault(),t.currentTarget.blur())},children:u.name})]}),(0,Wi.jsxs)("div",{className:"inline-group",children:[(0,Wi.jsx)("label",{children:"Username"}),(0,Wi.jsx)("div",{className:"editable-field",contentEditable:s,suppressContentEditableWarning:!0,onBlur:t=>E("username",t.currentTarget.innerText),onKeyDown:t=>{"Enter"===t.key&&t.ctrlKey&&(t.preventDefault(),t.currentTarget.blur())},children:u.username})]})]}),(0,Wi.jsxs)("div",{className:"inline-group",children:[(0,Wi.jsx)("label",{children:"Location"}),(0,Wi.jsxs)("div",{className:"location-row",children:[(0,Wi.jsx)("div",{className:"editable-field location-text",contentEditable:s,suppressContentEditableWarning:!0,onBlur:t=>E("location",t.currentTarget.innerText),onKeyDown:t=>{"Enter"===t.key&&t.ctrlKey&&(t.preventDefault(),t.currentTarget.blur())},children:u.location}),s&&(0,Wi.jsx)("button",{className:"location-btn",onClick:()=>{navigator.geolocation?(c(!0),navigator.geolocation.getCurrentPosition(async t=>{const e=t.coords.latitude,n=t.coords.longitude;let i="Lat: ".concat(e.toFixed(6),", Lng: ").concat(n.toFixed(6));try{const t=await So(n,e);t&&(i=t)}catch(r){}E("location",i),c(!1),setTimeout(()=>{const t=document.querySelector(".editable-field.location-text");t&&qm(t)},0)},t=>{c(!1),$i().fire(Um("error","Location error",(null===t||void 0===t?void 0:t.message)||"Unable to fetch location."))},{enableHighAccuracy:!0,timeout:1e4})):$i().fire(Um("warning","Not supported","Geolocation is not supported by this browser."))},disabled:l,children:l?"...":(0,Wi.jsx)("i",{className:"bi bi-geo-alt-fill"})})]})]}),(0,Wi.jsxs)("div",{className:"inline-group",children:[(0,Wi.jsx)("label",{children:"Bio"}),(0,Wi.jsx)("div",{className:"editable-field bio-field",contentEditable:s,suppressContentEditableWarning:!0,onBlur:t=>E("bio",t.currentTarget.innerText),onKeyDown:t=>{"Enter"===t.key&&t.ctrlKey&&(t.preventDefault(),t.currentTarget.blur())},children:u.bio})]}),(0,Wi.jsxs)("div",{className:"inline-row-action",children:[(0,Wi.jsxs)("div",{className:"inline-group phone-field",children:[(0,Wi.jsx)("label",{children:"Phone"}),(0,Wi.jsx)("div",{className:"editable-field",contentEditable:s,suppressContentEditableWarning:!0,onBlur:t=>E("phone",t.currentTarget.innerText),onKeyDown:t=>{"Enter"===t.key&&t.ctrlKey&&(t.preventDefault(),t.currentTarget.blur())},children:u.phone})]}),s&&(0,Wi.jsxs)("div",{className:"action-buttons-inline",children:[(0,Wi.jsx)("button",{className:"btn btn-outline",onClick:()=>{a(!1),h({name:(null===t||void 0===t?void 0:t.name)||"",username:(null===t||void 0===t?void 0:t.username)||"",phone:(null===t||void 0===t?void 0:t.phone)||"",location:(null===t||void 0===t?void 0:t.location)||"",bio:(null===t||void 0===t?void 0:t.bio)||""})},children:"Cancel"}),(0,Wi.jsx)("button",{className:"btn btn-primary",onClick:async()=>{try{const t=await n({name:u.name,username:u.username,phone:u.phone,location:u.location,bio:u.bio});null!==t&&void 0!==t&&t.success?($i().fire(Um("success","Saved",t.message||"Profile updated")),a(!1)):$i().fire(Um("error","Error",(null===t||void 0===t?void 0:t.message)||"Update failed"))}catch(t){$i().fire(Um("error","Error","Unexpected error saving profile"))}},children:"Save"})]})]})]})]}),"security"===i&&(0,Wi.jsxs)("div",{className:"security-fields",children:[(0,Wi.jsx)("h2",{children:"Password Reset"}),(0,Wi.jsx)("label",{children:"Email"}),(0,Wi.jsx)("p",{children:(null===t||void 0===t?void 0:t.email)||"No email set"}),(0,Wi.jsxs)("div",{className:"security-line",children:[(0,Wi.jsx)("input",{type:"text",className:"security-input",placeholder:"OTP",value:p,onChange:t=>g(t.target.value)}),d?m?(0,Wi.jsx)("span",{className:"verified",children:"\u2713 Verified"}):(0,Wi.jsx)("button",{className:"btn btn-primary",onClick:async()=>{if(p)try{var e;C(!0);const n=await qi.post("http://localhost:5000/api/auth/verify-otp-only",{email:t.email,otp:p});null!==n&&void 0!==n&&null!==(e=n.data)&&void 0!==e&&e.success?(v(!0),$i().fire(Um("success","Verified","OTP verified."))):$i().fire(Um("error","Invalid","Invalid OTP."))}catch(n){$i().fire(Um("error","Error","Server error verifying OTP."))}finally{C(!1)}},disabled:k,children:k?"Verifying...":"Verify OTP"}):(0,Wi.jsx)("button",{className:"btn btn-primary",onClick:async()=>{if(null!==t&&void 0!==t&&t.email)try{var e;S(!0);const i=await qi.post("http://localhost:5000/api/auth/send-otp",{email:t.email});var n;if(null!==i&&void 0!==i&&null!==(e=i.data)&&void 0!==e&&e.success)f(!0),$i().fire(Um("success","OTP Sent","Check your email."));else $i().fire(Um("error","Error",(null===(n=i.data)||void 0===n?void 0:n.message)||"Failed."))}catch(i){$i().fire(Um("error","Error","Server error sending OTP."))}finally{S(!1)}else $i().fire(Um("warning","No email","Your account doesn't have an email."))},disabled:x,children:x?"Sending...":"Send OTP"})]}),m&&(0,Wi.jsxs)(Wi.Fragment,{children:[(0,Wi.jsx)("input",{type:"password",className:"security-input",placeholder:"New Password",value:y,onChange:t=>w(t.target.value)}),(0,Wi.jsx)("input",{type:"password",className:"security-input",placeholder:"Confirm Password",value:b,onChange:t=>_(t.target.value)}),(0,Wi.jsx)("button",{className:"btn btn-primary",onClick:async()=>{if(m)if(y===b)try{var e;A(!0);const n=await qi.post("http://localhost:5000/api/auth/reset-password",{email:t.email,otp:p,newPassword:y});null!==n&&void 0!==n&&null!==(e=n.data)&&void 0!==e&&e.success?($i().fire(Um("success","Updated","Password updated.")),g(""),f(!1),v(!1),w(""),_("")):$i().fire(Um("error","Error","Failed to update password."))}catch(n){$i().fire(Um("error","Error","Server error."))}finally{A(!1)}else $i().fire(Um("error","Mismatch","Passwords don't match."));else $i().fire(Um("warning","OTP required","Please verify OTP first."))},disabled:N,children:N?"Updating...":"Update Password"})]})]})]})]})]})})},Hm={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000",Vm=()=>{const{user:t}=Gi(),n="globaladmin"===(null===t||void 0===t?void 0:t.role),[i,r]=(0,e.useState)({totalIssues:0,pending:0,inProgress:0,resolved:0}),[s,o]=(0,e.useState)([]),[a,l]=(0,e.useState)([]),[c,u]=(0,e.useState)(!1),h=(0,e.useRef)(null),d=(0,e.useRef)(null),f=(0,e.useRef)(new Pm),p=(0,e.useRef)(new fm({source:f.current})),g=(0,e.useCallback)(async()=>{if(t)try{var e,i,s,a,c;const u=localStorage.getItem("token");if(!u)return;const h=await qi.get("".concat(Hm,"/api/issues"),{headers:{Authorization:"Bearer ".concat(u)}}),d=[null===(e=h.data)||void 0===e?void 0:e.localIssues,null===(i=h.data)||void 0===i?void 0:i.myAreaReports,null===(s=h.data)||void 0===s?void 0:s.otherIssues,null===(a=h.data)||void 0===a?void 0:a.otherReports,null===(c=h.data)||void 0===c?void 0:c.issues],f=[];d.forEach(t=>Array.isArray(t)&&f.push(...t)),0===f.length&&Array.isArray(h.data)&&f.push(...h.data);const p=new Set,g=[];for(const t of f){const e=(null===t||void 0===t?void 0:t._id)||(null===t||void 0===t?void 0:t.id);e&&(p.has(e)||(p.add(e),g.push(t)))}const m=((null===t||void 0===t?void 0:t.postalCode)||"").trim();let v=[];v=n?g:g.filter(t=>(t.postalCode||"").toString().trim()===m);const y=[...v].sort((t,e)=>new Date(e.createdAt)-new Date(t.createdAt));o(y.slice(0,4)),r({totalIssues:v.length,pending:v.filter(t=>"reported"===(t.status||"").toLowerCase()).length,inProgress:v.filter(t=>"in progress"===(t.status||"").toLowerCase()).length,resolved:v.filter(t=>"resolved"===(t.status||"").toLowerCase()).length}),l(v)}catch(u){console.error("Error fetching issues:",u)}},[t,n]);(0,e.useEffect)(()=>{t&&g()},[t,g]),(0,e.useEffect)(()=>{if(!c||!t)return;return(async()=>{let e;e=n?{lat:20.5937,lng:78.9629}:await(async(t,e)=>{try{const n=t||e,i=await fetch("https://nominatim.openstreetmap.org/search?format=json&q=".concat(encodeURIComponent(n))),r=await i.json();return r.length>0?{lat:parseFloat(r[0].lat),lng:parseFloat(r[0].lon)}:{lat:17.385,lng:78.4867}}catch(n){return{lat:17.385,lng:78.4867}}})(t.postalCode,t.location);const i=ao([e.lng,e.lat]);d.current?(d.current.setTarget(h.current),d.current.getView().setCenter(i),d.current.getView().setZoom(n?5:14)):d.current=new mp({target:h.current,layers:[new Zp({source:new bg}),p.current],view:new oc({center:i,zoom:n?5:14})}),f.current.clear();const r=a.map(t=>{var e,n,i,r,s,o;const a=(null===(e=t.location)||void 0===e?void 0:e.lng)||t.longitude||(null===(n=t.location)||void 0===n||null===(i=n.coordinates)||void 0===i?void 0:i[0]),l=(null===(r=t.location)||void 0===r?void 0:r.lat)||t.latitude||(null===(s=t.location)||void 0===s||null===(o=s.coordinates)||void 0===o?void 0:o[1]);if(!a||!l)return null;const c=(t.priority||"").toLowerCase();let u=jm;"high"===c?u=Rm:"medium"===c&&(u=Tm);const h=new xg({geometry:new Ol(ao([Number(a),Number(l)]))});return h.setStyle(new Of({image:new Lf({src:u,scale:.06,anchor:[.5,1]})})),h}).filter(Boolean);f.current.addFeatures(r),setTimeout(()=>{d.current.updateSize()},200)})(),()=>{d.current&&d.current.setTarget(null)}},[c,a,t,n]);const m=t=>{const e=(t||"").toLowerCase().replace(" ","");return"status-".concat(e)};return(0,Wi.jsxs)("div",{className:"dashboard-page",children:[(0,Wi.jsxs)("header",{className:"dashboard-header",children:[(0,Wi.jsx)("h1",{className:"dashboard-title",children:n?"Admin Overview":"Community Dashboard"}),(0,Wi.jsx)("p",{className:"dashboard-subtitle",children:n?"Monitor complaints and activities across all regions.":"Track issues in your area and contribute to a cleaner community."})]}),(0,Wi.jsxs)("div",{className:"stats-grids",children:[(0,Wi.jsxs)("div",{className:"stat-cards",children:[(0,Wi.jsx)("div",{className:"stat-icon-wrappers",children:(0,Wi.jsx)("i",{className:"bi bi-grid-fill"})}),(0,Wi.jsxs)("div",{className:"stat-labels",children:[(0,Wi.jsx)("i",{className:"bi bi-files"})," Total Issues"]}),(0,Wi.jsx)("div",{className:"stat-values",children:i.totalIssues})]}),(0,Wi.jsxs)("div",{className:"stat-cards",children:[(0,Wi.jsx)("div",{className:"stat-icon-wrappers",children:(0,Wi.jsx)("i",{className:"bi bi-clock-history"})}),(0,Wi.jsxs)("div",{className:"stat-labels",children:[(0,Wi.jsx)("i",{className:"bi bi-clock"})," Pending"]}),(0,Wi.jsx)("div",{className:"stat-values",children:i.pending})]}),(0,Wi.jsxs)("div",{className:"stat-cards",children:[(0,Wi.jsx)("div",{className:"stat-icon-wrappers",children:(0,Wi.jsx)("i",{className:"bi bi-tools"})}),(0,Wi.jsxs)("div",{className:"stat-labels",children:[(0,Wi.jsx)("i",{className:"bi bi-hourglass-split"})," In Progress"]}),(0,Wi.jsx)("div",{className:"stat-values",children:i.inProgress})]}),(0,Wi.jsxs)("div",{className:"stat-cards",children:[(0,Wi.jsx)("div",{className:"stat-icon-wrappers",children:(0,Wi.jsx)("i",{className:"bi bi-check-circle-fill"})}),(0,Wi.jsxs)("div",{className:"stat-labels",children:[(0,Wi.jsx)("i",{className:"bi bi-check2-circle"})," Resolved"]}),(0,Wi.jsx)("div",{className:"stat-values",children:i.resolved})]})]}),(0,Wi.jsxs)("div",{className:"dashboard-content",children:[(0,Wi.jsxs)("div",{className:"content-section",children:[(0,Wi.jsxs)("h3",{className:"section-titles",children:[n?"Global Activity":"Recent Reports",(0,Wi.jsx)("i",{className:"bi bi-activity",style:{opacity:.5}})]}),(0,Wi.jsx)("div",{className:"activity-list",children:s.length>0?s.map(t=>(0,Wi.jsxs)("div",{className:"activity-item",children:[(0,Wi.jsxs)("div",{className:"activity-info",children:[(0,Wi.jsx)("div",{className:"activity-icon",children:(0,Wi.jsx)("i",{className:"bi ".concat("resolved"===t.status?"bi-check-lg":"bi-exclamation-lg")})}),(0,Wi.jsxs)("div",{className:"activity-details",children:[(0,Wi.jsx)("h4",{children:t.title}),(0,Wi.jsxs)("p",{children:[new Date(t.createdAt).toLocaleDateString()," \u2022"," ",new Date(t.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),(0,Wi.jsx)("span",{className:"status-badge ".concat(m(t.status||"reported")),children:t.status||"Reported"})]},t._id)):(0,Wi.jsx)("div",{className:"no-data",children:"No recent activity found."})})]}),(0,Wi.jsxs)("div",{className:"content-section",style:{height:"fit-content"},children:[(0,Wi.jsx)("h3",{className:"section-titles",children:"Quick Actions"}),(0,Wi.jsxs)("div",{className:"actions-grid",children:[(0,Wi.jsxs)(fe,{to:"/report-issue",className:"dashboard-btn btn-primary",children:[(0,Wi.jsx)("i",{className:"bi bi-plus-circle-fill"})," Report Issue"]}),(0,Wi.jsxs)(fe,{to:"/complaints",className:"dashboard-btn btn-secondary",children:[(0,Wi.jsx)("i",{className:"bi bi-list-check"})," Manage Complaints"]}),(0,Wi.jsxs)("button",{className:"dashboard-btn btn-tertiary",onClick:()=>u(!0),children:[(0,Wi.jsx)("i",{className:"bi bi-map-fill"})," View Map"]})]})]})]}),c&&(0,Wi.jsx)("div",{className:"modal-overlay",onClick:()=>u(!1),children:(0,Wi.jsxs)("div",{className:"modal-content",onClick:t=>t.stopPropagation(),children:[(0,Wi.jsxs)("div",{className:"modal-header",children:[(0,Wi.jsx)("h2",{children:"Issue Map"}),(0,Wi.jsx)("button",{className:"btn-close-icon",onClick:()=>u(!1),children:(0,Wi.jsx)("i",{className:"bi bi-x-lg"})})]}),(0,Wi.jsx)("div",{ref:h,className:"map-wrapper"})]})})]})};var Gm=n(694),Km=Uint8Array,Ym=Uint16Array,Xm=Int32Array,Zm=new Km([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Jm=new Km([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),$m=new Km([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Qm=function(t,e){for(var n=new Ym(31),i=0;i<31;++i)n[i]=e+=1<<t[i-1];var r=new Xm(n[30]);for(i=1;i<30;++i)for(var s=n[i];s<n[i+1];++s)r[s]=s-n[i]<<5|i;return{b:n,r:r}},tv=Qm(Zm,2),ev=tv.b,nv=tv.r;ev[28]=258,nv[258]=28;for(var iv=Qm(Jm,0),rv=(iv.b,iv.r),sv=new Ym(32768),ov=0;ov<32768;++ov){var av=(43690&ov)>>1|(21845&ov)<<1;av=(61680&(av=(52428&av)>>2|(13107&av)<<2))>>4|(3855&av)<<4,sv[ov]=((65280&av)>>8|(255&av)<<8)>>1}var lv=function(t,e,n){for(var i=t.length,r=0,s=new Ym(e);r<i;++r)t[r]&&++s[t[r]-1];var o,a=new Ym(e);for(r=1;r<e;++r)a[r]=a[r-1]+s[r-1]<<1;if(n){o=new Ym(1<<e);var l=15-e;for(r=0;r<i;++r)if(t[r])for(var c=r<<4|t[r],u=e-t[r],h=a[t[r]-1]++<<u,d=h|(1<<u)-1;h<=d;++h)o[sv[h]>>l]=c}else for(o=new Ym(i),r=0;r<i;++r)t[r]&&(o[r]=sv[a[t[r]-1]++]>>15-t[r]);return o},cv=new Km(288);for(ov=0;ov<144;++ov)cv[ov]=8;for(ov=144;ov<256;++ov)cv[ov]=9;for(ov=256;ov<280;++ov)cv[ov]=7;for(ov=280;ov<288;++ov)cv[ov]=8;var uv=new Km(32);for(ov=0;ov<32;++ov)uv[ov]=5;var hv=lv(cv,9,0),dv=lv(uv,5,0),fv=function(t){return(t+7)/8|0},pv=function(t,e,n){return(null==e||e<0)&&(e=0),(null==n||n>t.length)&&(n=t.length),new Km(t.subarray(e,n))},gv=function(t,e,n){n<<=7&e;var i=e/8|0;t[i]|=n,t[i+1]|=n>>8},mv=function(t,e,n){n<<=7&e;var i=e/8|0;t[i]|=n,t[i+1]|=n>>8,t[i+2]|=n>>16},vv=function(t,e){for(var n=[],i=0;i<t.length;++i)t[i]&&n.push({s:i,f:t[i]});var r=n.length,s=n.slice();if(!r)return{t:kv,l:0};if(1==r){var o=new Km(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(t,e){return t.f-e.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,h=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=r-1;)a=n[n[c].f<n[h].f?c++:h++],l=n[c!=u&&n[c].f<n[h].f?c++:h++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};var d=s[0].s;for(i=1;i<r;++i)s[i].s>d&&(d=s[i].s);var f=new Ym(d+1),p=yv(n[u-1],f,0);if(p>e){i=0;var g=0,m=p-e,v=1<<m;for(s.sort(function(t,e){return f[e.s]-f[t.s]||t.f-e.f});i<r;++i){var y=s[i].s;if(!(f[y]>e))break;g+=v-(1<<p-f[y]),f[y]=e}for(g>>=m;g>0;){var w=s[i].s;f[w]<e?g-=1<<e-f[w]++-1:++i}for(;i>=0&&g;--i){var b=s[i].s;f[b]==e&&(--f[b],++g)}p=e}return{t:new Km(f),l:p}},yv=function(t,e,n){return-1==t.s?Math.max(yv(t.l,e,n+1),yv(t.r,e,n+1)):e[t.s]=n},wv=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Ym(++e),i=0,r=t[0],s=1,o=function(t){n[i++]=t},a=1;a<=e;++a)if(t[a]==r&&a!=e)++s;else{if(!r&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(r),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(r);s=1,r=t[a]}return{c:n.subarray(0,i),n:e}},bv=function(t,e){for(var n=0,i=0;i<e.length;++i)n+=t[i]*e[i];return n},_v=function(t,e,n){var i=n.length,r=fv(e+2);t[r]=255&i,t[r+1]=i>>8,t[r+2]=255^t[r],t[r+3]=255^t[r+1];for(var s=0;s<i;++s)t[r+s+4]=n[s];return 8*(r+4+i)},xv=function(t,e,n,i,r,s,o,a,l,c,u){gv(e,u++,n),++r[256];for(var h=vv(r,15),d=h.t,f=h.l,p=vv(s,15),g=p.t,m=p.l,v=wv(d),y=v.c,w=v.n,b=wv(g),_=b.c,x=b.n,S=new Ym(19),k=0;k<y.length;++k)++S[31&y[k]];for(k=0;k<_.length;++k)++S[31&_[k]];for(var C=vv(S,7),N=C.t,A=C.l,E=19;E>4&&!N[$m[E-1]];--E);var L,P,j,R,T=c+5<<3,I=bv(r,cv)+bv(s,uv)+o,F=bv(r,d)+bv(s,g)+o+14+3*E+bv(S,N)+2*S[16]+3*S[17]+7*S[18];if(l>=0&&T<=I&&T<=F)return _v(e,u,t.subarray(l,l+c));if(gv(e,u,1+(F<I)),u+=2,F<I){L=lv(d,f,0),P=d,j=lv(g,m,0),R=g;var O=lv(N,A,0);gv(e,u,w-257),gv(e,u+5,x-1),gv(e,u+10,E-4),u+=14;for(k=0;k<E;++k)gv(e,u+3*k,N[$m[k]]);u+=3*E;for(var M=[y,_],D=0;D<2;++D){var B=M[D];for(k=0;k<B.length;++k){var z=31&B[k];gv(e,u,O[z]),u+=N[z],z>15&&(gv(e,u,B[k]>>5&127),u+=B[k]>>12)}}}else L=hv,P=cv,j=dv,R=uv;for(k=0;k<a;++k){var U=i[k];if(U>255){mv(e,u,L[(z=U>>18&31)+257]),u+=P[z+257],z>7&&(gv(e,u,U>>23&31),u+=Zm[z]);var q=31&U;mv(e,u,j[q]),u+=R[q],q>3&&(mv(e,u,U>>5&8191),u+=Jm[q])}else mv(e,u,L[U]),u+=P[U]}return mv(e,u,L[256]),u+P[256]},Sv=new Xm([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),kv=new Km(0),Cv=function(t,e,n,i,r,s){var o=s.z||t.length,a=new Km(i+o+5*(1+Math.ceil(o/7e3))+r),l=a.subarray(i,a.length-r),c=s.l,u=7&(s.r||0);if(e){u&&(l[0]=s.r>>3);for(var h=Sv[e-1],d=h>>13,f=8191&h,p=(1<<n)-1,g=s.p||new Ym(32768),m=s.h||new Ym(p+1),v=Math.ceil(n/3),y=2*v,w=function(e){return(t[e]^t[e+1]<<v^t[e+2]<<y)&p},b=new Xm(25e3),_=new Ym(288),x=new Ym(32),S=0,k=0,C=s.i||0,N=0,A=s.w||0,E=0;C+2<o;++C){var L=w(C),P=32767&C,j=m[L];if(g[P]=j,m[L]=P,A<=C){var R=o-C;if((S>7e3||N>24576)&&(R>423||!c)){u=xv(t,l,0,b,_,x,k,N,E,C-E,u),N=S=k=0,E=C;for(var T=0;T<286;++T)_[T]=0;for(T=0;T<30;++T)x[T]=0}var I=2,F=0,O=f,M=P-j&32767;if(R>2&&L==w(C-M))for(var D=Math.min(d,R)-1,B=Math.min(32767,C),z=Math.min(258,R);M<=B&&--O&&P!=j;){if(t[C+I]==t[C+I-M]){for(var U=0;U<z&&t[C+U]==t[C+U-M];++U);if(U>I){if(I=U,F=M,U>D)break;var q=Math.min(M,U-2),W=0;for(T=0;T<q;++T){var H=C-M+T&32767,V=H-g[H]&32767;V>W&&(W=V,j=H)}}}M+=(P=j)-(j=g[P])&32767}if(F){b[N++]=268435456|nv[I]<<18|rv[F];var G=31&nv[I],K=31&rv[F];k+=Zm[G]+Jm[K],++_[257+G],++x[K],A=C+I,++S}else b[N++]=t[C],++_[t[C]]}}for(C=Math.max(C,A);C<o;++C)b[N++]=t[C],++_[t[C]];u=xv(t,l,c,b,_,x,k,N,E,C-E,u),c||(s.r=7&u|l[u/8|0]<<3,u-=7,s.h=m,s.p=g,s.i=C,s.w=A)}else{for(C=s.w||0;C<o+c;C+=65535){var Y=C+65535;Y>=o&&(l[u/8|0]=c,Y=o),u=_v(l,u+1,t.subarray(C,Y))}s.i=o}return pv(a,0,i+fv(u)+r)},Nv=function(){var t=1,e=0;return{p:function(n){for(var i=t,r=e,s=0|n.length,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)r+=i+=n[o];i=(65535&i)+15*(i>>16),r=(65535&r)+15*(r>>16)}t=i,e=r},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(e%=65521))<<8|e>>8}}},Av=function(t,e,n,i,r){if(!r&&(r={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Km(s.length+t.length);o.set(s),o.set(t,s.length),t=o,r.w=s.length}return Cv(t,null==e.level?6:e.level,null==e.mem?r.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):20:12+e.mem,n,i,r)},Ev=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},Lv=function(t,e){var n=e.level,i=0==n?0:n<6?1:9==n?3:2;if(t[0]=120,t[1]=i<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var r=Nv();r.p(e.dictionary),Ev(t,2,r.d())}};function Pv(t,e){e||(e={});var n=Nv();n.p(t);var i=Av(t,e,e.dictionary?6:2,4);return Lv(i,e),Ev(i,i.length-4,n.d()),i}var jv="undefined"!=typeof TextDecoder&&new TextDecoder;try{jv.decode(kv,{stream:!0})}catch(MC){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;function Rv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function Tv(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=s.call(n)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Rv(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rv(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Iv(t){return new TextDecoder(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8").decode(t)}const Fv=new TextEncoder;const Ov=(()=>{const t=new Uint8Array(4);return!((new Uint32Array(t.buffer)[0]=1)&t[0])})(),Mv={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Dv{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8192,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.A)(this,"buffer",void 0),(0,r.A)(this,"byteLength",void 0),(0,r.A)(this,"byteOffset",void 0),(0,r.A)(this,"length",void 0),(0,r.A)(this,"offset",void 0),(0,r.A)(this,"lastWrittenByte",void 0),(0,r.A)(this,"littleEndian",void 0),(0,r.A)(this,"_data",void 0),(0,r.A)(this,"_mark",void 0),(0,r.A)(this,"_marks",void 0);let n=!1;"number"===typeof t?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const i=e.offset?e.offset>>>0:0,s=t.byteLength-i;let o=i;(ArrayBuffer.isView(t)||t instanceof Dv)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+i),t=t.buffer),this.lastWrittenByte=n?s:0,this.buffer=t,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+=t,this}back(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(void 0===t)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.available(t)){const e=2*(this.offset+t),n=new Uint8Array(e);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=e,this.byteLength=e,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.readArray(t,"uint8")}readArray(t,e){const n=Mv[e].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,r=this.buffer.slice(i,i+n);if(this.littleEndian===Ov&&"uint8"!==e&&"int8"!==e){const t=new Uint8Array(this.buffer.slice(i,i+n));t.reverse();const r=new Mv[e](t.buffer);return this.offset+=n,r.reverse(),r}const s=new Mv[e](r);return this.offset+=n,s}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e="";for(let n=0;n<t;n++)e+=this.readChar();return e}readUtf8(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Iv(this.readBytes(t))}decodeText(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";return Iv(this.readBytes(t),e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes(function(t){return Fv.encode(t)}(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Bv(t){let e=t.length;for(;--e>=0;)t[e]=0}const zv=256,Uv=286,qv=30,Wv=15,Hv=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Vv=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Gv=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Kv=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Yv=new Array(576);Bv(Yv);const Xv=new Array(60);Bv(Xv);const Zv=new Array(512);Bv(Zv);const Jv=new Array(256);Bv(Jv);const $v=new Array(29);Bv($v);const Qv=new Array(qv);function ty(t,e,n,i,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=t&&t.length}let ey,ny,iy;function ry(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}Bv(Qv);const sy=t=>t<256?Zv[t]:Zv[256+(t>>>7)],oy=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},ay=(t,e,n)=>{t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,oy(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},ly=(t,e,n)=>{ay(t,n[2*e],n[2*e+1])},cy=(t,e)=>{let n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1},uy=(t,e,n)=>{const i=new Array(16);let r,s,o=0;for(r=1;r<=Wv;r++)o=o+n[r-1]<<1,i[r]=o;for(s=0;s<=e;s++){let e=t[2*s+1];0!==e&&(t[2*s]=cy(i[e]++,e))}},hy=t=>{let e;for(e=0;e<Uv;e++)t.dyn_ltree[2*e]=0;for(e=0;e<qv;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},dy=t=>{t.bi_valid>8?oy(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},fy=(t,e,n,i)=>{const r=2*e,s=2*n;return t[r]<t[s]||t[r]===t[s]&&i[e]<=i[n]},py=(t,e,n)=>{const i=t.heap[n];let r=n<<1;for(;r<=t.heap_len&&(r<t.heap_len&&fy(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!fy(e,i,t.heap[r],t.depth));)t.heap[n]=t.heap[r],n=r,r<<=1;t.heap[n]=i},gy=(t,e,n)=>{let i,r,s,o,a=0;if(0!==t.sym_next)do{i=255&t.pending_buf[t.sym_buf+a++],i+=(255&t.pending_buf[t.sym_buf+a++])<<8,r=t.pending_buf[t.sym_buf+a++],0===i?ly(t,r,e):(s=Jv[r],ly(t,s+zv+1,e),o=Hv[s],0!==o&&(r-=$v[s],ay(t,r,o)),i--,s=sy(i),ly(t,s,n),o=Vv[s],0!==o&&(i-=Qv[s],ay(t,i,o)))}while(a<t.sym_next);ly(t,256,e)},my=(t,e)=>{const n=e.dyn_tree,i=e.stat_desc.static_tree,r=e.stat_desc.has_stree,s=e.stat_desc.elems;let o,a,l,c=-1;for(t.heap_len=0,t.heap_max=573,o=0;o<s;o++)0!==n[2*o]?(t.heap[++t.heap_len]=c=o,t.depth[o]=0):n[2*o+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=c<2?++c:0,n[2*l]=1,t.depth[l]=0,t.opt_len--,r&&(t.static_len-=i[2*l+1]);for(e.max_code=c,o=t.heap_len>>1;o>=1;o--)py(t,n,o);l=s;do{o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],py(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=a,n[2*l]=n[2*o]+n[2*a],t.depth[l]=(t.depth[o]>=t.depth[a]?t.depth[o]:t.depth[a])+1,n[2*o+1]=n[2*a+1]=l,t.heap[1]=l++,py(t,n,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const n=e.dyn_tree,i=e.max_code,r=e.stat_desc.static_tree,s=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,l=e.stat_desc.max_length;let c,u,h,d,f,p,g=0;for(d=0;d<=Wv;d++)t.bl_count[d]=0;for(n[2*t.heap[t.heap_max]+1]=0,c=t.heap_max+1;c<573;c++)u=t.heap[c],d=n[2*n[2*u+1]+1]+1,d>l&&(d=l,g++),n[2*u+1]=d,u>i||(t.bl_count[d]++,f=0,u>=a&&(f=o[u-a]),p=n[2*u],t.opt_len+=p*(d+f),s&&(t.static_len+=p*(r[2*u+1]+f)));if(0!==g){do{for(d=l-1;0===t.bl_count[d];)d--;t.bl_count[d]--,t.bl_count[d+1]+=2,t.bl_count[l]--,g-=2}while(g>0);for(d=l;0!==d;d--)for(u=t.bl_count[d];0!==u;)h=t.heap[--c],h>i||(n[2*h+1]!==d&&(t.opt_len+=(d-n[2*h+1])*n[2*h],n[2*h+1]=d),u--)}})(t,e),uy(n,c,t.bl_count)},vy=(t,e,n)=>{let i,r,s=-1,o=e[1],a=0,l=7,c=4;for(0===o&&(l=138,c=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)r=o,o=e[2*(i+1)+1],++a<l&&r===o||(a<c?t.bl_tree[2*r]+=a:0!==r?(r!==s&&t.bl_tree[2*r]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,s=r,0===o?(l=138,c=3):r===o?(l=6,c=3):(l=7,c=4))},yy=(t,e,n)=>{let i,r,s=-1,o=e[1],a=0,l=7,c=4;for(0===o&&(l=138,c=3),i=0;i<=n;i++)if(r=o,o=e[2*(i+1)+1],!(++a<l&&r===o)){if(a<c)do{ly(t,r,t.bl_tree)}while(0!==--a);else 0!==r?(r!==s&&(ly(t,r,t.bl_tree),a--),ly(t,16,t.bl_tree),ay(t,a-3,2)):a<=10?(ly(t,17,t.bl_tree),ay(t,a-3,3)):(ly(t,18,t.bl_tree),ay(t,a-11,7));a=0,s=r,0===o?(l=138,c=3):r===o?(l=6,c=3):(l=7,c=4)}};let wy=!1;const by=(t,e,n,i)=>{ay(t,0+(i?1:0),3),dy(t),oy(t,n),oy(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n};var _y=t=>{wy||((()=>{let t,e,n,i,r;const s=new Array(16);for(n=0,i=0;i<28;i++)for($v[i]=n,t=0;t<1<<Hv[i];t++)Jv[n++]=i;for(Jv[n-1]=i,r=0,i=0;i<16;i++)for(Qv[i]=r,t=0;t<1<<Vv[i];t++)Zv[r++]=i;for(r>>=7;i<qv;i++)for(Qv[i]=r<<7,t=0;t<1<<Vv[i]-7;t++)Zv[256+r++]=i;for(e=0;e<=Wv;e++)s[e]=0;for(t=0;t<=143;)Yv[2*t+1]=8,t++,s[8]++;for(;t<=255;)Yv[2*t+1]=9,t++,s[9]++;for(;t<=279;)Yv[2*t+1]=7,t++,s[7]++;for(;t<=287;)Yv[2*t+1]=8,t++,s[8]++;for(uy(Yv,287,s),t=0;t<qv;t++)Xv[2*t+1]=5,Xv[2*t]=cy(t,5);ey=new ty(Yv,Hv,257,Uv,Wv),ny=new ty(Xv,Vv,0,qv,Wv),iy=new ty(new Array(0),Gv,0,19,7)})(),wy=!0),t.l_desc=new ry(t.dyn_ltree,ey),t.d_desc=new ry(t.dyn_dtree,ny),t.bl_desc=new ry(t.bl_tree,iy),t.bi_buf=0,t.bi_valid=0,hy(t)},xy=(t,e,n,i)=>{let r,s,o=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<zv;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),my(t,t.l_desc),my(t,t.d_desc),o=(t=>{let e;for(vy(t,t.dyn_ltree,t.l_desc.max_code),vy(t,t.dyn_dtree,t.d_desc.max_code),my(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*Kv[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),r=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=r&&(r=s)):r=s=n+5,n+4<=r&&-1!==e?by(t,e,n,i):4===t.strategy||s===r?(ay(t,2+(i?1:0),3),gy(t,Yv,Xv)):(ay(t,4+(i?1:0),3),((t,e,n,i)=>{let r;for(ay(t,e-257,5),ay(t,n-1,5),ay(t,i-4,4),r=0;r<i;r++)ay(t,t.bl_tree[2*Kv[r]+1],3);yy(t,t.dyn_ltree,e-1),yy(t,t.dyn_dtree,n-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),gy(t,t.dyn_ltree,t.dyn_dtree)),hy(t),i&&dy(t)},Sy=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(Jv[n]+zv+1)]++,t.dyn_dtree[2*sy(e)]++),t.sym_next===t.sym_end),ky=t=>{ay(t,2,3),ly(t,256,Yv),(t=>{16===t.bi_valid?(oy(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)},Cy={_tr_init:_y,_tr_stored_block:by,_tr_flush_block:xy,_tr_tally:Sy,_tr_align:ky};var Ny=(t,e,n,i)=>{let r=65535&t,s=t>>>16&65535,o=0;for(;0!==n;){o=n>2e3?2e3:n,n-=o;do{r=r+e[i++]|0,s=s+r|0}while(--o);r%=65521,s%=65521}return r|s<<16};const Ay=new Uint32Array((()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e})());var Ey=(t,e,n,i)=>{const r=Ay,s=i+n;t^=-1;for(let o=i;o<s;o++)t=t>>>8^r[255&(t^e[o])];return-1^t},Ly={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Py={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:jy,_tr_stored_block:Ry,_tr_flush_block:Ty,_tr_tally:Iy,_tr_align:Fy}=Cy,{Z_NO_FLUSH:Oy,Z_PARTIAL_FLUSH:My,Z_FULL_FLUSH:Dy,Z_FINISH:By,Z_BLOCK:zy,Z_OK:Uy,Z_STREAM_END:qy,Z_STREAM_ERROR:Wy,Z_DATA_ERROR:Hy,Z_BUF_ERROR:Vy,Z_DEFAULT_COMPRESSION:Gy,Z_FILTERED:Ky,Z_HUFFMAN_ONLY:Yy,Z_RLE:Xy,Z_FIXED:Zy,Z_DEFAULT_STRATEGY:Jy,Z_UNKNOWN:$y,Z_DEFLATED:Qy}=Py,tw=258,ew=262,nw=42,iw=113,rw=666,sw=(t,e)=>(t.msg=Ly[e],e),ow=t=>2*t-(t>4?9:0),aw=t=>{let e=t.length;for(;--e>=0;)t[e]=0},lw=t=>{let e,n,i,r=t.w_size;e=t.hash_size,i=e;do{n=t.head[--i],t.head[i]=n>=r?n-r:0}while(--e);e=r,i=e;do{n=t.prev[--i],t.prev[i]=n>=r?n-r:0}while(--e)};let cw=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask;const uw=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))},hw=(t,e)=>{Ty(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,uw(t.strm)},dw=(t,e)=>{t.pending_buf[t.pending++]=e},fw=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},pw=(t,e,n,i)=>{let r=t.avail_in;return r>i&&(r=i),0===r?0:(t.avail_in-=r,e.set(t.input.subarray(t.next_in,t.next_in+r),n),1===t.state.wrap?t.adler=Ny(t.adler,e,r,n):2===t.state.wrap&&(t.adler=Ey(t.adler,e,r,n)),t.next_in+=r,t.total_in+=r,r)},gw=(t,e)=>{let n,i,r=t.max_chain_length,s=t.strstart,o=t.prev_length,a=t.nice_match;const l=t.strstart>t.w_size-ew?t.strstart-(t.w_size-ew):0,c=t.window,u=t.w_mask,h=t.prev,d=t.strstart+tw;let f=c[s+o-1],p=c[s+o];t.prev_length>=t.good_match&&(r>>=2),a>t.lookahead&&(a=t.lookahead);do{if(n=e,c[n+o]===p&&c[n+o-1]===f&&c[n]===c[s]&&c[++n]===c[s+1]){s+=2,n++;do{}while(c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&s<d);if(i=tw-(d-s),s=d-tw,i>o){if(t.match_start=e,o=i,i>=a)break;f=c[s+o-1],p=c[s+o]}}}while((e=h[e&u])>l&&0!==--r);return o<=t.lookahead?o:t.lookahead},mw=t=>{const e=t.w_size;let n,i,r;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-ew)&&(t.window.set(t.window.subarray(e,e+e-i),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),lw(t),i+=e),0===t.strm.avail_in)break;if(n=pw(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=n,t.lookahead+t.insert>=3)for(r=t.strstart-t.insert,t.ins_h=t.window[r],t.ins_h=cw(t,t.ins_h,t.window[r+1]);t.insert&&(t.ins_h=cw(t,t.ins_h,t.window[r+3-1]),t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<ew&&0!==t.strm.avail_in)},vw=(t,e)=>{let n,i,r,s=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,o=0,a=t.strm.avail_in;do{if(n=65535,r=t.bi_valid+42>>3,t.strm.avail_out<r)break;if(r=t.strm.avail_out-r,i=t.strstart-t.block_start,n>i+t.strm.avail_in&&(n=i+t.strm.avail_in),n>r&&(n=r),n<s&&(0===n&&e!==By||e===Oy||n!==i+t.strm.avail_in))break;o=e===By&&n===i+t.strm.avail_in?1:0,Ry(t,0,0,o),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,uw(t.strm),i&&(i>n&&(i=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,n-=i),n&&(pw(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(0===o);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),o?4:e!==Oy&&e!==By&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(r=t.window_size-t.strstart,t.strm.avail_in>r&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,r+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),r>t.strm.avail_in&&(r=t.strm.avail_in),r&&(pw(t.strm,t.window,t.strstart,r),t.strstart+=r,t.insert+=r>t.w_size-t.insert?t.w_size-t.insert:r),t.high_water<t.strstart&&(t.high_water=t.strstart),r=t.bi_valid+42>>3,r=t.pending_buf_size-r>65535?65535:t.pending_buf_size-r,s=r>t.w_size?t.w_size:r,i=t.strstart-t.block_start,(i>=s||(i||e===By)&&e!==Oy&&0===t.strm.avail_in&&i<=r)&&(n=i>r?r:i,o=e===By&&0===t.strm.avail_in&&n===i?1:0,Ry(t,t.block_start,n,o),t.block_start+=n,uw(t.strm)),o?3:1)},yw=(t,e)=>{let n,i;for(;;){if(t.lookahead<ew){if(mw(t),t.lookahead<ew&&e===Oy)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=cw(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-ew&&(t.match_length=gw(t,n)),t.match_length>=3)if(i=Iy(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=cw(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=cw(t,t.ins_h,t.window[t.strstart+1]);else i=Iy(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(hw(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===By?(hw(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(hw(t,!1),0===t.strm.avail_out)?1:2},ww=(t,e)=>{let n,i,r;for(;;){if(t.lookahead<ew){if(mw(t),t.lookahead<ew&&e===Oy)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=cw(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-ew&&(t.match_length=gw(t,n),t.match_length<=5&&(t.strategy===Ky||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,i=Iy(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=cw(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!==--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,i&&(hw(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(i=Iy(t,0,t.window[t.strstart-1]),i&&hw(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=Iy(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===By?(hw(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(hw(t,!1),0===t.strm.avail_out)?1:2};function bw(t,e,n,i,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=r}const _w=[new bw(0,0,0,0,vw),new bw(4,4,8,4,yw),new bw(4,5,16,8,yw),new bw(4,6,32,32,yw),new bw(4,4,16,16,ww),new bw(8,16,32,32,ww),new bw(8,16,128,128,ww),new bw(8,32,128,256,ww),new bw(32,128,258,1024,ww),new bw(32,258,258,4096,ww)];function xw(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Qy,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),aw(this.dyn_ltree),aw(this.dyn_dtree),aw(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),aw(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),aw(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Sw=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==nw&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&e.status!==iw&&e.status!==rw?1:0},kw=t=>{if(Sw(t))return sw(t,Wy);t.total_in=t.total_out=0,t.data_type=$y;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?nw:iw,t.adler=2===e.wrap?0:1,e.last_flush=-2,jy(e),Uy},Cw=t=>{const e=kw(t);return e===Uy&&(t=>{t.window_size=2*t.w_size,aw(t.head),t.max_lazy_match=_w[t.level].max_lazy,t.good_match=_w[t.level].good_length,t.nice_match=_w[t.level].nice_length,t.max_chain_length=_w[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0})(t.state),e},Nw=(t,e,n,i,r,s)=>{if(!t)return Wy;let o=1;if(e===Gy&&(e=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),r<1||r>9||n!==Qy||i<8||i>15||e<0||e>9||s<0||s>Zy||8===i&&1!==o)return sw(t,Wy);8===i&&(i=9);const a=new xw;return t.state=a,a.strm=t,a.status=nw,a.wrap=o,a.gzhead=null,a.w_bits=i,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=r+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<r+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=e,a.strategy=s,a.method=n,Cw(t)};var Aw=(t,e)=>Nw(t,e,Qy,15,8,Jy),Ew=(t,e)=>{if(Sw(t)||e>zy||e<0)return t?sw(t,Wy):Wy;const n=t.state;if(!t.output||0!==t.avail_in&&!t.input||n.status===rw&&e!==By)return sw(t,0===t.avail_out?Vy:Wy);const i=n.last_flush;if(n.last_flush=e,0!==n.pending){if(uw(t),0===t.avail_out)return n.last_flush=-1,Uy}else if(0===t.avail_in&&ow(e)<=ow(i)&&e!==By)return sw(t,Vy);if(n.status===rw&&0!==t.avail_in)return sw(t,Vy);if(n.status===nw&&0===n.wrap&&(n.status=iw),n.status===nw){let e=Qy+(n.w_bits-8<<4)<<8,i=-1;if(i=n.strategy>=Yy||n.level<2?0:n.level<6?1:6===n.level?2:3,e|=i<<6,0!==n.strstart&&(e|=32),e+=31-e%31,fw(n,e),0!==n.strstart&&(fw(n,t.adler>>>16),fw(n,65535&t.adler)),t.adler=1,n.status=iw,uw(t),0!==n.pending)return n.last_flush=-1,Uy}if(57===n.status)if(t.adler=0,dw(n,31),dw(n,139),dw(n,8),n.gzhead)dw(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),dw(n,255&n.gzhead.time),dw(n,n.gzhead.time>>8&255),dw(n,n.gzhead.time>>16&255),dw(n,n.gzhead.time>>24&255),dw(n,9===n.level?2:n.strategy>=Yy||n.level<2?4:0),dw(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(dw(n,255&n.gzhead.extra.length),dw(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=Ey(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(dw(n,0),dw(n,0),dw(n,0),dw(n,0),dw(n,0),dw(n,9===n.level?2:n.strategy>=Yy||n.level<2?4:0),dw(n,3),n.status=iw,uw(t),0!==n.pending)return n.last_flush=-1,Uy;if(69===n.status){if(n.gzhead.extra){let e=n.pending,i=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let r=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>e&&(t.adler=Ey(t.adler,n.pending_buf,n.pending-e,e)),n.gzindex+=r,uw(t),0!==n.pending)return n.last_flush=-1,Uy;e=0,i-=r}let r=new Uint8Array(n.gzhead.extra);n.pending_buf.set(r.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>e&&(t.adler=Ey(t.adler,n.pending_buf,n.pending-e,e)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let e,i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=Ey(t.adler,n.pending_buf,n.pending-i,i)),uw(t),0!==n.pending)return n.last_flush=-1,Uy;i=0}e=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,dw(n,e)}while(0!==e);n.gzhead.hcrc&&n.pending>i&&(t.adler=Ey(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let e,i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=Ey(t.adler,n.pending_buf,n.pending-i,i)),uw(t),0!==n.pending)return n.last_flush=-1,Uy;i=0}e=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,dw(n,e)}while(0!==e);n.gzhead.hcrc&&n.pending>i&&(t.adler=Ey(t.adler,n.pending_buf,n.pending-i,i))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(uw(t),0!==n.pending))return n.last_flush=-1,Uy;dw(n,255&t.adler),dw(n,t.adler>>8&255),t.adler=0}if(n.status=iw,uw(t),0!==n.pending)return n.last_flush=-1,Uy}if(0!==t.avail_in||0!==n.lookahead||e!==Oy&&n.status!==rw){let i=0===n.level?vw(n,e):n.strategy===Yy?((t,e)=>{let n;for(;;){if(0===t.lookahead&&(mw(t),0===t.lookahead)){if(e===Oy)return 1;break}if(t.match_length=0,n=Iy(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(hw(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===By?(hw(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(hw(t,!1),0===t.strm.avail_out)?1:2})(n,e):n.strategy===Xy?((t,e)=>{let n,i,r,s;const o=t.window;for(;;){if(t.lookahead<=tw){if(mw(t),t.lookahead<=tw&&e===Oy)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(r=t.strstart-1,i=o[r],i===o[++r]&&i===o[++r]&&i===o[++r])){s=t.strstart+tw;do{}while(i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&r<s);t.match_length=tw-(s-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=Iy(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=Iy(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(hw(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===By?(hw(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(hw(t,!1),0===t.strm.avail_out)?1:2})(n,e):_w[n.level].func(n,e);if(3!==i&&4!==i||(n.status=rw),1===i||3===i)return 0===t.avail_out&&(n.last_flush=-1),Uy;if(2===i&&(e===My?Fy(n):e!==zy&&(Ry(n,0,0,!1),e===Dy&&(aw(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),uw(t),0===t.avail_out))return n.last_flush=-1,Uy}return e!==By?Uy:n.wrap<=0?qy:(2===n.wrap?(dw(n,255&t.adler),dw(n,t.adler>>8&255),dw(n,t.adler>>16&255),dw(n,t.adler>>24&255),dw(n,255&t.total_in),dw(n,t.total_in>>8&255),dw(n,t.total_in>>16&255),dw(n,t.total_in>>24&255)):(fw(n,t.adler>>>16),fw(n,65535&t.adler)),uw(t),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?Uy:qy)},Lw=(t,e)=>{let n=e.length;if(Sw(t))return Wy;const i=t.state,r=i.wrap;if(2===r||1===r&&i.status!==nw||i.lookahead)return Wy;if(1===r&&(t.adler=Ny(t.adler,e,n,0)),i.wrap=0,n>=i.w_size){0===r&&(aw(i.head),i.strstart=0,i.block_start=0,i.insert=0);let t=new Uint8Array(i.w_size);t.set(e.subarray(n-i.w_size,n),0),e=t,n=i.w_size}const s=t.avail_in,o=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,mw(i);i.lookahead>=3;){let t=i.strstart,e=i.lookahead-2;do{i.ins_h=cw(i,i.ins_h,i.window[t+3-1]),i.prev[t&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=t,t++}while(--e);i.strstart=t,i.lookahead=2,mw(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,t.next_in=o,t.input=a,t.avail_in=s,i.wrap=r,Uy},Pw={deflateInit:Aw,deflateInit2:Nw,deflateReset:Cw,deflateResetKeep:kw,deflateSetHeader:(t,e)=>Sw(t)||2!==t.state.wrap?Wy:(t.state.gzhead=e,Uy),deflate:Ew,deflateEnd:t=>{if(Sw(t))return Wy;const e=t.state.status;return t.state=null,e===iw?sw(t,Hy):Uy},deflateSetDictionary:Lw,deflateInfo:"pako deflate (from Nodeca project)"};const jw=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Rw=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(const e in n)jw(n,e)&&(t[e]=n[e])}}return t},Tw=t=>{let e=0;for(let i=0,r=t.length;i<r;i++)e+=t[i].length;const n=new Uint8Array(e);for(let i=0,r=0,s=t.length;i<s;i++){let e=t[i];n.set(e,r),r+=e.length}return n};let Iw=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(DC){Iw=!1}const Fw=new Uint8Array(256);for(let n=0;n<256;n++)Fw[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Fw[254]=Fw[254]=1;var Ow=t=>{if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,n,i,r,s,o=t.length,a=0;for(r=0;r<o;r++)n=t.charCodeAt(r),55296===(64512&n)&&r+1<o&&(i=t.charCodeAt(r+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),s=0,r=0;s<a;r++)n=t.charCodeAt(r),55296===(64512&n)&&r+1<o&&(i=t.charCodeAt(r+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|63&n):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|63&n):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|63&n);return e},Mw=(t,e)=>{const n=e||t.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let i,r;const s=new Array(2*n);for(r=0,i=0;i<n;){let e=t[i++];if(e<128){s[r++]=e;continue}let o=Fw[e];if(o>4)s[r++]=65533,i+=o-1;else{for(e&=2===o?31:3===o?15:7;o>1&&i<n;)e=e<<6|63&t[i++],o--;o>1?s[r++]=65533:e<65536?s[r++]=e:(e-=65536,s[r++]=55296|e>>10&1023,s[r++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&Iw)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let i=0;i<e;i++)n+=String.fromCharCode(t[i]);return n})(s,r)},Dw=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let n=e-1;for(;n>=0&&128===(192&t[n]);)n--;return n<0||0===n?e:n+Fw[t[n]]>e?n:e};var Bw=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const zw=Object.prototype.toString,{Z_NO_FLUSH:Uw,Z_SYNC_FLUSH:qw,Z_FULL_FLUSH:Ww,Z_FINISH:Hw,Z_OK:Vw,Z_STREAM_END:Gw,Z_DEFAULT_COMPRESSION:Kw,Z_DEFAULT_STRATEGY:Yw,Z_DEFLATED:Xw}=Py;function Zw(t){this.options=Rw({level:Kw,method:Xw,chunkSize:16384,windowBits:15,memLevel:8,strategy:Yw},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Bw,this.strm.avail_out=0;let n=Pw.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==Vw)throw new Error(Ly[n]);if(e.header&&Pw.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"===typeof e.dictionary?Ow(e.dictionary):"[object ArrayBuffer]"===zw.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,n=Pw.deflateSetDictionary(this.strm,t),n!==Vw)throw new Error(Ly[n]);this._dict_set=!0}}function Jw(t,e){const n=new Zw(e);if(n.push(t,!0),n.err)throw n.msg||Ly[n.err];return n.result}Zw.prototype.push=function(t,e){const n=this.strm,i=this.options.chunkSize;let r,s;if(this.ended)return!1;for(s=e===~~e?e:!0===e?Hw:Uw,"string"===typeof t?n.input=Ow(t):"[object ArrayBuffer]"===zw.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),(s===qw||s===Ww)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(r=Pw.deflate(n,s),r===Gw)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),r=Pw.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===Vw;if(0!==n.avail_out){if(s>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},Zw.prototype.onData=function(t){this.chunks.push(t)},Zw.prototype.onEnd=function(t){t===Vw&&(this.result=Tw(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var $w={Deflate:Zw,deflate:Jw,deflateRaw:function(t,e){return(e=e||{}).raw=!0,Jw(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,Jw(t,e)},constants:Py};const Qw=16209;var tb=function(t,e){let n,i,r,s,o,a,l,c,u,h,d,f,p,g,m,v,y,w,b,_,x,S,k,C;const N=t.state;n=t.next_in,k=t.input,i=n+(t.avail_in-5),r=t.next_out,C=t.output,s=r-(e-t.avail_out),o=r+(t.avail_out-257),a=N.dmax,l=N.wsize,c=N.whave,u=N.wnext,h=N.window,d=N.hold,f=N.bits,p=N.lencode,g=N.distcode,m=(1<<N.lenbits)-1,v=(1<<N.distbits)-1;t:do{f<15&&(d+=k[n++]<<f,f+=8,d+=k[n++]<<f,f+=8),y=p[d&m];e:for(;;){if(w=y>>>24,d>>>=w,f-=w,w=y>>>16&255,0===w)C[r++]=65535&y;else{if(!(16&w)){if(0===(64&w)){y=p[(65535&y)+(d&(1<<w)-1)];continue e}if(32&w){N.mode=16191;break t}t.msg="invalid literal/length code",N.mode=Qw;break t}b=65535&y,w&=15,w&&(f<w&&(d+=k[n++]<<f,f+=8),b+=d&(1<<w)-1,d>>>=w,f-=w),f<15&&(d+=k[n++]<<f,f+=8,d+=k[n++]<<f,f+=8),y=g[d&v];n:for(;;){if(w=y>>>24,d>>>=w,f-=w,w=y>>>16&255,!(16&w)){if(0===(64&w)){y=g[(65535&y)+(d&(1<<w)-1)];continue n}t.msg="invalid distance code",N.mode=Qw;break t}if(_=65535&y,w&=15,f<w&&(d+=k[n++]<<f,f+=8,f<w&&(d+=k[n++]<<f,f+=8)),_+=d&(1<<w)-1,_>a){t.msg="invalid distance too far back",N.mode=Qw;break t}if(d>>>=w,f-=w,w=r-s,_>w){if(w=_-w,w>c&&N.sane){t.msg="invalid distance too far back",N.mode=Qw;break t}if(x=0,S=h,0===u){if(x+=l-w,w<b){b-=w;do{C[r++]=h[x++]}while(--w);x=r-_,S=C}}else if(u<w){if(x+=l+u-w,w-=u,w<b){b-=w;do{C[r++]=h[x++]}while(--w);if(x=0,u<b){w=u,b-=w;do{C[r++]=h[x++]}while(--w);x=r-_,S=C}}}else if(x+=u-w,w<b){b-=w;do{C[r++]=h[x++]}while(--w);x=r-_,S=C}for(;b>2;)C[r++]=S[x++],C[r++]=S[x++],C[r++]=S[x++],b-=3;b&&(C[r++]=S[x++],b>1&&(C[r++]=S[x++]))}else{x=r-_;do{C[r++]=C[x++],C[r++]=C[x++],C[r++]=C[x++],b-=3}while(b>2);b&&(C[r++]=C[x++],b>1&&(C[r++]=C[x++]))}break}}break}}while(n<i&&r<o);b=f>>3,n-=b,f-=b<<3,d&=(1<<f)-1,t.next_in=n,t.next_out=r,t.avail_in=n<i?i-n+5:5-(n-i),t.avail_out=r<o?o-r+257:257-(r-o),N.hold=d,N.bits=f};const eb=15,nb=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ib=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),rb=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),sb=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var ob=(t,e,n,i,r,s,o,a)=>{const l=a.bits;let c,u,h,d,f,p,g=0,m=0,v=0,y=0,w=0,b=0,_=0,x=0,S=0,k=0,C=null;const N=new Uint16Array(16),A=new Uint16Array(16);let E,L,P,j=null;for(g=0;g<=eb;g++)N[g]=0;for(m=0;m<i;m++)N[e[n+m]]++;for(w=l,y=eb;y>=1&&0===N[y];y--);if(w>y&&(w=y),0===y)return r[s++]=20971520,r[s++]=20971520,a.bits=1,0;for(v=1;v<y&&0===N[v];v++);for(w<v&&(w=v),x=1,g=1;g<=eb;g++)if(x<<=1,x-=N[g],x<0)return-1;if(x>0&&(0===t||1!==y))return-1;for(A[1]=0,g=1;g<eb;g++)A[g+1]=A[g]+N[g];for(m=0;m<i;m++)0!==e[n+m]&&(o[A[e[n+m]]++]=m);if(0===t?(C=j=o,p=20):1===t?(C=nb,j=ib,p=257):(C=rb,j=sb,p=0),k=0,m=0,g=v,f=s,b=w,_=0,h=-1,S=1<<w,d=S-1,1===t&&S>852||2===t&&S>592)return 1;for(;;){E=g-_,o[m]+1<p?(L=0,P=o[m]):o[m]>=p?(L=j[o[m]-p],P=C[o[m]-p]):(L=96,P=0),c=1<<g-_,u=1<<b,v=u;do{u-=c,r[f+(k>>_)+u]=E<<24|L<<16|P}while(0!==u);for(c=1<<g-1;k&c;)c>>=1;if(0!==c?(k&=c-1,k+=c):k=0,m++,0===--N[g]){if(g===y)break;g=e[n+o[m]]}if(g>w&&(k&d)!==h){for(0===_&&(_=w),f+=v,b=g-_,x=1<<b;b+_<y&&(x-=N[b+_],!(x<=0));)b++,x<<=1;if(S+=1<<b,1===t&&S>852||2===t&&S>592)return 1;h=k&d,r[h]=w<<24|b<<16|f-s}}return 0!==k&&(r[f+k]=g-_<<24|64<<16),a.bits=w,0};const{Z_FINISH:ab,Z_BLOCK:lb,Z_TREES:cb,Z_OK:ub,Z_STREAM_END:hb,Z_NEED_DICT:db,Z_STREAM_ERROR:fb,Z_DATA_ERROR:pb,Z_MEM_ERROR:gb,Z_BUF_ERROR:mb,Z_DEFLATED:vb}=Py,yb=16180,wb=16190,bb=16191,_b=16192,xb=16194,Sb=16199,kb=16200,Cb=16206,Nb=16209,Ab=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function Eb(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Lb=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<yb||e.mode>16211?1:0},Pb=t=>{if(Lb(t))return fb;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=yb,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,ub},jb=t=>{if(Lb(t))return fb;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Pb(t)},Rb=(t,e)=>{let n;if(Lb(t))return fb;const i=t.state;return e<0?(n=0,e=-e):(n=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?fb:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,jb(t))},Tb=(t,e)=>{if(!t)return fb;const n=new Eb;t.state=n,n.strm=t,n.window=null,n.mode=yb;const i=Rb(t,e);return i!==ub&&(t.state=null),i};let Ib,Fb,Ob=!0;const Mb=t=>{if(Ob){Ib=new Int32Array(512),Fb=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(ob(1,t.lens,0,288,Ib,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;ob(2,t.lens,0,32,Fb,0,t.work,{bits:5}),Ob=!1}t.lencode=Ib,t.lenbits=9,t.distcode=Fb,t.distbits=5},Db=(t,e,n,i)=>{let r;const s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(r=s.wsize-s.wnext,r>i&&(r=i),s.window.set(e.subarray(n-i,n-i+r),s.wnext),(i-=r)?(s.window.set(e.subarray(n-i,n),0),s.wnext=i,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0};var Bb=(t,e)=>{let n,i,r,s,o,a,l,c,u,h,d,f,p,g,m,v,y,w,b,_,x,S,k=0;const C=new Uint8Array(4);let N,A;const E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Lb(t)||!t.output||!t.input&&0!==t.avail_in)return fb;n=t.state,n.mode===bb&&(n.mode=_b),o=t.next_out,r=t.output,l=t.avail_out,s=t.next_in,i=t.input,a=t.avail_in,c=n.hold,u=n.bits,h=a,d=l,S=ub;t:for(;;)switch(n.mode){case yb:if(0===n.wrap){n.mode=_b;break}for(;u<16;){if(0===a)break t;a--,c+=i[s++]<<u,u+=8}if(2&n.wrap&&35615===c){0===n.wbits&&(n.wbits=15),n.check=0,C[0]=255&c,C[1]=c>>>8&255,n.check=Ey(n.check,C,2,0),c=0,u=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=Nb;break}if((15&c)!==vb){t.msg="unknown compression method",n.mode=Nb;break}if(c>>>=4,u-=4,x=8+(15&c),0===n.wbits&&(n.wbits=x),x>15||x>n.wbits){t.msg="invalid window size",n.mode=Nb;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=512&c?16189:bb,c=0,u=0;break;case 16181:for(;u<16;){if(0===a)break t;a--,c+=i[s++]<<u,u+=8}if(n.flags=c,(255&n.flags)!==vb){t.msg="unknown compression method",n.mode=Nb;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=Nb;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&4&n.wrap&&(C[0]=255&c,C[1]=c>>>8&255,n.check=Ey(n.check,C,2,0)),c=0,u=0,n.mode=16182;case 16182:for(;u<32;){if(0===a)break t;a--,c+=i[s++]<<u,u+=8}n.head&&(n.head.time=c),512&n.flags&&4&n.wrap&&(C[0]=255&c,C[1]=c>>>8&255,C[2]=c>>>16&255,C[3]=c>>>24&255,n.check=Ey(n.check,C,4,0)),c=0,u=0,n.mode=16183;case 16183:for(;u<16;){if(0===a)break t;a--,c+=i[s++]<<u,u+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&4&n.wrap&&(C[0]=255&c,C[1]=c>>>8&255,n.check=Ey(n.check,C,2,0)),c=0,u=0,n.mode=16184;case 16184:if(1024&n.flags){for(;u<16;){if(0===a)break t;a--,c+=i[s++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&4&n.wrap&&(C[0]=255&c,C[1]=c>>>8&255,n.check=Ey(n.check,C,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(f=n.length,f>a&&(f=a),f&&(n.head&&(x=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(s,s+f),x)),512&n.flags&&4&n.wrap&&(n.check=Ey(n.check,i,f,s)),a-=f,s+=f,n.length-=f),n.length))break t;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===a)break t;f=0;do{x=i[s+f++],n.head&&x&&n.length<65536&&(n.head.name+=String.fromCharCode(x))}while(x&&f<a);if(512&n.flags&&4&n.wrap&&(n.check=Ey(n.check,i,f,s)),a-=f,s+=f,x)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===a)break t;f=0;do{x=i[s+f++],n.head&&x&&n.length<65536&&(n.head.comment+=String.fromCharCode(x))}while(x&&f<a);if(512&n.flags&&4&n.wrap&&(n.check=Ey(n.check,i,f,s)),a-=f,s+=f,x)break t}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;u<16;){if(0===a)break t;a--,c+=i[s++]<<u,u+=8}if(4&n.wrap&&c!==(65535&n.check)){t.msg="header crc mismatch",n.mode=Nb;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=bb;break;case 16189:for(;u<32;){if(0===a)break t;a--,c+=i[s++]<<u,u+=8}t.adler=n.check=Ab(c),c=0,u=0,n.mode=wb;case wb:if(0===n.havedict)return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=c,n.bits=u,db;t.adler=n.check=1,n.mode=bb;case bb:if(e===lb||e===cb)break t;case _b:if(n.last){c>>>=7&u,u-=7&u,n.mode=Cb;break}for(;u<3;){if(0===a)break t;a--,c+=i[s++]<<u,u+=8}switch(n.last=1&c,c>>>=1,u-=1,3&c){case 0:n.mode=16193;break;case 1:if(Mb(n),n.mode=Sb,e===cb){c>>>=2,u-=2;break t}break;case 2:n.mode=16196;break;case 3:t.msg="invalid block type",n.mode=Nb}c>>>=2,u-=2;break;case 16193:for(c>>>=7&u,u-=7&u;u<32;){if(0===a)break t;a--,c+=i[s++]<<u,u+=8}if((65535&c)!==(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Nb;break}if(n.length=65535&c,c=0,u=0,n.mode=xb,e===cb)break t;case xb:n.mode=16195;case 16195:if(f=n.length,f){if(f>a&&(f=a),f>l&&(f=l),0===f)break t;r.set(i.subarray(s,s+f),o),a-=f,s+=f,l-=f,o+=f,n.length-=f;break}n.mode=bb;break;case 16196:for(;u<14;){if(0===a)break t;a--,c+=i[s++]<<u,u+=8}if(n.nlen=257+(31&c),c>>>=5,u-=5,n.ndist=1+(31&c),c>>>=5,u-=5,n.ncode=4+(15&c),c>>>=4,u-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Nb;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;u<3;){if(0===a)break t;a--,c+=i[s++]<<u,u+=8}n.lens[E[n.have++]]=7&c,c>>>=3,u-=3}for(;n.have<19;)n.lens[E[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,N={bits:n.lenbits},S=ob(0,n.lens,0,19,n.lencode,0,n.work,N),n.lenbits=N.bits,S){t.msg="invalid code lengths set",n.mode=Nb;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;k=n.lencode[c&(1<<n.lenbits)-1],m=k>>>24,v=k>>>16&255,y=65535&k,!(m<=u);){if(0===a)break t;a--,c+=i[s++]<<u,u+=8}if(y<16)c>>>=m,u-=m,n.lens[n.have++]=y;else{if(16===y){for(A=m+2;u<A;){if(0===a)break t;a--,c+=i[s++]<<u,u+=8}if(c>>>=m,u-=m,0===n.have){t.msg="invalid bit length repeat",n.mode=Nb;break}x=n.lens[n.have-1],f=3+(3&c),c>>>=2,u-=2}else if(17===y){for(A=m+3;u<A;){if(0===a)break t;a--,c+=i[s++]<<u,u+=8}c>>>=m,u-=m,x=0,f=3+(7&c),c>>>=3,u-=3}else{for(A=m+7;u<A;){if(0===a)break t;a--,c+=i[s++]<<u,u+=8}c>>>=m,u-=m,x=0,f=11+(127&c),c>>>=7,u-=7}if(n.have+f>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Nb;break}for(;f--;)n.lens[n.have++]=x}}if(n.mode===Nb)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=Nb;break}if(n.lenbits=9,N={bits:n.lenbits},S=ob(1,n.lens,0,n.nlen,n.lencode,0,n.work,N),n.lenbits=N.bits,S){t.msg="invalid literal/lengths set",n.mode=Nb;break}if(n.distbits=6,n.distcode=n.distdyn,N={bits:n.distbits},S=ob(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,N),n.distbits=N.bits,S){t.msg="invalid distances set",n.mode=Nb;break}if(n.mode=Sb,e===cb)break t;case Sb:n.mode=kb;case kb:if(a>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=c,n.bits=u,tb(t,d),o=t.next_out,r=t.output,l=t.avail_out,s=t.next_in,i=t.input,a=t.avail_in,c=n.hold,u=n.bits,n.mode===bb&&(n.back=-1);break}for(n.back=0;k=n.lencode[c&(1<<n.lenbits)-1],m=k>>>24,v=k>>>16&255,y=65535&k,!(m<=u);){if(0===a)break t;a--,c+=i[s++]<<u,u+=8}if(v&&0===(240&v)){for(w=m,b=v,_=y;k=n.lencode[_+((c&(1<<w+b)-1)>>w)],m=k>>>24,v=k>>>16&255,y=65535&k,!(w+m<=u);){if(0===a)break t;a--,c+=i[s++]<<u,u+=8}c>>>=w,u-=w,n.back+=w}if(c>>>=m,u-=m,n.back+=m,n.length=y,0===v){n.mode=16205;break}if(32&v){n.back=-1,n.mode=bb;break}if(64&v){t.msg="invalid literal/length code",n.mode=Nb;break}n.extra=15&v,n.mode=16201;case 16201:if(n.extra){for(A=n.extra;u<A;){if(0===a)break t;a--,c+=i[s++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;k=n.distcode[c&(1<<n.distbits)-1],m=k>>>24,v=k>>>16&255,y=65535&k,!(m<=u);){if(0===a)break t;a--,c+=i[s++]<<u,u+=8}if(0===(240&v)){for(w=m,b=v,_=y;k=n.distcode[_+((c&(1<<w+b)-1)>>w)],m=k>>>24,v=k>>>16&255,y=65535&k,!(w+m<=u);){if(0===a)break t;a--,c+=i[s++]<<u,u+=8}c>>>=w,u-=w,n.back+=w}if(c>>>=m,u-=m,n.back+=m,64&v){t.msg="invalid distance code",n.mode=Nb;break}n.offset=y,n.extra=15&v,n.mode=16203;case 16203:if(n.extra){for(A=n.extra;u<A;){if(0===a)break t;a--,c+=i[s++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Nb;break}n.mode=16204;case 16204:if(0===l)break t;if(f=d-l,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Nb;break}f>n.wnext?(f-=n.wnext,p=n.wsize-f):p=n.wnext-f,f>n.length&&(f=n.length),g=n.window}else g=r,p=o-n.offset,f=n.length;f>l&&(f=l),l-=f,n.length-=f;do{r[o++]=g[p++]}while(--f);0===n.length&&(n.mode=kb);break;case 16205:if(0===l)break t;r[o++]=n.length,l--,n.mode=kb;break;case Cb:if(n.wrap){for(;u<32;){if(0===a)break t;a--,c|=i[s++]<<u,u+=8}if(d-=l,t.total_out+=d,n.total+=d,4&n.wrap&&d&&(t.adler=n.check=n.flags?Ey(n.check,r,d,o-d):Ny(n.check,r,d,o-d)),d=l,4&n.wrap&&(n.flags?c:Ab(c))!==n.check){t.msg="incorrect data check",n.mode=Nb;break}c=0,u=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;u<32;){if(0===a)break t;a--,c+=i[s++]<<u,u+=8}if(4&n.wrap&&c!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=Nb;break}c=0,u=0}n.mode=16208;case 16208:S=hb;break t;case Nb:S=pb;break t;case 16210:return gb;default:return fb}return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=c,n.bits=u,(n.wsize||d!==t.avail_out&&n.mode<Nb&&(n.mode<Cb||e!==ab))&&Db(t,t.output,t.next_out,d-t.avail_out),h-=t.avail_in,d-=t.avail_out,t.total_in+=h,t.total_out+=d,n.total+=d,4&n.wrap&&d&&(t.adler=n.check=n.flags?Ey(n.check,r,d,t.next_out-d):Ny(n.check,r,d,t.next_out-d)),t.data_type=n.bits+(n.last?64:0)+(n.mode===bb?128:0)+(n.mode===Sb||n.mode===xb?256:0),(0===h&&0===d||e===ab)&&S===ub&&(S=mb),S},zb={inflateReset:jb,inflateReset2:Rb,inflateResetKeep:Pb,inflateInit:t=>Tb(t,15),inflateInit2:Tb,inflate:Bb,inflateEnd:t=>{if(Lb(t))return fb;let e=t.state;return e.window&&(e.window=null),t.state=null,ub},inflateGetHeader:(t,e)=>{if(Lb(t))return fb;const n=t.state;return 0===(2&n.wrap)?fb:(n.head=e,e.done=!1,ub)},inflateSetDictionary:(t,e)=>{const n=e.length;let i,r,s;return Lb(t)?fb:(i=t.state,0!==i.wrap&&i.mode!==wb?fb:i.mode===wb&&(r=1,r=Ny(r,e,n,0),r!==i.check)?pb:(s=Db(t,e,n,n),s?(i.mode=16210,gb):(i.havedict=1,ub)))},inflateInfo:"pako inflate (from Nodeca project)"};var Ub=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const qb=Object.prototype.toString,{Z_NO_FLUSH:Wb,Z_FINISH:Hb,Z_OK:Vb,Z_STREAM_END:Gb,Z_NEED_DICT:Kb,Z_STREAM_ERROR:Yb,Z_DATA_ERROR:Xb,Z_MEM_ERROR:Zb}=Py;function Jb(t){this.options=Rw({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0===(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Bw,this.strm.avail_out=0;let n=zb.inflateInit2(this.strm,e.windowBits);if(n!==Vb)throw new Error(Ly[n]);if(this.header=new Ub,zb.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"===typeof e.dictionary?e.dictionary=Ow(e.dictionary):"[object ArrayBuffer]"===qb.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=zb.inflateSetDictionary(this.strm,e.dictionary),n!==Vb)))throw new Error(Ly[n])}function $b(t,e){const n=new Jb(e);if(n.push(t),n.err)throw n.msg||Ly[n.err];return n.result}Jb.prototype.push=function(t,e){const n=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(o=e===~~e?e:!0===e?Hb:Wb,"[object ArrayBuffer]"===qb.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),s=zb.inflate(n,o),s===Kb&&r&&(s=zb.inflateSetDictionary(n,r),s===Vb?s=zb.inflate(n,o):s===Xb&&(s=Kb));n.avail_in>0&&s===Gb&&n.state.wrap>0&&0!==t[n.next_in];)zb.inflateReset(n),s=zb.inflate(n,o);switch(s){case Yb:case Xb:case Kb:case Zb:return this.onEnd(s),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(0===n.avail_out||s===Gb))if("string"===this.options.to){let t=Dw(n.output,n.next_out),e=n.next_out-t,r=Mw(n.output,t);n.next_out=e,n.avail_out=i-e,e&&n.output.set(n.output.subarray(t,t+e),0),this.onData(r)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(s!==Vb||0!==a){if(s===Gb)return s=zb.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},Jb.prototype.onData=function(t){this.chunks.push(t)},Jb.prototype.onEnd=function(t){t===Vb&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Tw(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Qb={Inflate:Jb,inflate:$b,inflateRaw:function(t,e){return(e=e||{}).raw=!0,$b(t,e)},ungzip:$b,constants:Py};const{Deflate:t_,deflate:e_,deflateRaw:n_,gzip:i_}=$w,{Inflate:r_,inflate:s_,inflateRaw:o_,ungzip:a_}=Qb;var l_=r_,c_=s_;const u_=[];for(let n=0;n<256;n++){let t=n;for(let e=0;e<8;e++)1&t?t=3988292384^t>>>1:t>>>=1;u_[n]=t}const h_=4294967295;function d_(t,e){return(function(t,e,n){let i=t;for(let r=0;r<n;r++)i=u_[255&(i^e[r])]^i>>>8;return i}(h_,t,e)^h_)>>>0}function f_(t,e,n){const i=t.readUint32(),r=d_(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(r!==i)throw new Error("CRC mismatch for chunk ".concat(n,". Expected ").concat(i,", found ").concat(r))}function p_(t,e,n){for(let i=0;i<n;i++)e[i]=t[i]}function g_(t,e,n,i){let r=0;for(;r<i;r++)e[r]=t[r];for(;r<n;r++)e[r]=t[r]+e[r-i]&255}function m_(t,e,n,i){let r=0;if(0===n.length)for(;r<i;r++)e[r]=t[r];else for(;r<i;r++)e[r]=t[r]+n[r]&255}function v_(t,e,n,i,r){let s=0;if(0===n.length){for(;s<r;s++)e[s]=t[s];for(;s<i;s++)e[s]=t[s]+(e[s-r]>>1)&255}else{for(;s<r;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<i;s++)e[s]=t[s]+(e[s-r]+n[s]>>1)&255}}function y_(t,e,n,i,r){let s=0;if(0===n.length){for(;s<r;s++)e[s]=t[s];for(;s<i;s++)e[s]=t[s]+e[s-r]&255}else{for(;s<r;s++)e[s]=t[s]+n[s]&255;for(;s<i;s++)e[s]=t[s]+w_(e[s-r],n[s],n[s-r])&255}}function w_(t,e,n){const i=t+e-n,r=Math.abs(i-t),s=Math.abs(i-e),o=Math.abs(i-n);return r<=s&&r<=o?t:s<=o?e:n}function b_(t,e,n,i,r,s){switch(t){case 0:p_(e,n,r);break;case 1:g_(e,n,r,s);break;case 2:m_(e,n,i,r);break;case 3:v_(e,n,i,r,s);break;case 4:y_(e,n,i,r,s);break;default:throw new Error("Unsupported filter: ".concat(t))}}const __=new Uint16Array([255]),x_=255===new Uint8Array(__.buffer)[0];function S_(t){return(255&t)<<8|t>>8&255}const k_=new Uint16Array([255]),C_=255===new Uint8Array(k_.buffer)[0],N_=new Uint8Array(0);function A_(t){const{data:e,width:n,height:i,channels:r,depth:s}=t,o=Math.ceil(s/8)*r,a=Math.ceil(s/8*r*n),l=new Uint8Array(i*a);let c,u,h=N_,d=0;for(let f=0;f<i;f++){switch(c=e.subarray(d+1,d+1+a),u=l.subarray(f*a,(f+1)*a),e[d]){case 0:p_(c,u,a);break;case 1:g_(c,u,a,o);break;case 2:m_(c,u,h,a);break;case 3:v_(c,u,h,a,o);break;case 4:y_(c,u,h,a,o);break;default:throw new Error("Unsupported filter: ".concat(e[d]))}h=u,d+=a+1}if(16===s){const t=new Uint16Array(l.buffer);if(C_)for(let e=0;e<t.length;e++)t[e]=E_(t[e]);return t}return l}function E_(t){return(255&t)<<8|t>>8&255}const L_=Uint8Array.of(137,80,78,71,13,10,26,10);function P_(t){if(!function(t){if(t.length<L_.length)return!1;for(let e=0;e<L_.length;e++)if(t[e]!==L_[e])return!1;return!0}(t.readBytes(L_.length)))throw new Error("wrong PNG signature")}const j_="tEXt",R_=new TextDecoder("latin1");function T_(t){if(F_(t),0===t.length||t.length>79)throw new Error("keyword length must be between 1 and 79")}const I_=/^[\u0000-\u00FF]*$/;function F_(t){if(!I_.test(t))throw new Error("invalid latin1 text")}function O_(t,e,n){const i=M_(e);t[i]=function(t,e){return R_.decode(t.readBytes(e))}(e,n-i.length-1)}function M_(t){for(t.mark();0!==t.readByte(););const e=t.offset;t.reset();const n=R_.decode(t.readBytes(e-t.offset-1));return t.skip(1),T_(n),n}const D_=-1,B_=0,z_=2,U_=3,q_=4,W_=6,H_=-1,V_=0,G_=-1,K_=0,Y_=-1,X_=0,Z_=1,J_=0,$_=1,Q_=2,tx=0,ex=1;class nx extends Dv{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t),(0,r.A)(this,"_checkCrc",void 0),(0,r.A)(this,"_inflator",void 0),(0,r.A)(this,"_png",void 0),(0,r.A)(this,"_apng",void 0),(0,r.A)(this,"_end",void 0),(0,r.A)(this,"_hasPalette",void 0),(0,r.A)(this,"_palette",void 0),(0,r.A)(this,"_hasTransparency",void 0),(0,r.A)(this,"_transparency",void 0),(0,r.A)(this,"_compressionMethod",void 0),(0,r.A)(this,"_filterMethod",void 0),(0,r.A)(this,"_interlaceMethod",void 0),(0,r.A)(this,"_colorType",void 0),(0,r.A)(this,"_isAnimated",void 0),(0,r.A)(this,"_numberOfFrames",void 0),(0,r.A)(this,"_numberOfPlays",void 0),(0,r.A)(this,"_frames",void 0),(0,r.A)(this,"_writingDataChunks",void 0);const{checkCrc:n=!1}=e;this._checkCrc=n,this._inflator=new l_,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=H_,this._filterMethod=G_,this._interlaceMethod=Y_,this._colorType=D_,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(P_(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeChunk(t,e)}return this.decodeImage(),this._png}decodeApng(){for(P_(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeApngChunk(t,e)}return this.decodeApngImage(),this._apng}decodeChunk(t,e){const n=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case j_:O_(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t)}if(this.offset-n!==t)throw new Error("Length mismatch while decoding chunk ".concat(e));this._checkCrc?f_(this,t+4,e):this.skip(4)}decodeApngChunk(t,e){const n=this.offset;switch("fdAT"!==e&&"IDAT"!==e&&this._writingDataChunks&&this.pushDataToFrame(),e){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,e),this.offset=n+t}if(this.offset-n!==t)throw new Error("Length mismatch while decoding chunk ".concat(e));this._checkCrc?f_(this,t+4,e):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=function(t){if(1!==t&&2!==t&&4!==t&&8!==t&&16!==t)throw new Error("invalid bit depth: ".concat(t));return t}(this.readUint8());const e=this.readUint8();let n;switch(this._colorType=e,e){case B_:n=1;break;case z_:n=3;break;case U_:n=1;break;case q_:n=2;break;case W_:n=4;break;default:throw new Error("Unknown color type: ".concat(e))}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==V_)throw new Error("Unsupported compression method: ".concat(this._compressionMethod));this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError("PLTE field length must be a multiple of 3. Got ".concat(t));const e=t/3;this._hasPalette=!0;const n=[];this._palette=n;for(let i=0;i<e;i++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const e=t,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,e)),this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let e=t,n=this.offset+this.byteOffset;if(n+=4,e-=4,this._inflator.push(new Uint8Array(this.buffer,n,e)),this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));this.skip(t)}decodetRNS(t){switch(this._colorType){case B_:case z_:if(t%2!==0)throw new RangeError("tRNS chunk length must be a multiple of 2. Got ".concat(t));if(t/2>this._png.width*this._png.height)throw new Error("tRNS chunk contains more alpha values than there are pixels (".concat(t/2," vs ").concat(this._png.width*this._png.height,")"));this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let e=0;e<t/2;e++)this._transparency[e]=this.readUint16();break;case U_:{if(t>this._palette.length)throw new Error("tRNS chunk contains more alpha values than there are palette colors (".concat(t," vs ").concat(this._palette.length,")"));let e=0;for(;e<t;e++){const t=this.readByte();this._palette[e].push(t)}for(;e<this._palette.length;e++)this._palette[e].push(255);break}default:throw new Error("tRNS chunk is not supported for color type ".concat(this._colorType))}}decodeiCCP(t){const e=M_(this),n=this.readUint8();if(n!==V_)throw new Error("Unsupported iCCP compression method: ".concat(n));const i=this.readBytes(t-e.length-2);this._png.iccEmbeddedProfile={name:e,profile:c_(i)}}decodepHYs(){const t=this.readUint32(),e=this.readUint32(),n=this.readByte();this._png.resolution={x:t,y:e,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const e={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:8===this._apng.depth?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(t);if(n){if(n.data=A_({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),0===t||0===n.xOffset&&0===n.yOffset&&n.width===this._png.width&&n.height===this._png.height)e.data=n.data;else{const i=this._apng.frames.at(t-1);this.disposeFrame(n,i,e),this.addFrameDataToCanvas(e,n)}this._apng.frames.push(e)}}return this._apng}disposeFrame(t,e,n){switch(t.disposeOp){case J_:break;case $_:for(let e=0;e<this._png.height;e++)for(let i=0;i<this._png.width;i++){const r=(e*t.width+i)*this._png.channels;for(let t=0;t<this._png.channels;t++)n.data[r+t]=0}break;case Q_:n.data.set(e.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,e){const n=1<<this._png.depth,i=(t,n)=>({index:((t+e.yOffset)*this._png.width+e.xOffset+n)*this._png.channels,frameIndex:(t*e.width+n)*this._png.channels});switch(e.blendOp){case tx:for(let n=0;n<e.height;n++)for(let r=0;r<e.width;r++){const{index:s,frameIndex:o}=i(n,r);for(let n=0;n<this._png.channels;n++)t.data[s+n]=e.data[o+n]}break;case ex:for(let r=0;r<e.height;r++)for(let s=0;s<e.width;s++){const{index:o,frameIndex:a}=i(r,s);for(let i=0;i<this._png.channels;i++){const r=e.data[a+this._png.channels-1]/n,s=i%(this._png.channels-1)===0?1:e.data[a+i],l=Math.floor(r*s+(1-r)*t.data[o+i]);t.data[o+i]+=l}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var t;if(this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));const e=this._isAnimated?(null===(t=this._frames)||void 0===t?void 0:t.at(0)).data:this._inflator.result;if(this._filterMethod!==K_)throw new Error("Filter method ".concat(this._filterMethod," not supported"));if(this._interlaceMethod===X_)this._png.data=A_({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else{if(this._interlaceMethod!==Z_)throw new Error("Interlace method ".concat(this._interlaceMethod," not supported"));this._png.data=function(t){const{data:e,width:n,height:i,channels:r,depth:s}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*r,l=new Uint8Array(i*n*a);let c=0;for(let u=0;u<7;u++){const t=o[u],r=Math.ceil((n-t.x)/t.xStep),s=Math.ceil((i-t.y)/t.yStep);if(r<=0||s<=0)continue;const h=r*a,d=new Uint8Array(h);for(let o=0;o<s;o++){const s=e[c++],u=e.subarray(c,c+h);c+=h;const f=new Uint8Array(h);b_(s,u,f,d,h,a),d.set(f);for(let e=0;e<r;e++){const r=t.x+e*t.xStep,s=t.y+o*t.yStep;if(!(r>=n||s>=i))for(let t=0;t<a;t++)l[(s*n+r)*a+t]=f[e*a+t]}}}if(16===s){const t=new Uint16Array(l.buffer);if(x_)for(let e=0;e<t.length;e++)t[e]=S_(t[e]);return t}return l}({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth})}this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,e=this._frames.at(-1);e?e.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:J_,blendOp:tx,data:t}),this._inflator=new l_,this._writingDataChunks=!1}}var ix;!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"}(ix||(ix={}));var rx=function(){return"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:this}();function sx(){rx.console&&"function"==typeof rx.console.log&&rx.console.log.apply(rx.console,arguments)}var ox={log:sx,warn:function(t){rx.console&&("function"==typeof rx.console.warn?rx.console.warn.apply(rx.console,arguments):sx.call(null,arguments))},error:function(t){rx.console&&("function"==typeof rx.console.error?rx.console.error.apply(rx.console,arguments):sx(t))}};function ax(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){ux(i.response,e,n)},i.onerror=function(){ox.error("could not download file")},i.send()}function lx(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(n){}return e.status>=200&&e.status<=299}function cx(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var ux=rx.saveAs||("object"!==("undefined"==typeof window?"undefined":(0,Gm.A)(window))||window!==rx?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var i=rx.URL||rx.webkitURL,r=document.createElement("a");e=e||t.name||"download",r.download=e,r.rel="noopener","string"==typeof t?(r.href=t,r.origin!==location.origin?lx(r.href)?ax(t,e,n):cx(r,r.target="_blank"):cx(r)):(r.href=i.createObjectURL(t),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){cx(r)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download","string"==typeof t)if(lx(t))ax(t,e,n);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout(function(){cx(i)})}else navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!==(0,Gm.A)(e)&&(ox.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}(t,n),e)}:function(t,e,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return ax(t,e,n);var r="application/octet-stream"===t.type,s=/constructor/i.test(rx.HTMLElement)||rx.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&s)&&"object"===("undefined"==typeof FileReader?"undefined":(0,Gm.A)(FileReader))){var a=new FileReader;a.onloadend=function(){var t=a.result;t=o?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},a.readAsDataURL(t)}else{var l=rx.URL||rx.webkitURL,c=l.createObjectURL(t);i?i.location=c:location.href=c,i=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function hx(t){var e;t=t||"",this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],i=0;i<n.length;i++){var r=n[i].re,s=n[i].process,o=r.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),n=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==n.length&&(n="0"+n),"#"+t+e+n}}var dx=rx.atob.bind(rx),fx=rx.btoa.bind(rx);function px(t,e){var n=t[0],i=t[1],r=t[2],s=t[3];n=mx(n,i,r,s,e[0],7,-680876936),s=mx(s,n,i,r,e[1],12,-389564586),r=mx(r,s,n,i,e[2],17,606105819),i=mx(i,r,s,n,e[3],22,-1044525330),n=mx(n,i,r,s,e[4],7,-176418897),s=mx(s,n,i,r,e[5],12,1200080426),r=mx(r,s,n,i,e[6],17,-1473231341),i=mx(i,r,s,n,e[7],22,-45705983),n=mx(n,i,r,s,e[8],7,1770035416),s=mx(s,n,i,r,e[9],12,-1958414417),r=mx(r,s,n,i,e[10],17,-42063),i=mx(i,r,s,n,e[11],22,-1990404162),n=mx(n,i,r,s,e[12],7,1804603682),s=mx(s,n,i,r,e[13],12,-40341101),r=mx(r,s,n,i,e[14],17,-1502002290),n=vx(n,i=mx(i,r,s,n,e[15],22,1236535329),r,s,e[1],5,-165796510),s=vx(s,n,i,r,e[6],9,-1069501632),r=vx(r,s,n,i,e[11],14,643717713),i=vx(i,r,s,n,e[0],20,-373897302),n=vx(n,i,r,s,e[5],5,-701558691),s=vx(s,n,i,r,e[10],9,38016083),r=vx(r,s,n,i,e[15],14,-660478335),i=vx(i,r,s,n,e[4],20,-405537848),n=vx(n,i,r,s,e[9],5,568446438),s=vx(s,n,i,r,e[14],9,-1019803690),r=vx(r,s,n,i,e[3],14,-187363961),i=vx(i,r,s,n,e[8],20,1163531501),n=vx(n,i,r,s,e[13],5,-1444681467),s=vx(s,n,i,r,e[2],9,-51403784),r=vx(r,s,n,i,e[7],14,1735328473),n=yx(n,i=vx(i,r,s,n,e[12],20,-1926607734),r,s,e[5],4,-378558),s=yx(s,n,i,r,e[8],11,-2022574463),r=yx(r,s,n,i,e[11],16,1839030562),i=yx(i,r,s,n,e[14],23,-35309556),n=yx(n,i,r,s,e[1],4,-1530992060),s=yx(s,n,i,r,e[4],11,1272893353),r=yx(r,s,n,i,e[7],16,-155497632),i=yx(i,r,s,n,e[10],23,-1094730640),n=yx(n,i,r,s,e[13],4,681279174),s=yx(s,n,i,r,e[0],11,-358537222),r=yx(r,s,n,i,e[3],16,-722521979),i=yx(i,r,s,n,e[6],23,76029189),n=yx(n,i,r,s,e[9],4,-640364487),s=yx(s,n,i,r,e[12],11,-421815835),r=yx(r,s,n,i,e[15],16,530742520),n=wx(n,i=yx(i,r,s,n,e[2],23,-995338651),r,s,e[0],6,-198630844),s=wx(s,n,i,r,e[7],10,1126891415),r=wx(r,s,n,i,e[14],15,-1416354905),i=wx(i,r,s,n,e[5],21,-57434055),n=wx(n,i,r,s,e[12],6,1700485571),s=wx(s,n,i,r,e[3],10,-1894986606),r=wx(r,s,n,i,e[10],15,-1051523),i=wx(i,r,s,n,e[1],21,-2054922799),n=wx(n,i,r,s,e[8],6,1873313359),s=wx(s,n,i,r,e[15],10,-30611744),r=wx(r,s,n,i,e[6],15,-1560198380),i=wx(i,r,s,n,e[13],21,1309151649),n=wx(n,i,r,s,e[4],6,-145523070),s=wx(s,n,i,r,e[11],10,-1120210379),r=wx(r,s,n,i,e[2],15,718787259),i=wx(i,r,s,n,e[9],21,-343485551),t[0]=Ax(n,t[0]),t[1]=Ax(i,t[1]),t[2]=Ax(r,t[2]),t[3]=Ax(s,t[3])}function gx(t,e,n,i,r,s){return e=Ax(Ax(e,t),Ax(i,s)),Ax(e<<r|e>>>32-r,n)}function mx(t,e,n,i,r,s,o){return gx(e&n|~e&i,t,e,r,s,o)}function vx(t,e,n,i,r,s,o){return gx(e&i|n&~i,t,e,r,s,o)}function yx(t,e,n,i,r,s,o){return gx(e^n^i,t,e,r,s,o)}function wx(t,e,n,i,r,s,o){return gx(n^(e|~i),t,e,r,s,o)}function bx(t){var e,n=t.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)px(i,_x(t.substring(e-64,e)));t=t.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)r[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(px(i,r),e=0;e<16;e++)r[e]=0;return r[14]=8*n,px(i,r),i}function _x(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var xx="0123456789abcdef".split("");function Sx(t){for(var e="",n=0;n<4;n++)e+=xx[t>>8*n+4&15]+xx[t>>8*n&15];return e}function kx(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Cx(t){return bx(t).map(kx).join("")}var Nx="5d41402abc4b2a76b9719d911017c592"!=function(t){for(var e=0;e<t.length;e++)t[e]=Sx(t[e]);return t.join("")}(bx("hello"));function Ax(t,e){if(Nx){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}function Ex(t,e){var n,i,r,s;if(t!==n){for(var o=(r=t,s=1+(256/t.length|0),new Array(s+1).join(r)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}n=t,i=a}else a=i;var h=e.length,d=0,f=0,p="";for(l=0;l<h;l++)f=(f+(u=a[d=(d+1)%256]))%256,a[d]=a[f],a[f]=u,o=a[(a[d]+a[f])%256],p+=String.fromCharCode(e.charCodeAt(l)^o);return p}var Lx={print:4,modify:8,copy:16,"annot-forms":32};function Px(t,e,n,i){this.v=1,this.r=2;var r=192;t.forEach(function(t){if(void 0!==Lx.perm)throw new Error("Invalid permission: "+t);r+=Lx[t]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^r)),this.encryptionKey=Cx(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=Ex(this.encryptionKey,this.padding)}function jx(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,i=0;i<n;i++){var r=t.charCodeAt(i);e+=r<33||35===r||37===r||40===r||41===r||47===r||60===r||62===r||91===r||93===r||123===r||125===r||r>126?"#"+("0"+r.toString(16)).slice(-2):t[i]}return e}function Rx(t){if("object"!==(0,Gm.A)(t))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,i){if(i=i||!1,"string"!=typeof t||"function"!=typeof n||"boolean"!=typeof i)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var r=Math.random().toString(35);return e[t][r]=[n,!!i],r},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],0===Object.keys(e[n]).length&&delete e[n],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,i)}catch(cx){rx.console&&ox.error("jsPDF PubSub Error",cx.message,cx)}o[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Tx(t){if(!(this instanceof Tx))return new Tx(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function Ix(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Fx(t,e,n,i,r){if(!(this instanceof Fx))return new Fx(t,e,n,i,r);this.type="axial"===t?2:3,this.coords=e,this.colors=n,Ix.call(this,i,r)}function Ox(t,e,n,i,r){if(!(this instanceof Ox))return new Ox(t,e,n,i,r);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,Ix.call(this,i,r)}function Mx(t){var e,n="string"==typeof arguments[0]?arguments[0]:"p",i=arguments[1],r=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;"object"===(0,Gm.A)(t=t||{})&&(n=t.orientation,i=t.unit||i,r=t.format||r,s=t.compress||t.compressPdf||s,null!==(u=t.encryption||null)&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a="number"==typeof t.userUnit?Math.abs(t.userUnit):1,void 0!==t.precision&&(e=t.precision),void 0!==t.floatPrecision&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),o=t.filters||(!0===s?["FlateEncode"]:o),i=i||"mm",n=(""+(n||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,d={},f={internal:{},__private__:{}};f.__private__.PubSub=Rx;var p="1.3",g=f.__private__.getPdfVersion=function(){return p};f.__private__.setPdfVersion=function(t){p=t};var m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return m};var v=f.__private__.getPageFormat=function(t){return m[t]};r=r||"a4";var y="compat",w="advanced",b=y;function _(){this.saveGraphicsState(),J(new jt(dt,0,0,-dt,0,fn()*dt).toString()+" cm"),this.setFontSize(this.getFontSize()/dt),c="n",b=w}function x(){this.restoreGraphicsState(),c="S",b=y}var S=f.__private__.combineFontStyleAndFontWeight=function(t,e){if("bold"==t&&"normal"==e||"bold"==t&&400==e||"normal"==t&&"italic"==e||"bold"==t&&"italic"==e)throw new Error("Invalid Combination of fontweight and fontstyle");return e&&(t=400==e||"normal"===e?"italic"===t?"italic":"normal":700!=e&&"bold"!==e||"normal"!==t?(700==e?"bold":e)+""+t:"bold"),t};f.advancedAPI=function(t){var e=b===y;return e&&_.call(this),"function"!=typeof t||(t(this),e&&x.call(this)),this},f.compatAPI=function(t){var e=b===w;return e&&x.call(this),"function"!=typeof t||(t(this),e&&_.call(this)),this},f.isAdvancedAPI=function(){return b===w};var k,C=function(t){if(b!==w)throw new Error(t+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},N=f.roundToPrecision=f.__private__.roundToPrecision=function(t,n){var i=e||n;if(isNaN(t)||isNaN(i))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return t.toFixed(i).replace(/0+$/,"")};k=f.hpf=f.__private__.hpf="number"==typeof l?function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.hpf");return N(t,l)}:"smart"===l?function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.hpf");return N(t,t>-1&&t<1?16:5)}:function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.hpf");return N(t,16)};var A=f.f2=f.__private__.f2=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f2");return N(t,2)},E=f.__private__.f3=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f3");return N(t,3)},L=f.scale=f.__private__.scale=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.scale");return b===y?t*dt:b===w?t:void 0},P=function(t){return L(function(t){return b===y?fn()-t:b===w?t:void 0}(t))};f.__private__.setPrecision=f.setPrecision=function(t){"number"==typeof parseInt(t,10)&&(e=parseInt(t,10))};var j,R="00000000000000000000000000000000",T=f.__private__.getFileId=function(){return R},I=f.__private__.setFileId=function(t){return R=void 0!==t&&/^[a-fA-F0-9]{32}$/.test(t)?t.toUpperCase():R.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==u&&(ye=new Px(u.userPermissions,u.userPassword,u.ownerPassword,R)),R};f.setFileId=function(t){return I(t),this},f.getFileId=function(){return T()};var F=f.__private__.convertDateToPDFDate=function(t){var e=t.getTimezoneOffset(),n=e<0?"+":"-",i=Math.floor(Math.abs(e/60)),r=Math.abs(e%60),s=[n,z(i),"'",z(r),"'"].join("");return["D:",t.getFullYear(),z(t.getMonth()+1),z(t.getDate()),z(t.getHours()),z(t.getMinutes()),z(t.getSeconds()),s].join("")},O=f.__private__.convertPDFDateToDate=function(t){var e=parseInt(t.substr(2,4),10),n=parseInt(t.substr(6,2),10)-1,i=parseInt(t.substr(8,2),10),r=parseInt(t.substr(10,2),10),s=parseInt(t.substr(12,2),10),o=parseInt(t.substr(14,2),10);return new Date(e,n,i,r,s,o,0)},M=f.__private__.setCreationDate=function(t){var e;if(void 0===t&&(t=new Date),t instanceof Date)e=F(t);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(t))throw new Error("Invalid argument passed to jsPDF.setCreationDate");e=t}return j=e},D=f.__private__.getCreationDate=function(t){var e=j;return"jsDate"===t&&(e=O(j)),e};f.setCreationDate=function(t){return M(t),this},f.getCreationDate=function(t){return D(t)};var B,z=f.__private__.padd2=function(t){return("0"+parseInt(t)).slice(-2)},U=f.__private__.padd2Hex=function(t){return("00"+(t=t.toString())).substr(t.length)},q=0,W=[],H=[],V=0,G=[],K=[],Y=!1,X=H;f.__private__.setCustomOutputDestination=function(t){Y=!0,X=t};var Z=function(t){Y||(X=t)};f.__private__.resetCustomOutputDestination=function(){Y=!1,X=H};var J=f.__private__.out=function(t){return t=t.toString(),V+=t.length+1,X.push(t),X},$=f.__private__.write=function(t){return J(1===arguments.length?t.toString():Array.prototype.join.call(arguments," "))},Q=f.__private__.getArrayBuffer=function(t){for(var e=t.length,n=new ArrayBuffer(e),i=new Uint8Array(n);e--;)i[e]=t.charCodeAt(e);return n},tt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return tt};var et=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(t){return et=b===w?t/dt:t,this};var nt,it=f.__private__.getFontSize=f.getFontSize=function(){return b===y?et:et*dt},rt=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(t){return rt=t,this},f.__private__.getR2L=f.getR2L=function(){return rt};var st,ot=f.__private__.setZoomMode=function(t){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(t))nt=t;else if(isNaN(t)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(t))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+t+'" is not recognized.');nt=t}else nt=parseInt(t,10)};f.__private__.getZoomMode=function(){return nt};var at,lt=f.__private__.setPageMode=function(t){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(t))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+t+'" is not recognized.');st=t};f.__private__.getPageMode=function(){return st};var ct=f.__private__.setLayoutMode=function(t){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(t))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+t+'" is not recognized.');at=t};f.__private__.getLayoutMode=function(){return at},f.__private__.setDisplayMode=f.setDisplayMode=function(t,e,n){return ot(t),ct(e),lt(n),this};var ut={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(t){if(-1===Object.keys(ut).indexOf(t))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ut[t]},f.__private__.getDocumentProperties=function(){return ut},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(t){for(var e in ut)ut.hasOwnProperty(e)&&t[e]&&(ut[e]=t[e]);return this},f.__private__.setDocumentProperty=function(t,e){if(-1===Object.keys(ut).indexOf(t))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ut[t]=e};var ht,dt,ft,pt,gt,mt={},vt={},yt=[],wt={},bt={},_t={},xt={},St=null,kt=0,Ct=[],Nt=new Rx(f),At=t.hotfixes||[],Et={},Lt={},Pt=[],jt=function t(e,n,i,r,s,o){if(!(this instanceof t))return new t(e,n,i,r,s,o);isNaN(e)&&(e=1),isNaN(n)&&(n=0),isNaN(i)&&(i=0),isNaN(r)&&(r=1),isNaN(s)&&(s=0),isNaN(o)&&(o=0),this._matrix=[e,n,i,r,s,o]};Object.defineProperty(jt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(t){this._matrix[0]=t}}),Object.defineProperty(jt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(t){this._matrix[1]=t}}),Object.defineProperty(jt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(t){this._matrix[2]=t}}),Object.defineProperty(jt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(t){this._matrix[3]=t}}),Object.defineProperty(jt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(t){this._matrix[4]=t}}),Object.defineProperty(jt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(t){this._matrix[5]=t}}),Object.defineProperty(jt.prototype,"a",{get:function(){return this._matrix[0]},set:function(t){this._matrix[0]=t}}),Object.defineProperty(jt.prototype,"b",{get:function(){return this._matrix[1]},set:function(t){this._matrix[1]=t}}),Object.defineProperty(jt.prototype,"c",{get:function(){return this._matrix[2]},set:function(t){this._matrix[2]=t}}),Object.defineProperty(jt.prototype,"d",{get:function(){return this._matrix[3]},set:function(t){this._matrix[3]=t}}),Object.defineProperty(jt.prototype,"e",{get:function(){return this._matrix[4]},set:function(t){this._matrix[4]=t}}),Object.defineProperty(jt.prototype,"f",{get:function(){return this._matrix[5]},set:function(t){this._matrix[5]=t}}),Object.defineProperty(jt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(jt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(jt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(jt.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),jt.prototype.join=function(t){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(t)},jt.prototype.multiply=function(t){var e=t.sx*this.sx+t.shy*this.shx,n=t.sx*this.shy+t.shy*this.sy,i=t.shx*this.sx+t.sy*this.shx,r=t.shx*this.shy+t.sy*this.sy,s=t.tx*this.sx+t.ty*this.shx+this.tx,o=t.tx*this.shy+t.ty*this.sy+this.ty;return new jt(e,n,i,r,s,o)},jt.prototype.decompose=function(){var t=this.sx,e=this.shy,n=this.shx,i=this.sy,r=this.tx,s=this.ty,o=Math.sqrt(t*t+e*e),a=(t/=o)*n+(e/=o)*i;n-=t*a,i-=e*a;var l=Math.sqrt(n*n+i*i);return a/=l,t*(i/=l)<e*(n/=l)&&(t=-t,e=-e,a=-a,o=-o),{scale:new jt(o,0,0,l,0,0),translate:new jt(1,0,0,1,r,s),rotate:new jt(t,e,-e,t,0,0),skew:new jt(1,0,a,1,0,0)}},jt.prototype.toString=function(t){return this.join(" ")},jt.prototype.inversed=function(){var t=this.sx,e=this.shy,n=this.shx,i=this.sy,r=this.tx,s=this.ty,o=1/(t*i-e*n),a=i*o,l=-e*o,c=-n*o,u=t*o;return new jt(a,l,c,u,-a*r-c*s,-l*r-u*s)},jt.prototype.applyToPoint=function(t){var e=t.x*this.sx+t.y*this.shx+this.tx,n=t.x*this.shy+t.y*this.sy+this.ty;return new en(e,n)},jt.prototype.applyToRectangle=function(t){var e=this.applyToPoint(t),n=this.applyToPoint(new en(t.x+t.w,t.y+t.h));return new nn(e.x,e.y,n.x-e.x,n.y-e.y)},jt.prototype.clone=function(){var t=this.sx,e=this.shy,n=this.shx,i=this.sy,r=this.tx,s=this.ty;return new jt(t,e,n,i,r,s)},f.Matrix=jt;var Rt=f.matrixMult=function(t,e){return e.multiply(t)},Tt=new jt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Tt;var It=function(t,e){if(!bt[t]){var n=(e instanceof Fx?"Sh":"P")+(Object.keys(wt).length+1).toString(10);e.id=n,bt[t]=n,wt[n]=e,Nt.publish("addPattern",e)}};f.ShadingPattern=Fx,f.TilingPattern=Ox,f.addShadingPattern=function(t,e){return C("addShadingPattern()"),It(t,e),this},f.beginTilingPattern=function(t){C("beginTilingPattern()"),sn(t.boundingBox[0],t.boundingBox[1],t.boundingBox[2]-t.boundingBox[0],t.boundingBox[3]-t.boundingBox[1],t.matrix)},f.endTilingPattern=function(t,e){C("endTilingPattern()"),e.stream=K[B].join("\n"),It(t,e),Nt.publish("endTilingPattern",e),Pt.pop().restore()};var Ft,Ot=f.__private__.newObject=function(){var t=Mt();return Dt(t,!0),t},Mt=f.__private__.newObjectDeferred=function(){return q++,W[q]=function(){return V},q},Dt=function(t,e){return e="boolean"==typeof e&&e,W[t]=V,e&&J(t+" 0 obj"),t},Bt=f.__private__.newAdditionalObject=function(){var t={objId:Mt(),content:""};return G.push(t),t},zt=Mt(),Ut=Mt(),qt=f.__private__.decodeColorString=function(t){var e=t.split(" ");if(2!==e.length||"g"!==e[1]&&"G"!==e[1])5!==e.length||"k"!==e[4]&&"K"!==e[4]||(e=[(1-e[0])*(1-e[3]),(1-e[1])*(1-e[3]),(1-e[2])*(1-e[3]),"r"]);else{var n=parseFloat(e[0]);e=[n,n,n,"r"]}for(var i="#",r=0;r<3;r++)i+=("0"+Math.floor(255*parseFloat(e[r])).toString(16)).slice(-2);return i},Wt=f.__private__.encodeColorString=function(t){var e;"string"==typeof t&&(t={ch1:t});var n=t.ch1,i=t.ch2,r=t.ch3,s=t.ch4,o="draw"===t.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var a=new hx(n);if(a.ok)n=a.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var l=parseInt(n.substr(1),16);n=l>>16&255,i=l>>8&255,r=255&l}if(void 0===i||void 0===s&&n===i&&i===r)e="string"==typeof n?n+" "+o[0]:2===t.precision?A(n/255)+" "+o[0]:E(n/255)+" "+o[0];else if(void 0===s||"object"===(0,Gm.A)(s)){if(s&&!isNaN(s.a)&&0===s.a)return["1.","1.","1.",o[1]].join(" ");e="string"==typeof n?[n,i,r,o[1]].join(" "):2===t.precision?[A(n/255),A(i/255),A(r/255),o[1]].join(" "):[E(n/255),E(i/255),E(r/255),o[1]].join(" ")}else e="string"==typeof n?[n,i,r,s,o[2]].join(" "):2===t.precision?[A(n),A(i),A(r),A(s),o[2]].join(" "):[E(n),E(i),E(r),E(s),o[2]].join(" ");return e},Ht=f.__private__.getFilters=function(){return o},Vt=f.__private__.putStream=function(t){var e=(t=t||{}).data||"",n=t.filters||Ht(),i=t.alreadyAppliedFilters||[],r=t.addLength1||!1,s=e.length,o=t.objectId,a=function(t){return t};if(null!==u&&void 0===o)throw new Error("ObjectId must be passed to putStream for file encryption");null!==u&&(a=ye.encryptor(o,0));var l={};!0===n&&(n=["FlateEncode"]);var c=t.additionalKeyValues||[],h=(l=void 0!==Mx.API.processDataByFilters?Mx.API.processDataByFilters(e,n):{data:e,reverseChain:[]}).reverseChain+(Array.isArray(i)?i.join(" "):i.toString());if(0!==l.data.length&&(c.push({key:"Length",value:l.data.length}),!0===r&&c.push({key:"Length1",value:s})),0!=h.length)if(h.split("/").length-1==1)c.push({key:"Filter",value:h});else{c.push({key:"Filter",value:"["+h+"]"});for(var d=0;d<c.length;d+=1)if("DecodeParms"===c[d].key){for(var f=[],p=0;p<l.reverseChain.split("/").length-1;p+=1)f.push("null");f.push(c[d].value),c[d].value="["+f.join(" ")+"]"}}J("<<");for(var g=0;g<c.length;g++)J("/"+c[g].key+" "+c[g].value);J(">>"),0!==l.data.length&&(J("stream"),J(a(l.data)),J("endstream"))},Gt=f.__private__.putPage=function(t){var e=t.number,n=t.data,i=t.objId,r=t.contentsObjId;Dt(i,!0),J("<</Type /Page"),J("/Parent "+t.rootDictionaryObjId+" 0 R"),J("/Resources "+t.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(k(t.mediaBox.bottomLeftX))+" "+parseFloat(k(t.mediaBox.bottomLeftY))+" "+k(t.mediaBox.topRightX)+" "+k(t.mediaBox.topRightY)+"]"),null!==t.cropBox&&J("/CropBox ["+k(t.cropBox.bottomLeftX)+" "+k(t.cropBox.bottomLeftY)+" "+k(t.cropBox.topRightX)+" "+k(t.cropBox.topRightY)+"]"),null!==t.bleedBox&&J("/BleedBox ["+k(t.bleedBox.bottomLeftX)+" "+k(t.bleedBox.bottomLeftY)+" "+k(t.bleedBox.topRightX)+" "+k(t.bleedBox.topRightY)+"]"),null!==t.trimBox&&J("/TrimBox ["+k(t.trimBox.bottomLeftX)+" "+k(t.trimBox.bottomLeftY)+" "+k(t.trimBox.topRightX)+" "+k(t.trimBox.topRightY)+"]"),null!==t.artBox&&J("/ArtBox ["+k(t.artBox.bottomLeftX)+" "+k(t.artBox.bottomLeftY)+" "+k(t.artBox.topRightX)+" "+k(t.artBox.topRightY)+"]"),"number"==typeof t.userUnit&&1!==t.userUnit&&J("/UserUnit "+t.userUnit),Nt.publish("putPage",{objId:i,pageContext:Ct[e],pageNumber:e,page:n}),J("/Contents "+r+" 0 R"),J(">>"),J("endobj");var s=n.join("\n");return b===w&&(s+="\nQ"),Dt(r,!0),Vt({data:s,filters:Ht(),objectId:r}),J("endobj"),i},Kt=f.__private__.putPages=function(){var t,e,n=[];for(t=1;t<=kt;t++)Ct[t].objId=Mt(),Ct[t].contentsObjId=Mt();for(t=1;t<=kt;t++)n.push(Gt({number:t,data:K[t],objId:Ct[t].objId,contentsObjId:Ct[t].contentsObjId,mediaBox:Ct[t].mediaBox,cropBox:Ct[t].cropBox,bleedBox:Ct[t].bleedBox,trimBox:Ct[t].trimBox,artBox:Ct[t].artBox,userUnit:Ct[t].userUnit,rootDictionaryObjId:zt,resourceDictionaryObjId:Ut}));Dt(zt,!0),J("<</Type /Pages");var i="/Kids [";for(e=0;e<kt;e++)i+=n[e]+" 0 R ";J(i+"]"),J("/Count "+kt),J(">>"),J("endobj"),Nt.publish("postPutPages")},Yt=function(t){Nt.publish("putFont",{font:t,out:J,newObject:Ot,putStream:Vt}),!0!==t.isAlreadyPutted&&(t.objectNumber=Ot(),J("<<"),J("/Type /Font"),J("/BaseFont /"+jx(t.postScriptName)),J("/Subtype /Type1"),"string"==typeof t.encoding&&J("/Encoding /"+t.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},Xt=function(t){t.objectNumber=Ot();var e=[];e.push({key:"Type",value:"/XObject"}),e.push({key:"Subtype",value:"/Form"}),e.push({key:"BBox",value:"["+[k(t.x),k(t.y),k(t.x+t.width),k(t.y+t.height)].join(" ")+"]"}),e.push({key:"Matrix",value:"["+t.matrix.toString()+"]"});var n=t.pages[1].join("\n");Vt({data:n,additionalKeyValues:e,objectId:t.objectNumber}),J("endobj")},Zt=function(t,e){e||(e=21);var n=Ot(),i=function(t,e){var n,i=[],r=1/(e-1);for(n=0;n<1;n+=r)i.push(n);if(i.push(1),0!=t[0].offset){var s={offset:0,color:t[0].color};t.unshift(s)}if(1!=t[t.length-1].offset){var o={offset:1,color:t[t.length-1].color};t.push(o)}for(var a="",l=0,c=0;c<i.length;c++){for(n=i[c];n>t[l+1].offset;)l++;var u=t[l].offset,h=(n-u)/(t[l+1].offset-u),d=t[l].color,f=t[l+1].color;a+=U(Math.round((1-h)*d[0]+h*f[0]).toString(16))+U(Math.round((1-h)*d[1]+h*f[1]).toString(16))+U(Math.round((1-h)*d[2]+h*f[2]).toString(16))}return a.trim()}(t.colors,e),r=[];r.push({key:"FunctionType",value:"0"}),r.push({key:"Domain",value:"[0.0 1.0]"}),r.push({key:"Size",value:"["+e+"]"}),r.push({key:"BitsPerSample",value:"8"}),r.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),r.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Vt({data:i,additionalKeyValues:r,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),J("endobj"),t.objectNumber=Ot(),J("<< /ShadingType "+t.type),J("/ColorSpace /DeviceRGB");var s="/Coords ["+k(parseFloat(t.coords[0]))+" "+k(parseFloat(t.coords[1]))+" ";2===t.type?s+=k(parseFloat(t.coords[2]))+" "+k(parseFloat(t.coords[3])):s+=k(parseFloat(t.coords[2]))+" "+k(parseFloat(t.coords[3]))+" "+k(parseFloat(t.coords[4]))+" "+k(parseFloat(t.coords[5])),J(s+="]"),t.matrix&&J("/Matrix ["+t.matrix.toString()+"]"),J("/Function "+n+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},Jt=function(t,e){var n=Mt(),i=Ot();e.push({resourcesOid:n,objectOid:i}),t.objectNumber=i;var r=[];r.push({key:"Type",value:"/Pattern"}),r.push({key:"PatternType",value:"1"}),r.push({key:"PaintType",value:"1"}),r.push({key:"TilingType",value:"1"}),r.push({key:"BBox",value:"["+t.boundingBox.map(k).join(" ")+"]"}),r.push({key:"XStep",value:k(t.xStep)}),r.push({key:"YStep",value:k(t.yStep)}),r.push({key:"Resources",value:n+" 0 R"}),t.matrix&&r.push({key:"Matrix",value:"["+t.matrix.toString()+"]"}),Vt({data:t.stream,additionalKeyValues:r,objectId:t.objectNumber}),J("endobj")},$t=function(t){for(var e in t.objectNumber=Ot(),J("<<"),t)switch(e){case"opacity":J("/ca "+A(t[e]));break;case"stroke-opacity":J("/CA "+A(t[e]))}J(">>"),J("endobj")},Qt=function(t){Dt(t.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var t in J("/Font <<"),mt)mt.hasOwnProperty(t)&&(!1===h||!0===h&&d.hasOwnProperty(t))&&J("/"+t+" "+mt[t].objectNumber+" 0 R");J(">>")}(),function(){if(Object.keys(wt).length>0){for(var t in J("/Shading <<"),wt)wt.hasOwnProperty(t)&&wt[t]instanceof Fx&&wt[t].objectNumber>=0&&J("/"+t+" "+wt[t].objectNumber+" 0 R");Nt.publish("putShadingPatternDict"),J(">>")}}(),function(t){if(Object.keys(wt).length>0){for(var e in J("/Pattern <<"),wt)wt.hasOwnProperty(e)&&wt[e]instanceof f.TilingPattern&&wt[e].objectNumber>=0&&wt[e].objectNumber<t&&J("/"+e+" "+wt[e].objectNumber+" 0 R");Nt.publish("putTilingPatternDict"),J(">>")}}(t.objectOid),function(){if(Object.keys(_t).length>0){var t;for(t in J("/ExtGState <<"),_t)_t.hasOwnProperty(t)&&_t[t].objectNumber>=0&&J("/"+t+" "+_t[t].objectNumber+" 0 R");Nt.publish("putGStateDict"),J(">>")}}(),function(){for(var t in J("/XObject <<"),Et)Et.hasOwnProperty(t)&&Et[t].objectNumber>=0&&J("/"+t+" "+Et[t].objectNumber+" 0 R");Nt.publish("putXobjectDict"),J(">>")}(),J(">>"),J("endobj")},te=function(t){vt[t.fontName]=vt[t.fontName]||{},vt[t.fontName][t.fontStyle]=t.id},ee=function(t,e,n,i,r){var s={id:"F"+(Object.keys(mt).length+1).toString(10),postScriptName:t,fontName:e,fontStyle:n,encoding:i,isStandardFont:r||!1,metadata:{}};return Nt.publish("addFont",{font:s,instance:this}),mt[s.id]=s,te(s),s.id},ne=f.__private__.pdfEscape=f.pdfEscape=function(t,e){return function(t,e){var n,i,r,s,o,a,l,c,u;if(r=(e=e||{}).sourceEncoding||"Unicode",o=e.outputEncoding,(e.autoencode||o)&&mt[ht].metadata&&mt[ht].metadata[r]&&mt[ht].metadata[r].encoding&&(s=mt[ht].metadata[r].encoding,!o&&mt[ht].encoding&&(o=mt[ht].encoding),!o&&s.codePages&&(o=s.codePages[0]),"string"==typeof o&&(o=s[o]),o)){for(l=!1,a=[],n=0,i=t.length;n<i;n++)(c=o[t.charCodeAt(n)])?a.push(String.fromCharCode(c)):a.push(t[n]),a[n].charCodeAt(0)>>8&&(l=!0);t=a.join("")}for(n=t.length;void 0===l&&0!==n;)t.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return t;for(a=e.noBOM?[]:[254,255],n=0,i=t.length;n<i;n++){if((u=(c=t.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+t+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");a.push(u),a.push(c-(u<<8))}return String.fromCharCode.apply(void 0,a)}(t,e).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ie=f.__private__.beginPage=function(t){K[++kt]=[],Ct[kt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(t[0]),topRightY:Number(t[1])}},oe(kt),Z(K[B])},re=function(t,e){var i,s,o;switch(n=e||n,"string"==typeof t&&(i=v(t.toLowerCase()),Array.isArray(i)&&(s=i[0],o=i[1])),Array.isArray(t)&&(s=t[0]*dt,o=t[1]*dt),isNaN(s)&&(s=r[0],o=r[1]),(s>14400||o>14400)&&(ox.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),s=Math.min(14400,s),o=Math.min(14400,o)),r=[s,o],n.substr(0,1)){case"l":o>s&&(r=[o,s]);break;case"p":s>o&&(r=[o,s])}ie(r),De(Oe),J(Ge),0!==$e&&J($e+" J"),0!==Qe&&J(Qe+" j"),Nt.publish("addPage",{pageNumber:kt})},se=function(t){t>0&&t<=kt&&(K.splice(t,1),Ct.splice(t,1),kt--,B>kt&&(B=kt),this.setPage(B))},oe=function(t){t>0&&t<=kt&&(B=t)},ae=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return K.length-1},le=function(t,e,n){var i,r=void 0;return n=n||{},t=void 0!==t?t:mt[ht].fontName,e=void 0!==e?e:mt[ht].fontStyle,i=t.toLowerCase(),void 0!==vt[i]&&void 0!==vt[i][e]?r=vt[i][e]:void 0!==vt[t]&&void 0!==vt[t][e]?r=vt[t][e]:!1===n.disableWarning&&ox.warn("Unable to look up font label for font '"+t+"', '"+e+"'. Refer to getFontList() for available fonts."),r||n.noFallback||null==(r=vt.times[e])&&(r=vt.times.normal),r},ce=f.__private__.putInfo=function(){var t=Ot(),e=function(t){return t};for(var n in null!==u&&(e=ye.encryptor(t,0)),J("<<"),J("/Producer ("+ne(e("jsPDF "+Mx.version))+")"),ut)ut.hasOwnProperty(n)&&ut[n]&&J("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+ne(e(ut[n]))+")");J("/CreationDate ("+ne(e(j))+")"),J(">>"),J("endobj")},ue=f.__private__.putCatalog=function(t){var e=(t=t||{}).rootDictionaryObjId||zt;switch(Ot(),J("<<"),J("/Type /Catalog"),J("/Pages "+e+" 0 R"),nt||(nt="fullwidth"),nt){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+nt;"%"===n.substr(n.length-1)&&(nt=parseInt(nt)/100),"number"==typeof nt&&J("/OpenAction [3 0 R /XYZ null null "+A(nt)+"]")}switch(at||(at="continuous"),at){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}st&&J("/PageMode /"+st),Nt.publish("putCatalog"),J(">>"),J("endobj")},he=f.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(q+1)),J("/Root "+q+" 0 R"),J("/Info "+(q-1)+" 0 R"),null!==u&&J("/Encrypt "+ye.oid+" 0 R"),J("/ID [ <"+R+"> <"+R+"> ]"),J(">>")},de=f.__private__.putHeader=function(){J("%PDF-"+p),J("%\xba\xdf\xac\xe0")},fe=f.__private__.putXRef=function(){var t="0000000000";J("xref"),J("0 "+(q+1)),J("0000000000 65535 f ");for(var e=1;e<=q;e++)"function"==typeof W[e]?J((t+W[e]()).slice(-10)+" 00000 n "):void 0!==W[e]?J((t+W[e]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},pe=f.__private__.buildDocument=function(){var t;q=0,V=0,H=[],W=[],G=[],zt=Mt(),Ut=Mt(),Z(H),Nt.publish("buildDocument"),de(),Kt(),function(){Nt.publish("putAdditionalObjects");for(var t=0;t<G.length;t++){var e=G[t];Dt(e.objId,!0),J(e.content),J("endobj")}Nt.publish("postPutAdditionalObjects")}(),t=[],function(){for(var t in mt)mt.hasOwnProperty(t)&&(!1===h||!0===h&&d.hasOwnProperty(t))&&Yt(mt[t])}(),function(){var t;for(t in _t)_t.hasOwnProperty(t)&&$t(_t[t])}(),function(){for(var t in Et)Et.hasOwnProperty(t)&&Xt(Et[t])}(),function(t){var e;for(e in wt)wt.hasOwnProperty(e)&&(wt[e]instanceof Fx?Zt(wt[e]):wt[e]instanceof Ox&&Jt(wt[e],t))}(t),Nt.publish("putResources"),t.forEach(Qt),Qt({resourcesOid:Ut,objectOid:Number.MAX_SAFE_INTEGER}),Nt.publish("postPutResources"),null!==u&&(ye.oid=Ot(),J("<<"),J("/Filter /Standard"),J("/V "+ye.v),J("/R "+ye.r),J("/U <"+ye.toHexString(ye.U)+">"),J("/O <"+ye.toHexString(ye.O)+">"),J("/P "+ye.P),J(">>"),J("endobj")),ce(),ue();var e=V;return fe(),he(),J("startxref"),J(""+e),J("%%EOF"),Z(K[B]),H.join("\n")},ge=f.__private__.getBlob=function(t){return new Blob([Q(t)],{type:"application/pdf"})},me=f.output=f.__private__.output=(Ft=function(t,e){switch("string"==typeof(e=e||{})?e={filename:e}:e.filename=e.filename||"generated.pdf",t){case void 0:return pe();case"save":f.save(e.filename);break;case"arraybuffer":return Q(pe());case"blob":return ge(pe());case"bloburi":case"bloburl":if(void 0!==rx.URL&&"function"==typeof rx.URL.createObjectURL)return rx.URL&&rx.URL.createObjectURL(ge(pe()))||void 0;ox.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",i=pe();try{n=fx(i)}catch(u){n=fx(unescape(encodeURIComponent(i)))}return"data:application/pdf;filename="+e.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(rx)){var r="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",s=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';e.pdfObjectUrl&&(r=e.pdfObjectUrl,s="");var o='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+r+'"'+s+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(e)+");<\/script></body></html>",a=rx.open();return null!==a&&a.document.write(o),a}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(rx)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(e.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+e.filename+'" width="500px" height="400px" /></body></html>',c=rx.open();if(null!==c){c.document.write(l);var h=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=e.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(h.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(rx))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var d='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",e)+'"></iframe></body></html>',p=rx.open();if(null!==p&&(p.document.write(d),p.document.title=e.filename),p||"undefined"==typeof safari)return p;break;case"datauri":case"dataurl":return rx.document.location.href=this.output("datauristring",e);default:return null}},Ft.foo=function(){try{return Ft.apply(this,arguments)}catch(e){var t=e.stack||"";~t.indexOf(" at ")&&(t=t.split(" at ")[1]);var n="Error in function "+t.split("\n")[0].split("<")[0]+": "+e.message;if(!rx.console)throw new Error(n);rx.console.error(n,e),rx.alert&&alert(n)}},Ft.foo.bar=Ft,Ft.foo),ve=function(t){return!0===Array.isArray(At)&&At.indexOf(t)>-1};switch(i){case"pt":dt=1;break;case"mm":dt=72/25.4;break;case"cm":dt=72/2.54;break;case"in":dt=72;break;case"px":dt=1==ve("px_scaling")?.75:96/72;break;case"pc":case"em":dt=12;break;case"ex":dt=6;break;default:if("number"!=typeof i)throw new Error("Invalid unit: "+i);dt=i}var ye=null;M(),I();var we=f.__private__.getPageInfo=f.getPageInfo=function(t){if(isNaN(t)||t%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ct[t].objId,pageNumber:t,pageContext:Ct[t]}},be=f.__private__.getPageInfoByObjId=function(t){if(isNaN(t)||t%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var e in Ct)if(Ct[e].objId===t)break;return we(e)},_e=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Ct[B].objId,pageNumber:B,pageContext:Ct[B]}};f.addPage=function(){return re.apply(this,arguments),this},f.setPage=function(){return oe.apply(this,arguments),Z.call(this,K[B]),this},f.insertPage=function(t){return this.addPage(),this.movePage(B,t),this},f.movePage=function(t,e){var n,i;if(t>e){n=K[t],i=Ct[t];for(var r=t;r>e;r--)K[r]=K[r-1],Ct[r]=Ct[r-1];K[e]=n,Ct[e]=i,this.setPage(e)}else if(t<e){n=K[t],i=Ct[t];for(var s=t;s<e;s++)K[s]=K[s+1],Ct[s]=Ct[s+1];K[e]=n,Ct[e]=i,this.setPage(e)}return this},f.deletePage=function(){return se.apply(this,arguments),this},f.__private__.text=f.text=function(t,e,n,i,r){var s,o,a,l,c,u,h,f,p,g=(i=i||{}).scope||this;if("number"==typeof t&&"number"==typeof e&&("string"==typeof n||Array.isArray(n))){var m=n;n=e,e=t,t=m}if(arguments[3]instanceof jt==0?(a=arguments[4],l=arguments[5],"object"===(0,Gm.A)(h=arguments[3])&&null!==h||("string"==typeof a&&(l=a,a=null),"string"==typeof h&&(l=h,h=null),"number"==typeof h&&(a=h,h=null),i={flags:h,angle:a,align:l})):(C("The transform parameter of text() with a Matrix value"),p=r),isNaN(e)||isNaN(n)||null==t)throw new Error("Invalid arguments passed to jsPDF.text");if(0===t.length)return g;var v,y="",_="number"==typeof i.lineHeightFactor?i.lineHeightFactor:Fe,x=g.internal.scaleFactor;function S(t){return t=t.split("\t").join(Array(i.TabLen||9).join(" ")),ne(t,h)}function N(t){for(var e,n=t.concat(),i=[],r=n.length;r--;)"string"==typeof(e=n.shift())?i.push(e):Array.isArray(t)&&(1===e.length||void 0===e[1]&&void 0===e[2])?i.push(e[0]):i.push([e[0],e[1],e[2]]);return i}function A(t,e){var n;if("string"==typeof t)n=e(t)[0];else if(Array.isArray(t)){for(var i,r,s=t.concat(),o=[],a=s.length;a--;)"string"==typeof(i=s.shift())?o.push(e(i)[0]):Array.isArray(i)&&"string"==typeof i[0]&&(r=e(i[0],i[1],i[2]),o.push([r[0],r[1],r[2]]));n=o}return n}var E=!1,P=!0;if("string"==typeof t)E=!0;else if(Array.isArray(t)){var j=t.concat();o=[];for(var R,T=j.length;T--;)("string"!=typeof(R=j.shift())||Array.isArray(R)&&"string"!=typeof R[0])&&(P=!1);E=P}if(!1===E)throw new Error('Type of text must be string or Array. "'+t+'" is not recognized.');"string"==typeof t&&(t=t.match(/[\r?\n]/)?t.split(/\r\n|\r|\n/g):[t]);var I=et/g.internal.scaleFactor,F=I*(_-1);switch(i.baseline){case"bottom":n-=F;break;case"top":n+=I-F;break;case"hanging":n+=I-2*F;break;case"middle":n+=I/2-F}if((u=i.maxWidth||0)>0&&("string"==typeof t?t=g.splitTextToSize(t,u):"[object Array]"===Object.prototype.toString.call(t)&&(t=t.reduce(function(t,e){return t.concat(g.splitTextToSize(e,u))},[]))),s={text:t,x:e,y:n,options:i,mutex:{pdfEscape:ne,activeFontKey:ht,fonts:mt,activeFontSize:et}},Nt.publish("preProcessText",s),t=s.text,a=(i=s.options).angle,p instanceof jt==0&&a&&"number"==typeof a){a*=Math.PI/180,0===i.rotationDirection&&(a=-a),b===w&&(a=-a);var O=Math.cos(a),M=Math.sin(a);p=new jt(O,M,-M,O,0,0)}else a&&a instanceof jt&&(p=a);b!==w||p||(p=Tt),void 0!==(c=i.charSpace||Ze)&&(y+=k(L(c))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(f=i.horizontalScale)&&(y+=k(100*f)+" Tz\n"),i.lang;var D=-1,B=void 0!==i.renderingMode?i.renderingMode:i.stroke,z=g.internal.getCurrentPageInfo().pageContext;switch(B){case 0:case!1:case"fill":D=0;break;case 1:case!0:case"stroke":D=1;break;case 2:case"fillThenStroke":D=2;break;case 3:case"invisible":D=3;break;case 4:case"fillAndAddForClipping":D=4;break;case 5:case"strokeAndAddPathForClipping":D=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":D=6;break;case 7:case"addToPathForClipping":D=7}var U=void 0!==z.usedRenderingMode?z.usedRenderingMode:-1;-1!==D?y+=D+" Tr\n":-1!==U&&(y+="0 Tr\n"),-1!==D&&(z.usedRenderingMode=D),l=i.align||"left";var q,W=et*_,H=g.internal.pageSize.getWidth(),V=mt[ht];c=i.charSpace||Ze,u=i.maxWidth||0,h=Object.assign({autoencode:!0,noBOM:!0},i.flags);var G=[],K=function(t){return g.getStringUnitWidth(t,{font:V,charSpace:c,fontSize:et,doKerning:!1})*et/x};if("[object Array]"===Object.prototype.toString.call(t)){var Y;o=N(t),"left"!==l&&(q=o.map(K));var X,Z=0;if("right"===l){e-=q[0],t=[],T=o.length;for(var $=0;$<T;$++)0===$?(X=qe(e),Y=We(n)):(X=L(Z-q[$]),Y=-W),t.push([o[$],X,Y]),Z=q[$]}else if("center"===l){e-=q[0]/2,t=[],T=o.length;for(var Q=0;Q<T;Q++)0===Q?(X=qe(e),Y=We(n)):(X=L((Z-q[Q])/2),Y=-W),t.push([o[Q],X,Y]),Z=q[Q]}else if("left"===l){t=[],T=o.length;for(var tt=0;tt<T;tt++)t.push(o[tt])}else if("justify"===l&&"Identity-H"===V.encoding){t=[],T=o.length,u=0!==u?u:H;for(var nt=0,it=0;it<T;it++)if(Y=0===it?We(n):-W,X=0===it?qe(e):nt,it<T-1){var st=L((u-q[it])/(o[it].split(" ").length-1)),ot=o[it].split(" ");t.push([ot[0]+" ",X,Y]),nt=0;for(var at=1;at<ot.length;at++){var lt=(K(ot[at-1]+" "+ot[at])-K(ot[at]))*x+st;at==ot.length-1?t.push([ot[at],lt,0]):t.push([ot[at]+" ",lt,0]),nt-=lt}}else t.push([o[it],X,Y]);t.push(["",nt,0])}else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(t=[],T=o.length,u=0!==u?u:H,it=0;it<T;it++){Y=0===it?We(n):-W,X=0===it?qe(e):0;var ct=o[it].split(" ").length-1,ut=ct>0?(u-q[it])/ct:0;it<T-1?G.push(k(L(ut))):G.push(0),t.push([o[it],X,Y])}}}!0===("boolean"==typeof i.R2L?i.R2L:rt)&&(t=A(t,function(t,e,n){return[t.split("").reverse().join(""),e,n]})),s={text:t,x:e,y:n,options:i,mutex:{pdfEscape:ne,activeFontKey:ht,fonts:mt,activeFontSize:et}},Nt.publish("postProcessText",s),t=s.text,v=s.mutex.isHex||!1;var dt=mt[ht].encoding;"WinAnsiEncoding"!==dt&&"StandardEncoding"!==dt||(t=A(t,function(t,e,n){return[S(t),e,n]})),o=N(t),t=[];for(var ft,pt,gt,vt=Array.isArray(o[0])?1:0,yt="",wt=function(t,e,n){var r="";return n instanceof jt?(n="number"==typeof i.angle?Rt(n,new jt(1,0,0,1,t,e)):Rt(new jt(1,0,0,1,t,e),n),b===w&&(n=Rt(new jt(1,0,0,-1,0,0),n)),r=n.join(" ")+" Tm\n"):r=k(t)+" "+k(e)+" Td\n",r},bt=0;bt<o.length;bt++){switch(yt="",vt){case 1:gt=(v?"<":"(")+o[bt][0]+(v?">":")"),ft=parseFloat(o[bt][1]),pt=parseFloat(o[bt][2]);break;case 0:gt=(v?"<":"(")+o[bt]+(v?">":")"),ft=qe(e),pt=We(n)}void 0!==G&&void 0!==G[bt]&&(yt=G[bt]+" Tw\n"),0===bt?t.push(yt+wt(ft,pt,p)+gt):0===vt?t.push(yt+gt):1===vt&&t.push(yt+wt(ft,pt,p)+gt)}t=0===vt?t.join(" Tj\nT* "):t.join(" Tj\n"),t+=" Tj\n";var _t="BT\n/";return _t+=ht+" "+et+" Tf\n",_t+=k(et*_)+" TL\n",_t+=Ye+"\n",_t+=y,_t+=t,J(_t+="ET"),d[ht]=!0,g};var xe=f.__private__.clip=f.clip=function(t){return J("evenodd"===t?"W*":"W"),this};f.clipEvenOdd=function(){return xe("evenodd")},f.__private__.discardPath=f.discardPath=function(){return J("n"),this};var Se=f.__private__.isValidStyle=function(t){var e=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(t)&&(e=!0),e};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(t){return Se(t)&&(c=t),this};var ke=f.__private__.getStyle=f.getStyle=function(t){var e=c;switch(t){case"D":case"S":e="S";break;case"F":e="f";break;case"FD":case"DF":e="B";break;case"f":case"f*":case"B":case"B*":e=t}return e},Ce=f.close=function(){return J("h"),this};f.stroke=function(){return J("S"),this},f.fill=function(t){return Ne("f",t),this},f.fillEvenOdd=function(t){return Ne("f*",t),this},f.fillStroke=function(t){return Ne("B",t),this},f.fillStrokeEvenOdd=function(t){return Ne("B*",t),this};var Ne=function(t,e){"object"===(0,Gm.A)(e)?Le(e,t):J(t)},Ae=function(t){null===t||b===w&&void 0===t||(t=ke(t),J(t))};function Ee(t,e,n,i,r){var s=new Ox(e||this.boundingBox,n||this.xStep,i||this.yStep,this.gState,r||this.matrix);s.stream=this.stream;var o=t+"$$"+this.cloneIndex+++"$$";return It(o,s),s}var Le=function(t,e){var n=bt[t.key],i=wt[n];if(i instanceof Fx)J("q"),J(Pe(e)),i.gState&&f.setGState(i.gState),J(t.matrix.toString()+" cm"),J("/"+n+" sh"),J("Q");else if(i instanceof Ox){var r=new jt(1,0,0,-1,0,fn());t.matrix&&(r=r.multiply(t.matrix||Tt),n=Ee.call(i,t.key,t.boundingBox,t.xStep,t.yStep,r).id),J("q"),J("/Pattern cs"),J("/"+n+" scn"),i.gState&&f.setGState(i.gState),J(e),J("Q")}},Pe=function(t){switch(t){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},je=f.moveTo=function(t,e){return J(k(L(t))+" "+k(P(e))+" m"),this},Re=f.lineTo=function(t,e){return J(k(L(t))+" "+k(P(e))+" l"),this},Te=f.curveTo=function(t,e,n,i,r,s){return J([k(L(t)),k(P(e)),k(L(n)),k(P(i)),k(L(r)),k(P(s)),"c"].join(" ")),this};f.__private__.line=f.line=function(t,e,n,i,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(i)||!Se(r))throw new Error("Invalid arguments passed to jsPDF.line");return b===y?this.lines([[n-t,i-e]],t,e,[1,1],r||"S"):this.lines([[n-t,i-e]],t,e,[1,1]).stroke()},f.__private__.lines=f.lines=function(t,e,n,i,r,s){var o,a,l,c,u,h,d,f,p,g,m,v;if("number"==typeof t&&(v=n,n=e,e=t,t=v),i=i||[1,1],s=s||!1,isNaN(e)||isNaN(n)||!Array.isArray(t)||!Array.isArray(i)||!Se(r)||"boolean"!=typeof s)throw new Error("Invalid arguments passed to jsPDF.lines");for(je(e,n),o=i[0],a=i[1],c=t.length,g=e,m=n,l=0;l<c;l++)2===(u=t[l]).length?(g=u[0]*o+g,m=u[1]*a+m,Re(g,m)):(h=u[0]*o+g,d=u[1]*a+m,f=u[2]*o+g,p=u[3]*a+m,g=u[4]*o+g,m=u[5]*a+m,Te(h,d,f,p,g,m));return s&&Ce(),Ae(r),this},f.path=function(t){for(var e=0;e<t.length;e++){var n=t[e],i=n.c;switch(n.op){case"m":je(i[0],i[1]);break;case"l":Re(i[0],i[1]);break;case"c":Te.apply(this,i);break;case"h":Ce()}}return this},f.__private__.rect=f.rect=function(t,e,n,i,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(i)||!Se(r))throw new Error("Invalid arguments passed to jsPDF.rect");return b===y&&(i=-i),J([k(L(t)),k(P(e)),k(L(n)),k(L(i)),"re"].join(" ")),Ae(r),this},f.__private__.triangle=f.triangle=function(t,e,n,i,r,s,o){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(i)||isNaN(r)||isNaN(s)||!Se(o))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-t,i-e],[r-n,s-i],[t-r,e-s]],t,e,[1,1],o,!0),this},f.__private__.roundedRect=f.roundedRect=function(t,e,n,i,r,s,o){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(i)||isNaN(r)||isNaN(s)||!Se(o))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var a=4/3*(Math.SQRT2-1);return r=Math.min(r,.5*n),s=Math.min(s,.5*i),this.lines([[n-2*r,0],[r*a,0,r,s-s*a,r,s],[0,i-2*s],[0,s*a,-r*a,s,-r,s],[2*r-n,0],[-r*a,0,-r,-s*a,-r,-s],[0,2*s-i],[0,-s*a,r*a,-s,r,-s]],t+r,e,[1,1],o,!0),this},f.__private__.ellipse=f.ellipse=function(t,e,n,i,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(i)||!Se(r))throw new Error("Invalid arguments passed to jsPDF.ellipse");var s=4/3*(Math.SQRT2-1)*n,o=4/3*(Math.SQRT2-1)*i;return je(t+n,e),Te(t+n,e-o,t+s,e-i,t,e-i),Te(t-s,e-i,t-n,e-o,t-n,e),Te(t-n,e+o,t-s,e+i,t,e+i),Te(t+s,e+i,t+n,e+o,t+n,e),Ae(r),this},f.__private__.circle=f.circle=function(t,e,n,i){if(isNaN(t)||isNaN(e)||isNaN(n)||!Se(i))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(t,e,n,n,i)},f.setFont=function(t,e,n){return n&&(e=S(e,n)),ht=le(t,e,{disableWarning:!1}),this};var Ie=f.__private__.getFont=f.getFont=function(){return mt[le.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var t,e,n={};for(t in vt)if(vt.hasOwnProperty(t))for(e in n[t]=[],vt[t])vt[t].hasOwnProperty(e)&&n[t].push(e);return n},f.addFont=function(t,e,n,i,r){var s=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==s.indexOf(arguments[3])?r=arguments[3]:arguments[3]&&-1==s.indexOf(arguments[3])&&(n=S(n,i)),ee.call(this,t,e,n,r=r||"Identity-H")};var Fe,Oe=t.lineWidth||.200025,Me=f.__private__.getLineWidth=f.getLineWidth=function(){return Oe},De=f.__private__.setLineWidth=f.setLineWidth=function(t){return Oe=t,J(k(L(t))+" w"),this};f.__private__.setLineDash=Mx.API.setLineDash=Mx.API.setLineDashPattern=function(t,e){if(t=t||[],e=e||0,isNaN(e)||!Array.isArray(t))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return t=t.map(function(t){return k(L(t))}).join(" "),e=k(L(e)),J("["+t+"] "+e+" d"),this};var Be=f.__private__.getLineHeight=f.getLineHeight=function(){return et*Fe};f.__private__.getLineHeight=f.getLineHeight=function(){return et*Fe};var ze=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(t){return"number"==typeof(t=t||1.15)&&(Fe=t),this},Ue=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Fe};ze(t.lineHeight);var qe=f.__private__.getHorizontalCoordinate=function(t){return L(t)},We=f.__private__.getVerticalCoordinate=function(t){return b===w?t:Ct[B].mediaBox.topRightY-Ct[B].mediaBox.bottomLeftY-L(t)},He=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(t){return k(qe(t))},Ve=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(t){return k(We(t))},Ge=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return qt(Ge)},f.__private__.setStrokeColor=f.setDrawColor=function(t,e,n,i){return Ge=Wt({ch1:t,ch2:e,ch3:n,ch4:i,pdfColorType:"draw",precision:2}),J(Ge),this};var Ke=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return qt(Ke)},f.__private__.setFillColor=f.setFillColor=function(t,e,n,i){return Ke=Wt({ch1:t,ch2:e,ch3:n,ch4:i,pdfColorType:"fill",precision:2}),J(Ke),this};var Ye=t.textColor||"0 g",Xe=f.__private__.getTextColor=f.getTextColor=function(){return qt(Ye)};f.__private__.setTextColor=f.setTextColor=function(t,e,n,i){return Ye=Wt({ch1:t,ch2:e,ch3:n,ch4:i,pdfColorType:"text",precision:3}),this};var Ze=t.charSpace,Je=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Ze||0)};f.__private__.setCharSpace=f.setCharSpace=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ze=t,this};var $e=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(t){var e=f.CapJoinStyles[t];if(void 0===e)throw new Error("Line cap style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $e=e,J(e+" J"),this};var Qe=0;f.__private__.setLineJoin=f.setLineJoin=function(t){var e=f.CapJoinStyles[t];if(void 0===e)throw new Error("Line join style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qe=e,J(e+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(t){if(t=t||0,isNaN(t))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(k(L(t))+" M"),this},f.GState=Tx,f.setGState=function(t){(t="string"==typeof t?_t[xt[t]]:tn(null,t)).equals(St)||(J("/"+t.id+" gs"),St=t)};var tn=function(t,e){if(!t||!xt[t]){var n=!1;for(var i in _t)if(_t.hasOwnProperty(i)&&_t[i].equals(e)){n=!0;break}if(n)e=_t[i];else{var r="GS"+(Object.keys(_t).length+1).toString(10);_t[r]=e,e.id=r}return t&&(xt[t]=e.id),Nt.publish("addGState",e),e}};f.addGState=function(t,e){return tn(t,e),this},f.saveGraphicsState=function(){return J("q"),yt.push({key:ht,size:et,color:Ye}),this},f.restoreGraphicsState=function(){J("Q");var t=yt.pop();return ht=t.key,et=t.size,Ye=t.color,St=null,this},f.setCurrentTransformationMatrix=function(t){return J(t.toString()+" cm"),this},f.comment=function(t){return J("#"+t),this};var en=function(t,e){var n=t||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(t){isNaN(t)||(n=parseFloat(t))}});var i=e||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return i},set:function(t){isNaN(t)||(i=parseFloat(t))}});var r="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return r},set:function(t){r=t.toString()}}),this},nn=function(t,e,n,i){en.call(this,t,e),this.type="rect";var r=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return r},set:function(t){isNaN(t)||(r=parseFloat(t))}});var s=i||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return s},set:function(t){isNaN(t)||(s=parseFloat(t))}}),this},rn=function(){this.page=kt,this.currentPage=B,this.pages=K.slice(0),this.pagesContext=Ct.slice(0),this.x=ft,this.y=pt,this.matrix=gt,this.width=an(B),this.height=cn(B),this.outputDestination=X,this.id="",this.objectNumber=-1};rn.prototype.restore=function(){kt=this.page,B=this.currentPage,Ct=this.pagesContext,K=this.pages,ft=this.x,pt=this.y,gt=this.matrix,ln(B,this.width),un(B,this.height),X=this.outputDestination};var sn=function(t,e,n,i,r){Pt.push(new rn),kt=B=0,K=[],ft=t,pt=e,gt=r,ie([n,i])};for(var on in f.beginFormObject=function(t,e,n,i,r){return sn(t,e,n,i,r),this},f.endFormObject=function(t){return function(t){if(Lt[t])Pt.pop().restore();else{var e=new rn,n="Xo"+(Object.keys(Et).length+1).toString(10);e.id=n,Lt[t]=n,Et[n]=e,Nt.publish("addFormObject",e),Pt.pop().restore()}}(t),this},f.doFormObject=function(t,e){var n=Et[Lt[t]];return J("q"),J(e.toString()+" cm"),J("/"+n.id+" Do"),J("Q"),this},f.getFormObject=function(t){var e=Et[Lt[t]];return{x:e.x,y:e.y,width:e.width,height:e.height,matrix:e.matrix}},f.save=function(t,e){return t=t||"generated.pdf",(e=e||{}).returnPromise=e.returnPromise||!1,!1===e.returnPromise?(ux(ge(pe()),t),"function"==typeof ux.unload&&rx.setTimeout&&setTimeout(ux.unload,911),this):new Promise(function(e,n){try{var r=ux(ge(pe()),t);"function"==typeof ux.unload&&rx.setTimeout&&setTimeout(ux.unload,911),e(r)}catch(i){n(i.message)}})},Mx.API)Mx.API.hasOwnProperty(on)&&("events"===on&&Mx.API.events.length?function(t,e){var n,i,r;for(r=e.length-1;-1!==r;r--)n=e[r][0],i=e[r][1],t.subscribe.apply(t,[n].concat("function"==typeof i?[i]:i))}(Nt,Mx.API.events):f[on]=Mx.API[on]);function an(t){return Ct[t].mediaBox.topRightX-Ct[t].mediaBox.bottomLeftX}function ln(t,e){Ct[t].mediaBox.topRightX=e+Ct[t].mediaBox.bottomLeftX}function cn(t){return Ct[t].mediaBox.topRightY-Ct[t].mediaBox.bottomLeftY}function un(t,e){Ct[t].mediaBox.topRightY=e+Ct[t].mediaBox.bottomLeftY}var hn=f.getPageWidth=function(t){return an(t=t||B)/dt},dn=f.setPageWidth=function(t,e){ln(t,e*dt)},fn=f.getPageHeight=function(t){return cn(t=t||B)/dt},pn=f.setPageHeight=function(t,e){un(t,e*dt)};return f.internal={pdfEscape:ne,getStyle:ke,getFont:Ie,getFontSize:it,getCharSpace:Je,getTextColor:Xe,getLineHeight:Be,getLineHeightFactor:Ue,getLineWidth:Me,write:$,getHorizontalCoordinate:qe,getVerticalCoordinate:We,getCoordinateString:He,getVerticalCoordinateString:Ve,collections:{},newObject:Ot,newAdditionalObject:Bt,newObjectDeferred:Mt,newObjectDeferredBegin:Dt,getFilters:Ht,putStream:Vt,events:Nt,scaleFactor:dt,pageSize:{getWidth:function(){return hn(B)},setWidth:function(t){dn(B,t)},getHeight:function(){return fn(B)},setHeight:function(t){pn(B,t)}},encryptionOptions:u,encryption:ye,getEncryptor:function(t){return null!==u?ye.encryptor(t,0):function(t){return t}},output:me,getNumberOfPages:ae,get pages(){return K},out:J,f2:A,f3:E,getPageInfo:we,getPageInfoByObjId:be,getCurrentPageInfo:_e,getPDFVersion:g,Point:en,Rectangle:nn,Matrix:jt,hasHotfix:ve},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return hn(B)},set:function(t){dn(B,t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return fn(B)},set:function(t){pn(B,t)},enumerable:!0,configurable:!0}),function(t){for(var e=0,n=tt.length;e<n;e++){var i=ee.call(this,t[e][0],t[e][1],t[e][2],tt[e][3],!0);!1===h&&(d[i]=!0);var r=t[e][0].split("-");te({id:i,fontName:r[0],fontStyle:r[1]||""})}Nt.publish("addFonts",{fonts:mt,dictionary:vt})}.call(f,tt),ht="F1",re(r,n),Nt.publish("initialized"),f}Px.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Px.prototype.toHexString=function(t){return t.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Px.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Px.prototype.processOwnerPassword=function(t,e){return Ex(Cx(e).substr(0,5),t)},Px.prototype.encryptor=function(t,e){var n=Cx(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(t){return Ex(n,t)}},Tx.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||(0,Gm.A)(t)!==(0,Gm.A)(this))return!1;var i=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e))return!1;if(this[e]!==t[e])return!1;i++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&i--;return 0===i},Mx.API={events:[]},Mx.version="3.0.4";var Dx=Mx.API,Bx=1,zx=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ux=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},qx=function(t){return t.toFixed(2)},Wx=function(t){return t.toFixed(5)};Dx.__acroform__={};var Hx=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Vx=function(t){return t*Bx},Gx=function(t){var e=new lS,n=xS.internal.getHeight(t)||0,i=xS.internal.getWidth(t)||0;return e.BBox=[0,0,Number(qx(i)),Number(qx(n))],e},Kx=Dx.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Yx=Dx.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},Xx=Dx.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Zx=Dx.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Xx(t,e-1)},Jx=Dx.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Kx(t,e-1)},$x=Dx.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Yx(t,e-1)},Qx=Dx.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,r=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(r)||0,l.lowerLeft_Y=i(s+a)||0,l.upperRight_X=n(r+o)||0,l.upperRight_Y=i(s)||0,[Number(qx(l.lowerLeft_X)),Number(qx(l.lowerLeft_Y)),Number(qx(l.upperRight_X)),Number(qx(l.upperRight_Y))]},tS=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,i=eS(t,n),r=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+r+" "+qx(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Gx(t);return s.scope=t.scope,s.stream=e.join("\n"),s}},eS=function(t,e){var n=0===t.fontSize?t.maxFontSize:t.fontSize,i={text:"",fontSize:""},r=(e=")"==(e="("==e.substr(0,1)?e.substr(1):e).substr(e.length-1)?e.substr(0,e.length-1):e).split(" ");r=t.multiline?r.map(function(t){return t.split("\n")}):r.map(function(t){return[t]});var s=n,o=xS.internal.getHeight(t)||0;o=o<0?-o:o;var a=xS.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(e,n,i){if(e+1<r.length){var s=n+" "+r[e+1][0];return nS(s,t,i).width<=a-4}return!1};s++;t:for(;s>0;){e="",s--;var c,u,h=nS("3",t,s).height,d=t.multiline?o-s:(o-h)/2,f=d+=2,p=0,g=0,m=0;if(s<=0){e="(...) Tj\n",e+="% Width of Text: "+nS(e,t,s=12).width+", FieldWidth:"+a+"\n";break}for(var v="",y=0,w=0;w<r.length;w++)if(r.hasOwnProperty(w)){var b=!1;if(1!==r[w].length&&m!==r[w].length-1){if((h+2)*(y+2)+2>o)continue t;v+=r[w][m],b=!0,g=w,w--}else{v=" "==(v+=r[w][m]+" ").substr(v.length-1)?v.substr(0,v.length-1):v;var _=parseInt(w),x=l(_,v,s),S=w>=r.length-1;if(x&&!S){v+=" ",m=0;continue}if(x||S){if(S)g=_;else if(t.multiline&&(h+2)*(y+2)+2>o)continue t}else{if(!t.multiline)continue t;if((h+2)*(y+2)+2>o)continue t;g=_}}for(var k="",C=p;C<=g;C++){var N=r[C];if(t.multiline){if(C===g){k+=N[m]+" ",m=(m+1)%N.length;continue}if(C===p){k+=N[N.length-1]+" ";continue}}k+=N[0]+" "}switch(k=" "==k.substr(k.length-1)?k.substr(0,k.length-1):k,u=nS(k,t,s).width,t.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;default:c=2}e+=qx(c)+" "+qx(f)+" Td\n",e+="("+zx(k)+") Tj\n",e+=-qx(c)+" 0 Td\n",f=-(s+2),u=0,p=b?g:g+1,y++,v=""}break}return i.text=e,i.fontSize=s,i},nS=function(t,e,n){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),r=e.scope.getStringUnitWidth(t,{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:r}},iS={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},rS=function(t,e){var n={type:"reference",object:t};void 0===e.internal.getPageInfo(t.page).pageContext.annotations.find(function(t){return t.type===n.type&&t.object===n.object})&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},sS=Dx.__acroform__.arrayToPdfArray=function(t,e,n){var i=function(t){return t};if(Array.isArray(t)){for(var r="[",s=0;s<t.length;s++)switch(0!==s&&(r+=" "),(0,Gm.A)(t[s])){case"boolean":case"number":case"object":r+=t[s].toString();break;case"string":"/"!==t[s].substr(0,1)?(void 0!==e&&n&&(i=n.internal.getEncryptor(e)),r+="("+zx(i(t[s].toString()))+")"):r+=t[s].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},oS=function(t,e,n){var i=function(t){return t};return void 0!==e&&n&&(i=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+zx(i(t))+")"},aS=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};aS.prototype.toString=function(){return this.objId+" 0 R"},aS.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},aS.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(t){return"content"!=t&&"appearanceStreamContent"!=t&&"scope"!=t&&"objId"!=t&&"_"!=t.substring(0,1)});for(var n in e)if(!1===Object.getOwnPropertyDescriptor(this,e[n]).configurable){var i=e[n],r=this[i];r&&(Array.isArray(r)?t.push({key:i,value:sS(r,this.objId,this.scope)}):r instanceof aS?(r.scope=this.scope,t.push({key:i,value:r.objId+" 0 R"})):"function"!=typeof r&&t.push({key:i,value:r}))}return t};var lS=function(){aS.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){t=e.trim()},get:function(){return t||null}})};Hx(lS,aS);var cS=function(){aS.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var e=function(t){return t};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+zx(e(t))+")"}},set:function(e){t=e}})};Hx(cS,aS);var uS=function t(){aS.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){if(isNaN(t))throw new Error('Invalid value "'+t+'" for attribute F supplied.');e=t}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(Zx(e,3))},set:function(t){!0===Boolean(t)?this.F=Jx(e,3):this.F=$x(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){if(isNaN(t))throw new Error('Invalid value "'+t+'" for attribute Ff supplied.');n=t}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==i.length)return i},set:function(t){i=void 0!==t?t:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(t){i[0]=t}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(t){i[1]=t}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(t){i[2]=t}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(t){i[3]=t}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){switch(t){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=t;break;default:throw new Error('Invalid value "'+t+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof yS)return;s="FieldObject"+t.FieldNum++}var e=function(t){return t};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+zx(e(s))+")"},set:function(t){s=t.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(t){s=t}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(t){o=t}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(t){a=t}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(t){l=t}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/Bx:c},set:function(t){c=t}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(t){u=t}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof yS||this instanceof bS))return oS(h,this.objId,this.scope)},set:function(t){t=t.toString(),h=t}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof gS==0?oS(d,this.objId,this.scope):d},set:function(t){t=t.toString(),d=this instanceof gS==0?"("===t.substr(0,1)?Ux(t.substr(1,t.length-2)):Ux(t):t}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof gS==1?Ux(d.substr(1,d.length-1)):d},set:function(t){t=t.toString(),d=this instanceof gS==1?"/"+t:t}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(t){this.V=t}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof gS==0?oS(f,this.objId,this.scope):f},set:function(t){t=t.toString(),f=this instanceof gS==0?"("===t.substr(0,1)?Ux(t.substr(1,t.length-2)):Ux(t):t}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof gS==1?Ux(f.substr(1,f.length-1)):f},set:function(t){t=t.toString(),f=this instanceof gS==1?"/"+t:t}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(t){t=Boolean(t),g=t}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(t){p=t}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(Zx(this.Ff,1))},set:function(t){!0===Boolean(t)?this.Ff=Jx(this.Ff,1):this.Ff=$x(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(Zx(this.Ff,2))},set:function(t){!0===Boolean(t)?this.Ff=Jx(this.Ff,2):this.Ff=$x(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(Zx(this.Ff,3))},set:function(t){!0===Boolean(t)?this.Ff=Jx(this.Ff,3):this.Ff=$x(this.Ff,3)}});var m=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==m)return m},set:function(t){if(-1===[0,1,2].indexOf(t))throw new Error('Invalid value "'+t+'" for attribute Q supplied.');m=t}}),Object.defineProperty(this,"textAlign",{get:function(){var t;switch(m){case 0:default:t="left";break;case 1:t="center";break;case 2:t="right"}return t},configurable:!0,enumerable:!0,set:function(t){switch(t){case"right":case 2:m=2;break;case"center":case 1:m=1;break;default:m=0}}})};Hx(uS,aS);var hS=function(){uS.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){t=e}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return sS(e,this.objId,this.scope)},set:function(t){var n,i;i=[],"string"==typeof(n=t)&&(i=function(t,e,n){n||(n=1);for(var i,r=[];i=e.exec(t);)r.push(i[n]);return r}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();-1!==e.indexOf(t)&&(e.splice(e.indexOf(t),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(Zx(this.Ff,18))},set:function(t){!0===Boolean(t)?this.Ff=Jx(this.Ff,18):this.Ff=$x(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(Zx(this.Ff,19))},set:function(t){!0===this.combo&&(!0===Boolean(t)?this.Ff=Jx(this.Ff,19):this.Ff=$x(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(Zx(this.Ff,20))},set:function(t){!0===Boolean(t)?(this.Ff=Jx(this.Ff,20),e.sort()):this.Ff=$x(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Zx(this.Ff,22))},set:function(t){!0===Boolean(t)?this.Ff=Jx(this.Ff,22):this.Ff=$x(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Zx(this.Ff,23))},set:function(t){!0===Boolean(t)?this.Ff=Jx(this.Ff,23):this.Ff=$x(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(Zx(this.Ff,27))},set:function(t){!0===Boolean(t)?this.Ff=Jx(this.Ff,27):this.Ff=$x(this.Ff,27)}}),this.hasAppearanceStream=!1};Hx(hS,uS);var dS=function(){hS.call(this),this.fontName="helvetica",this.combo=!1};Hx(dS,hS);var fS=function(){dS.call(this),this.combo=!0};Hx(fS,dS);var pS=function(){fS.call(this),this.edit=!0};Hx(pS,fS);var gS=function(){uS.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(Zx(this.Ff,15))},set:function(t){!0===Boolean(t)?this.Ff=Jx(this.Ff,15):this.Ff=$x(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(Zx(this.Ff,16))},set:function(t){!0===Boolean(t)?this.Ff=Jx(this.Ff,16):this.Ff=$x(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(Zx(this.Ff,17))},set:function(t){!0===Boolean(t)?this.Ff=Jx(this.Ff,17):this.Ff=$x(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(Zx(this.Ff,26))},set:function(t){!0===Boolean(t)?this.Ff=Jx(this.Ff,26):this.Ff=$x(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(t){return t};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(e).length){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+zx(t(e[n]))+")");return i.push(">>"),i.join("\n")}},set:function(t){"object"===(0,Gm.A)(t)&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){"string"==typeof t&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(e){t="/"+e}})};Hx(gS,uS);var mS=function(){gS.call(this),this.pushButton=!0};Hx(mS,gS);var vS=function(){gS.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=void 0!==e?e:[]}})};Hx(vS,gS);var yS=function(){var t,e;uS.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(t){e=t}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(t){return t};this.scope&&(t=this.scope.internal.getEncryptor(this.objId));var e,n=[];for(e in n.push("<<"),i)n.push("/"+e+" ("+zx(t(i[e]))+")");return n.push(">>"),n.join("\n")},set:function(t){"object"===(0,Gm.A)(t)&&(i=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(t){"string"==typeof t&&(i.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=xS.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Hx(yS,uS),vS.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},vS.prototype.createOption=function(t){var e=new yS;return e.Parent=this,e.optionName=t,this.Kids.push(e),SS.call(this.scope,e),e};var wS=function(){gS.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=xS.CheckBox.createAppearanceStream()};Hx(wS,gS);var bS=function(){uS.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(Zx(this.Ff,13))},set:function(t){!0===Boolean(t)?this.Ff=Jx(this.Ff,13):this.Ff=$x(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Zx(this.Ff,21))},set:function(t){!0===Boolean(t)?this.Ff=Jx(this.Ff,21):this.Ff=$x(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Zx(this.Ff,23))},set:function(t){!0===Boolean(t)?this.Ff=Jx(this.Ff,23):this.Ff=$x(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(Zx(this.Ff,24))},set:function(t){!0===Boolean(t)?this.Ff=Jx(this.Ff,24):this.Ff=$x(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(Zx(this.Ff,25))},set:function(t){!0===Boolean(t)?this.Ff=Jx(this.Ff,25):this.Ff=$x(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(Zx(this.Ff,26))},set:function(t){!0===Boolean(t)?this.Ff=Jx(this.Ff,26):this.Ff=$x(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Hx(bS,uS);var _S=function(){bS.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(Zx(this.Ff,14))},set:function(t){!0===Boolean(t)?this.Ff=Jx(this.Ff,14):this.Ff=$x(this.Ff,14)}}),this.password=!0};Hx(_S,bS);var xS={CheckBox:{createAppearanceStream:function(){return{N:{On:xS.CheckBox.YesNormal},D:{On:xS.CheckBox.YesPushDown,Off:xS.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Gx(t);e.scope=t.scope;var n=[],i=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),s=eS(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+qx(xS.internal.getWidth(t))+" "+qx(xS.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+i+" "+qx(s.fontSize)+" Tf "+r),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join("\n"),e},YesNormal:function(t){var e=Gx(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),r=[],s=xS.internal.getHeight(t),o=xS.internal.getWidth(t),a=eS(t,t.caption);return r.push("1 g"),r.push("0 0 "+qx(o)+" "+qx(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+qx(o-1)+" "+qx(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+n+" "+qx(a.fontSize)+" Tf "+i),r.push(a.text),r.push("ET"),r.push("Q"),e.stream=r.join("\n"),e},OffPushDown:function(t){var e=Gx(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+qx(xS.internal.getWidth(t))+" "+qx(xS.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join("\n"),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:xS.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=xS.RadioButton.Circle.YesNormal,e.D[t]=xS.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Gx(t);e.scope=t.scope;var n=[],i=xS.internal.getWidth(t)<=xS.internal.getHeight(t)?xS.internal.getWidth(t)/4:xS.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=xS.internal.Bezier_C,s=Number((i*r).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Wx(xS.internal.getWidth(t)/2)+" "+Wx(xS.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e},YesPushDown:function(t){var e=Gx(t);e.scope=t.scope;var n=[],i=xS.internal.getWidth(t)<=xS.internal.getHeight(t)?xS.internal.getWidth(t)/4:xS.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*xS.internal.Bezier_C).toFixed(5)),o=Number((i*xS.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Wx(xS.internal.getWidth(t)/2)+" "+Wx(xS.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Wx(xS.internal.getWidth(t)/2)+" "+Wx(xS.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e},OffPushDown:function(t){var e=Gx(t);e.scope=t.scope;var n=[],i=xS.internal.getWidth(t)<=xS.internal.getHeight(t)?xS.internal.getWidth(t)/4:xS.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*xS.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Wx(xS.internal.getWidth(t)/2)+" "+Wx(xS.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:xS.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=xS.RadioButton.Cross.YesNormal,e.D[t]=xS.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Gx(t);e.scope=t.scope;var n=[],i=xS.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+qx(xS.internal.getWidth(t)-2)+" "+qx(xS.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(qx(i.x1.x)+" "+qx(i.x1.y)+" m"),n.push(qx(i.x2.x)+" "+qx(i.x2.y)+" l"),n.push(qx(i.x4.x)+" "+qx(i.x4.y)+" m"),n.push(qx(i.x3.x)+" "+qx(i.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join("\n"),e},YesPushDown:function(t){var e=Gx(t);e.scope=t.scope;var n=xS.internal.calculateCross(t),i=[];return i.push("0.749023 g"),i.push("0 0 "+qx(xS.internal.getWidth(t))+" "+qx(xS.internal.getHeight(t))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+qx(xS.internal.getWidth(t)-2)+" "+qx(xS.internal.getHeight(t)-2)+" re"),i.push("W"),i.push("n"),i.push(qx(n.x1.x)+" "+qx(n.x1.y)+" m"),i.push(qx(n.x2.x)+" "+qx(n.x2.y)+" l"),i.push(qx(n.x4.x)+" "+qx(n.x4.y)+" m"),i.push(qx(n.x3.x)+" "+qx(n.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join("\n"),e},OffPushDown:function(t){var e=Gx(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+qx(xS.internal.getWidth(t))+" "+qx(xS.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join("\n"),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};xS.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=xS.internal.getWidth(t),n=xS.internal.getHeight(t),i=Math.min(e,n);return{x1:{x:(e-i)/2,y:(n-i)/2+i},x2:{x:(e-i)/2+i,y:(n-i)/2},x3:{x:(e-i)/2,y:(n-i)/2},x4:{x:(e-i)/2+i,y:(n-i)/2+i}}}},xS.internal.getWidth=function(t){var e=0;return"object"===(0,Gm.A)(t)&&(e=Vx(t.Rect[2])),e},xS.internal.getHeight=function(t){var e=0;return"object"===(0,Gm.A)(t)&&(e=Vx(t.Rect[3])),e};var SS=Dx.addField=function(t){if(function(t,e){if(e.scope=t,void 0!==t.internal&&(void 0===t.internal.acroformPlugin||!1===t.internal.acroformPlugin.isInitialized)){if(uS.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(iS)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Bx=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new cS,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){var e;(e=t).internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0}),t.internal.events.subscribe("buildDocument",function(){!function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var e=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];i.objId=void 0,i.hasAnnotation&&rS(i,t)}}(t)}),t.internal.events.subscribe("putCatalog",function(){!function(t){if(void 0===t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(t)}),t.internal.events.subscribe("postPutPages",function(e){!function(t,e){var n=!t;for(var i in t||(e.internal.newObjectDeferredBegin(e.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),e.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),t=t||e.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(t.hasOwnProperty(i)){var r=t[i],s=[],o=r.Rect;if(r.Rect&&(r.Rect=Qx(r.Rect,e)),e.internal.newObjectDeferredBegin(r.objId,!0),r.DA=xS.createDefaultAppearanceStream(r),"object"===(0,Gm.A)(r)&&"function"==typeof r.getKeyValueListForStream&&(s=r.getKeyValueListForStream()),r.Rect=o,r.hasAppearanceStream&&!r.appearanceStreamContent){var a=tS(r);s.push({key:"AP",value:"<</N "+a+">>"}),e.internal.acroformPlugin.xForms.push(a)}if(r.appearanceStreamContent){var l="";for(var c in r.appearanceStreamContent)if(r.appearanceStreamContent.hasOwnProperty(c)){var u=r.appearanceStreamContent[c];if(l+="/"+c+" ",l+="<<",Object.keys(u).length>=1||Array.isArray(u)){for(var i in u)if(u.hasOwnProperty(i)){var h=u[i];"function"==typeof h&&(h=h.call(e,r)),l+="/"+i+" "+h+" ",e.internal.acroformPlugin.xForms.indexOf(h)>=0||e.internal.acroformPlugin.xForms.push(h)}}else"function"==typeof(h=u)&&(h=h.call(e,r)),l+="/"+i+" "+h,e.internal.acroformPlugin.xForms.indexOf(h)>=0||e.internal.acroformPlugin.xForms.push(h);l+=">>"}s.push({key:"AP",value:"<<\n"+l+">>"})}e.internal.putStream({additionalKeyValues:s,objectId:r.objId}),e.internal.out("endobj")}n&&function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var i=n,r=t[n];e.internal.newObjectDeferredBegin(r.objId,!0),"object"===(0,Gm.A)(r)&&"function"==typeof r.putStream&&r.putStream(),delete t[i]}}(e.internal.acroformPlugin.xForms,e)}(e,t)}),t.internal.acroformPlugin.isInitialized=!0}}(this,t),!(t instanceof uS))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Dx.AcroFormChoiceField=hS,Dx.AcroFormListBox=dS,Dx.AcroFormComboBox=fS,Dx.AcroFormEditBox=pS,Dx.AcroFormButton=gS,Dx.AcroFormPushButton=mS,Dx.AcroFormRadioButton=vS,Dx.AcroFormCheckBox=wS,Dx.AcroFormTextField=bS,Dx.AcroFormPasswordField=_S,Dx.AcroFormAppearance=xS,Dx.AcroForm={ChoiceField:hS,ListBox:dS,ComboBox:fS,EditBox:pS,Button:gS,PushButton:mS,RadioButton:vS,CheckBox:wS,TextField:bS,PasswordField:_S,Appearance:xS},Mx.AcroForm={ChoiceField:hS,ListBox:dS,ComboBox:fS,EditBox:pS,Button:gS,PushButton:mS,RadioButton:vS,CheckBox:wS,TextField:bS,PasswordField:_S,Appearance:xS};Mx.AcroForm;function kS(t){return t.reduce(function(t,e,n){return t[e]=n,t},{})}!function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(t,e){var r,s,o,a,l,c=n;if("RGBA"===(e=e||n)||void 0!==t.data&&t.data instanceof Uint8ClampedArray&&"height"in t&&"width"in t)return"RGBA";if(x(t))for(l in i)for(o=i[l],r=0;r<o.length;r+=1){for(a=!0,s=0;s<o[r].length;s+=1)if(void 0!==o[r][s]&&o[r][s]!==t[s]){a=!1;break}if(!0===a){c=l;break}}else for(l in i)for(o=i[l],r=0;r<o.length;r+=1){for(a=!0,s=0;s<o[r].length;s+=1)if(void 0!==o[r][s]&&o[r][s]!==t.charCodeAt(s)){a=!1;break}if(!0===a){c=l;break}}return c===n&&e!==n&&(c=e),c},s=function t(e){for(var n=this.internal.write,i=this.internal.putStream,r=(0,this.internal.getFilters)();-1!==r.indexOf("FlateEncode");)r.splice(r.indexOf("FlateEncode"),1);e.objectId=this.internal.newObject();var s=[];if(s.push({key:"Type",value:"/XObject"}),s.push({key:"Subtype",value:"/Image"}),s.push({key:"Width",value:e.width}),s.push({key:"Height",value:e.height}),e.colorSpace===v.INDEXED?s.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(e.palette.length/3-1)+" "+("sMask"in e&&void 0!==e.sMask?e.objectId+2:e.objectId+1)+" 0 R]"}):(s.push({key:"ColorSpace",value:"/"+e.colorSpace}),e.colorSpace===v.DEVICE_CMYK&&s.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),s.push({key:"BitsPerComponent",value:e.bitsPerComponent}),"decodeParameters"in e&&void 0!==e.decodeParameters&&s.push({key:"DecodeParms",value:"<<"+e.decodeParameters+">>"}),"transparency"in e&&Array.isArray(e.transparency)&&e.transparency.length>0){for(var o="",a=0,l=e.transparency.length;a<l;a++)o+=e.transparency[a]+" "+e.transparency[a]+" ";s.push({key:"Mask",value:"["+o+"]"})}void 0!==e.sMask&&s.push({key:"SMask",value:e.objectId+1+" 0 R"});var c=void 0!==e.filter?["/"+e.filter]:void 0;if(i({data:e.data,additionalKeyValues:s,alreadyAppliedFilters:c,objectId:e.objectId}),n("endobj"),"sMask"in e&&void 0!==e.sMask){var u,h=null!==(u=e.sMaskBitsPerComponent)&&void 0!==u?u:e.bitsPerComponent,d={width:e.width,height:e.height,colorSpace:"DeviceGray",bitsPerComponent:h,data:e.sMask};"filter"in e&&(d.decodeParameters="/Predictor ".concat(e.predictor," /Colors 1 /BitsPerComponent ").concat(h," /Columns ").concat(e.width),d.filter=e.filter),t.call(this,d)}if(e.colorSpace===v.INDEXED){var f=this.internal.newObject();i({data:k(new Uint8Array(e.palette)),objectId:f}),n("endobj")}},o=function(){var t=this.internal.collections[e+"images"];for(var n in t)s.call(this,t[n])},a=function(){var t,n=this.internal.collections[e+"images"],i=this.internal.write;for(var r in n)i("/I"+(t=n[r]).index,t.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var t=this.internal.collections[e+"images"];return l.call(this),t},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},h=function(e){return"function"==typeof t["process"+e.toUpperCase()]},d=function(t){return"object"===(0,Gm.A)(t)&&1===t.nodeType},f=function(e,n){if("IMG"===e.nodeName&&e.hasAttribute("src")){var i=""+e.getAttribute("src");if(0===i.indexOf("data:image/"))return dx(unescape(i).split("base64,").pop());var r=t.loadFile(i,!0);if(void 0!==r)return r}if("CANVAS"===e.nodeName){if(0===e.width||0===e.height)throw new Error("Given canvas must have data. Canvas width: "+e.width+", height: "+e.height);var s;switch(n){case"PNG":s="image/png";break;case"WEBP":s="image/webp";break;default:s="image/jpeg"}return dx(e.toDataURL(s,1).split("base64,").pop())}},p=function(t){var n=this.internal.collections[e+"images"];if(n)for(var i in n)if(t===n[i].alias)return n[i]},g=function(t,e,n){return t||e||(t=-96,e=-96),t<0&&(t=-1*n.width*72/t/this.internal.scaleFactor),e<0&&(e=-1*n.height*72/e/this.internal.scaleFactor),0===t&&(t=e*n.width/n.height),0===e&&(e=t*n.height/n.width),[t,e]},m=function(t,e,n,i,r,s){var o=g.call(this,n,i,r),a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=c.call(this);if(n=o[0],i=o[1],u[r.index]=r,s){s*=Math.PI/180;var h=Math.cos(s),d=Math.sin(s),f=function(t){return t.toFixed(4)},p=[f(h),f(d),f(-1*d),f(h),0,0,"cm"]}this.internal.write("q"),s?(this.internal.write([1,"0","0",1,a(t),l(e+i),"cm"].join(" ")),this.internal.write(p.join(" ")),this.internal.write([a(n),"0","0",a(i),"0","0","cm"].join(" "))):this.internal.write([a(n),"0","0",a(i),a(t),l(e+i),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+r.index+" Do"),this.internal.write("Q")},v=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=t.__addimage__.sHashCode=function(t){var e,n,i=0;if("string"==typeof t)for(n=t.length,e=0;e<n;e++)i=(i<<5)-i+t.charCodeAt(e),i|=0;else if(x(t))for(n=t.byteLength/2,e=0;e<n;e++)i=(i<<5)-i+t[e],i|=0;return i},b=t.__addimage__.validateStringAsBase64=function(t){(t=t||"").toString().trim();var e=!0;return 0===t.length&&(e=!1),t.length%4!=0&&(e=!1),!1===/^[A-Za-z0-9+/]+$/.test(t.substr(0,t.length-2))&&(e=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(t.substr(-2))&&(e=!1),e},_=t.__addimage__.extractImageFromDataUrl=function(t){if(null==t)return null;if(!(t=t.trim()).startsWith("data:"))return null;var e=t.indexOf(",");return e<0?null:t.substring(0,e).trim().endsWith("base64")?t.substring(e+1):null};t.__addimage__.isArrayBuffer=function(t){return t instanceof ArrayBuffer};var x=t.__addimage__.isArrayBufferView=function(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array},S=t.__addimage__.binaryStringToUint8Array=function(t){for(var e=t.length,n=new Uint8Array(e),i=0;i<e;i++)n[i]=t.charCodeAt(i);return n},k=t.__addimage__.arrayBufferToBinaryString=function(t){for(var e="",n=x(t)?t:new Uint8Array(t),i=0;i<n.length;i+=8192)e+=String.fromCharCode.apply(null,n.subarray(i,i+8192));return e};t.addImage=function(){var t,e,i,r,s,o,a,c,u;if("number"==typeof arguments[1]?(e=n,i=arguments[1],r=arguments[2],s=arguments[3],o=arguments[4],a=arguments[5],c=arguments[6],u=arguments[7]):(e=arguments[1],i=arguments[2],r=arguments[3],s=arguments[4],o=arguments[5],a=arguments[6],c=arguments[7],u=arguments[8]),"object"===(0,Gm.A)(t=arguments[0])&&!d(t)&&"imageData"in t){var h=t;t=h.imageData,e=h.format||e||n,i=h.x||i||0,r=h.y||r||0,s=h.w||h.width||s,o=h.h||h.height||o,a=h.alias||a,c=h.compression||c,u=h.rotation||h.angle||u}var f=this.internal.getFilters();if(void 0===c&&-1!==f.indexOf("FlateEncode")&&(c="SLOW"),isNaN(i)||isNaN(r))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var p=C.call(this,t,e,a,c);return m.call(this,i,r,s,o,p,u),this};var C=function(e,i,s,o){var a,l,c;if("string"==typeof e&&r(e)===n){e=unescape(e);var g=N(e,!1);(""!==g||void 0!==(g=t.loadFile(e,!0)))&&(e=g)}if(d(e)&&(e=f(e,i)),i=r(e,i),!h(i))throw new Error("addImage does not support files of type '"+i+"', please ensure that a plugin for '"+i+"' support is added.");if((null==(c=s)||0===c.length)&&(s=function(t){return"string"==typeof t||x(t)?w(t):x(t.data)?w(t.data):null}(e)),(a=p.call(this,s))||(e instanceof Uint8Array||"RGBA"===i||(l=e,e=S(e)),a=this["process"+i.toUpperCase()](e,u.call(this),s,function(e){return e&&"string"==typeof e&&(e=e.toUpperCase()),e in t.image_compression?e:y.NONE}(o),l)),!a)throw new Error("An unknown error occurred whilst processing the image.");return a},N=t.__addimage__.convertBase64ToBinaryString=function(t,e){e="boolean"!=typeof e||e;var n,i="";if("string"==typeof t){var s;n=null!==(s=_(t))&&void 0!==s?s:t;try{i=dx(n)}catch(r){if(e)throw b(n)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+r.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return i};t.getImageProperties=function(e){var i,s,o="";if(d(e)&&(e=f(e)),"string"==typeof e&&r(e)===n&&(""===(o=N(e,!1))&&(o=t.loadFile(e)||""),e=o),s=r(e),!h(s))throw new Error("addImage does not support files of type '"+s+"', please ensure that a plugin for '"+s+"' support is added.");if(e instanceof Uint8Array||(e=S(e)),!(i=this["process"+s.toUpperCase()](e)))throw new Error("An unknown error occurred whilst processing the image");return i.fileType=s,i}}(Mx.API),function(t){var e=function(t){if(void 0!==t&&""!=t)return!0};Mx.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(t){for(var n,i,r,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,a=this.internal.getPageInfoByObjId(t.objId),l=t.pageContext.annotations,c=!1,u=0;u<l.length&&!c;u++)switch((n=l[u]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(0!=c){this.internal.write("/Annots [");for(var h=0;h<l.length;h++){n=l[h];var d=this.internal.pdfEscape,f=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(p.objId),v=n.title||"Note";r="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+d(m(n.contents))+")",r+=" /Popup "+g.objId+" 0 R",r+=" /P "+a.objId+" 0 R",r+=" /T ("+d(m(v))+") >>",p.content=r;var y=p.objId+" 0 R";r="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+y,n.open&&(r+=" /Open true"),r+=" >>",g.content=r,this.internal.write(p.objId,"0 R",g.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var w=n.color||"#000000";r="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+d(f(n.contents))+")",r+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+w+")",r+=" /Border [0 0 0]",r+=" >>",this.internal.write(r);break;case"link":if(n.options.name){var b=this.annotations._nameMap[n.options.name];n.options.pageNumber=b.page,n.options.top=b.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",r="",n.options.url)r="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+d(f(n.options.url))+") >>";else if(n.options.pageNumber)switch(r="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":r+=" /Fit]";break;case"FitH":r+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,r+=" /FitV "+n.options.left+"]";break;default:var _=o(n.options.top);n.options.left=n.options.left||0,void 0===n.options.zoom&&(n.options.zoom=0),r+=" /XYZ "+n.options.left+" "+_+" "+n.options.zoom+"]"}""!=r&&(r+=" >>",this.internal.write(r))}}this.internal.write("]")}}]),t.createAnnotation=function(t){var e=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":e.pageContext.annotations.push(t)}},t.link=function(t,e,n,i,r){var s=this.internal.getCurrentPageInfo(),o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:o(t),y:a(e),w:o(t+n),h:a(e+i)},options:r,type:"link"})},t.textWithLink=function(t,e,n,i){var r,s,o=this.getTextWidth(t),a=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==i.maxWidth){s=i.maxWidth;var l=this.splitTextToSize(t,s).length;r=Math.ceil(a*l)}else s=o,r=a;return this.text(t,e,n,i),n+=.2*a,"center"===i.align&&(e-=o/2),"right"===i.align&&(e-=o),this.link(e,n-a,s,r,i),o},t.getTextWidth=function(t){var e=this.internal.getFontSize();return this.getStringUnitWidth(t)*e/this.internal.scaleFactor}}(Mx.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(t){return void 0!==e[t.charCodeAt(0)]},o=t.__arabicParser__.isArabicLetter=function(t){return"string"==typeof t&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(t)},a=t.__arabicParser__.isArabicEndLetter=function(t){return o(t)&&s(t)&&e[t.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(t){return o(t)&&r.indexOf(t.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(t){return o(t)&&s(t)&&e[t.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(t){return o(t)&&s(t)&&e[t.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(t){return o(t)&&s(t)&&e[t.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(t){return o(t)&&s(t)&&4==e[t.charCodeAt(0)].length},h=t.__arabicParser__.resolveLigatures=function(t){var e=0,i=n,r="",s=0;for(e=0;e<t.length;e+=1)void 0!==i[t.charCodeAt(e)]?(s++,"number"==typeof(i=i[t.charCodeAt(e)])&&(r+=String.fromCharCode(i),i=n,s=0),e===t.length-1&&(i=n,r+=t.charAt(e-(s-1)),e-=s-1,s=0)):(i=n,r+=t.charAt(e-s),e-=s,s=0);return r};t.__arabicParser__.isArabicDiacritic=function(t){return void 0!==t&&void 0!==i[t.charCodeAt(0)]};var d=t.__arabicParser__.getCorrectForm=function(t,e,n){return o(t)?!1===s(t)?-1:!c(t)||!o(e)&&!o(n)||!o(n)&&a(e)||a(t)&&!o(e)||a(t)&&l(e)||a(t)&&a(e)?0:u(t)&&o(e)&&!a(e)&&o(n)&&c(n)?3:a(t)||!o(n)?1:2:-1},f=function(t){var n=0,i=0,r=0,s="",a="",l="",c=(t=t||"").split("\\s+"),u=[];for(n=0;n<c.length;n+=1){for(u.push(""),i=0;i<c[n].length;i+=1)s=c[n][i],a=c[n][i-1],l=c[n][i+1],o(s)?(r=d(s,a,l),u[n]+=-1!==r?String.fromCharCode(e[s.charCodeAt(0)][r]):s):u[n]+=s;u[n]=h(u[n])}return u.join(" ")},p=t.__arabicParser__.processArabic=t.processArabic=function(){var t,e="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(e)){var i=0;for(n=[],i=0;i<e.length;i+=1)Array.isArray(e[i])?n.push([f(e[i][0]),e[i][1],e[i][2]]):n.push([f(e[i])]);t=n}else t=f(e);return"string"==typeof arguments[0]?t:(arguments[0].text=t,arguments[0])};t.events.push(["preProcessText",p])}(Mx.API),Mx.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform","javascript"===t.variant?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(e){t=e}});var e=150;Object.defineProperty(this,"width",{get:function(){return e},set:function(t){e=isNaN(t)||!1===Number.isInteger(t)||t<0?150:t,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=e+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(t){n=isNaN(t)||!1===Number.isInteger(t)||t<0?300:t,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(t){i=t}});var r={};Object.defineProperty(this,"style",{get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,e){var n;if("2d"!==(t=t||"2d"))return null;for(n in e)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=e[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Mx.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,i=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var t=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var e=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(t){n=t}});var i=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return i},set:function(t){i=t}});var r=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return r},set:function(t){r=t}});var s=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return s},set:function(t){s=t}});var o=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return o},set:function(t){o=t}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(t){return i.call(this),this.internal.__cell__.headerFunction="function"==typeof t?t:void 0,this},t.getTextDimensions=function(t,e){i.call(this);var n=(e=e||{}).fontSize||this.getFontSize(),r=e.font||this.getFont(),s=e.scaleFactor||this.internal.scaleFactor,o=0,a=0,l=0,c=this;if(!Array.isArray(t)&&"string"!=typeof t){if("number"!=typeof t)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");t=String(t)}var u=e.maxWidth;u>0?"string"==typeof t?t=this.splitTextToSize(t,u):"[object Array]"===Object.prototype.toString.call(t)&&(t=t.reduce(function(t,e){return t.concat(c.splitTextToSize(e,u))},[])):t=Array.isArray(t)?t:[t];for(var h=0;h<t.length;h++)o<(l=this.getStringUnitWidth(t[h],{font:r})*n)&&(o=l);return 0!==o&&(a=t.length),{w:o/=s,h:Math.max((a*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/s,0)}},t.cellAddPage=function(){i.call(this),this.addPage();var t=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(t.left,t.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var t;t=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),i.call(this);var r=this.internal.__cell__.lastCell,o=this.internal.__cell__.padding,a=this.internal.__cell__.margins||e,l=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==r.lineNumber&&(r.lineNumber===t.lineNumber?(t.x=(r.x||0)+(r.width||0),t.y=r.y||0):r.y+r.height+t.height+a.bottom>this.getPageHeight()?(this.cellAddPage(),t.y=a.top,c&&l&&(this.printHeaderRow(t.lineNumber,!0),t.y+=l[0].height)):t.y=r.y+r.height||t.y),void 0!==t.text[0]&&(this.rect(t.x,t.y,t.width,t.height,!0===n?"FD":void 0),"right"===t.align?this.text(t.text,t.x+t.width-o,t.y+o,{align:"right",baseline:"top"}):"center"===t.align?this.text(t.text,t.x+t.width/2,t.y+o,{align:"center",baseline:"top",maxWidth:t.width-o-o}):this.text(t.text,t.x+o,t.y+o,{align:"left",baseline:"top",maxWidth:t.width-o-o})),this.internal.__cell__.lastCell=t,this};t.table=function(t,n,l,c,u){if(i.call(this),!l)throw new Error("No data for PDF table.");var h,d,f,p,g=[],m=[],v=[],y={},w={},b=[],_=[],x=(u=u||{}).autoSize||!1,S=!1!==u.printHeaders,k=u.css&&void 0!==u.css["font-size"]?16*u.css["font-size"]:u.fontSize||12,C=u.margins||Object.assign({width:this.getPageWidth()},e),N="number"==typeof u.padding?u.padding:3,A=u.headerBackgroundColor||"#c8c8c8",E=u.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=S,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=k,this.internal.__cell__.padding=N,this.internal.__cell__.headerBackgroundColor=A,this.internal.__cell__.headerTextColor=E,this.setFontSize(k),null==c)m=g=Object.keys(l[0]),v=g.map(function(){return"left"});else if(Array.isArray(c)&&"object"===(0,Gm.A)(c[0]))for(g=c.map(function(t){return t.name}),m=c.map(function(t){return t.prompt||t.name||""}),v=c.map(function(t){return t.align||"left"}),h=0;h<c.length;h+=1)w[c[h].name]=.7499990551181103*c[h].width;else Array.isArray(c)&&"string"==typeof c[0]&&(m=g=c,v=g.map(function(){return"left"}));if(x||Array.isArray(c)&&"string"==typeof c[0])for(h=0;h<g.length;h+=1){for(y[p=g[h]]=l.map(function(t){return t[p]}),this.setFont(void 0,"bold"),b.push(this.getTextDimensions(m[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),d=y[p],this.setFont(void 0,"normal"),f=0;f<d.length;f+=1)b.push(this.getTextDimensions(d[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);w[p]=Math.max.apply(null,b)+N+N,b=[]}if(S){var L={};for(h=0;h<g.length;h+=1)L[g[h]]={},L[g[h]].text=m[h],L[g[h]].align=v[h];var P=a.call(this,L,w);_=g.map(function(e){return new s(t,n,w[e],P,L[e].text,void 0,L[e].align)}),this.setTableHeaderRow(_),this.printHeaderRow(1,!1)}var j=c.reduce(function(t,e){return t[e.name]=e.align,t},{});for(h=0;h<l.length;h+=1){"rowStart"in u&&u.rowStart instanceof Function&&u.rowStart({row:h,data:l[h]},this);var R=a.call(this,l[h],w);for(f=0;f<g.length;f+=1){var T=l[h][g[f]];"cellStart"in u&&u.cellStart instanceof Function&&u.cellStart({row:h,col:f,data:T},this),o.call(this,new s(t,n,w[g[f]],R,T,h+2,j[g[f]]))}}return this.internal.__cell__.table_x=t,this.internal.__cell__.table_y=n,this};var a=function(t,e){var n=this.internal.__cell__.padding,i=this.internal.__cell__.table_font_size,r=this.internal.scaleFactor;return Object.keys(t).map(function(i){var r=t[i];return this.splitTextToSize(r.hasOwnProperty("text")?r.text:r,e[i]-n-n)},this).map(function(t){return this.getLineHeightFactor()*t.length*i/r+n+n},this).reduce(function(t,e){return Math.max(t,e)},0)};t.setTableHeaderRow=function(t){i.call(this),this.internal.__cell__.tableHeaderRow=t},t.printHeaderRow=function(t,e){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var r;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var a=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(a[0],a[1],a[2],a[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){r=this.internal.__cell__.tableHeaderRow[c].clone(),e&&(r.y=this.internal.__cell__.margins.top||0,l.push(r)),r.lineNumber=t;var u=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,r),this.setTextColor(u)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),n=!1}}(Mx.API);var CS={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},NS=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],AS=kS(NS),ES=[100,200,300,400,500,600,700,800,900],LS=kS(ES);function PS(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(t){return CS[t=t||"normal"]?t:"normal"}(t.style),i=function(t){return t?"number"==typeof t?t>=100&&t<=900&&t%100==0?t:400:/^\d00$/.test(t)?parseInt(t):"bold"===t?700:400:400}(t.weight),r=function(t){return"number"==typeof AS[t=t||"normal"]?t:"normal"}(t.stretch);return{family:e,style:n,weight:i,stretch:r,src:t.src||[],ref:t.ref||{name:e,style:[r,n,i].join(" ")}}}function jS(t,e,n,i){var r;for(r=n;r>=0&&r<e.length;r+=i)if(t[e[r]])return t[e[r]];for(r=n;r>=0&&r<e.length;r-=i)if(t[e[r]])return t[e[r]]}var RS={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},TS={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function IS(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function FS(t){return t.trimLeft()}function OS(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function MS(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===e?null:[e[0],t.substring(e[0].length)]}var DS,BS,zS,US,qS,WS,HS,VS,GS,KS=["times"];function YS(t,e,n,i,r){var s=4,o=JS;switch(r){case Mx.API.image_compression.FAST:s=1,o=ZS;break;case Mx.API.image_compression.MEDIUM:s=6,o=$S;break;case Mx.API.image_compression.SLOW:s=9,o=QS}t=function(t,e,n,i){for(var r,s=t.length/e,o=new Uint8Array(t.length+s),a=[XS,ZS,JS,$S,QS],l=0;l<s;l+=1){var c=l*e,u=t.subarray(c,c+e);if(i)o.set(i(u,n,r),c+l);else{for(var h=a.length,d=[],f=0;f<h;f+=1)d[f]=a[f](u,n,r);var p=ek(d.concat());o.set(d[p],c+l)}r=u}return o}(t,e,Math.ceil(n*i/8),o);var a=Pv(t,{level:s});return Mx.API.__addimage__.arrayBufferToBinaryString(a)}function XS(t){var e=Array.apply([],t);return e.unshift(0),e}function ZS(t,e){var n=t.length,i=[];i[0]=1;for(var r=0;r<n;r+=1){var s=t[r-e]||0;i[r+1]=t[r]-s+256&255}return i}function JS(t,e,n){var i=t.length,r=[];r[0]=2;for(var s=0;s<i;s+=1){var o=n&&n[s]||0;r[s+1]=t[s]-o+256&255}return r}function $S(t,e,n){var i=t.length,r=[];r[0]=3;for(var s=0;s<i;s+=1){var o=t[s-e]||0,a=n&&n[s]||0;r[s+1]=t[s]+256-(o+a>>>1)&255}return r}function QS(t,e,n){var i=t.length,r=[];r[0]=4;for(var s=0;s<i;s+=1){var o=tk(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);r[s+1]=t[s]-o+256&255}return r}function tk(t,e,n){if(t===e&&e===n)return t;var i=Math.abs(e-n),r=Math.abs(t-n),s=Math.abs(t+e-n-n);return i<=r&&i<=s?t:r<=s?e:n}function ek(t){var e=t.map(function(t){return t.reduce(function(t,e){return t+Math.abs(e)},0)});return e.indexOf(Math.min.apply(null,e))}function nk(t,e,n){var i=e*n,r=Math.floor(i/8),s=16-(i-8*r+n),o=(1<<n)-1;return rk(t,r)>>s&o}function ik(t,e,n,i){var r=n*i,s=Math.floor(r/8),o=16-(r-8*s+i),a=(1<<i)-1,l=(e&a)<<o;!function(t,e,n){if(e+1<t.byteLength)t.setUint16(e,n,!1);else{var i=n>>8&255;t.setUint8(e,i)}}(t,s,rk(t,s)&~(a<<o)&65535|l)}function rk(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function sk(t){var e=0;if(71!==t[e++]||73!==t[e++]||70!==t[e++]||56!==t[e++]||56!=(t[e++]+1&253)||97!==t[e++])throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,i=t[e++]|t[e++]<<8,r=t[e++],s=r>>7,o=1<<1+(7&r);t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var c=!0,u=[],h=0,d=null,f=0,p=null;for(this.width=n,this.height=i;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(11!==t[e]||78==t[e+1]&&69==t[e+2]&&84==t[e+3]&&83==t[e+4]&&67==t[e+5]&&65==t[e+6]&&80==t[e+7]&&69==t[e+8]&&50==t[e+9]&&46==t[e+10]&&48==t[e+11]&&3==t[e+12]&&1==t[e+13]&&0==t[e+16])e+=14,p=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((A=t[e++])>=0))throw Error("Invalid block size");if(0===A)break;e+=A}break;case 249:if(4!==t[e++]||0!==t[e+4])throw new Error("Invalid graphics extension block.");var g=t[e++];h=t[e++]|t[e++]<<8,d=t[e++],1&g||(d=null),f=g>>2&7,e++;break;case 254:for(;;){if(!((A=t[e++])>=0))throw Error("Invalid block size");if(0===A)break;e+=A}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var m=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,b=t[e++],_=b>>6&1,x=1<<1+(7&b),S=a,k=l,C=!1;b>>7&&(C=!0,S=e,k=x,e+=3*x);var N=e;for(e++;;){var A;if(!((A=t[e++])>=0))throw Error("Invalid block size");if(0===A)break;e+=A}u.push({x:m,y:v,width:y,height:w,has_local_palette:C,palette_offset:S,palette_size:k,data_offset:N,data_length:e-N,transparent_index:d,interlaced:!!_,delay:h,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return p},this.frameInfo=function(t){if(t<0||t>=u.length)throw new Error("Frame index out of range.");return u[t]},this.decodeAndBlitFrameBGRA=function(e,i){var r=this.frameInfo(e),s=r.width*r.height,o=new Uint8Array(s);ok(t,r.data_offset,o,s);var a=r.palette_offset,l=r.transparent_index;null===l&&(l=256);var c=r.width,u=n-c,h=c,d=4*(r.y*n+r.x),f=4*((r.y+r.height)*n+r.x),p=d,g=4*u;!0===r.interlaced&&(g+=4*n*7);for(var m=8,v=0,y=o.length;v<y;++v){var w=o[v];if(0===h&&(h=c,(p+=g)>=f&&(g=4*u+4*n*(m-1),p=d+(c+u)*(m<<1),m>>=1)),w===l)p+=4;else{var b=t[a+3*w],_=t[a+3*w+1],x=t[a+3*w+2];i[p++]=x,i[p++]=_,i[p++]=b,i[p++]=255}--h}},this.decodeAndBlitFrameRGBA=function(e,i){var r=this.frameInfo(e),s=r.width*r.height,o=new Uint8Array(s);ok(t,r.data_offset,o,s);var a=r.palette_offset,l=r.transparent_index;null===l&&(l=256);var c=r.width,u=n-c,h=c,d=4*(r.y*n+r.x),f=4*((r.y+r.height)*n+r.x),p=d,g=4*u;!0===r.interlaced&&(g+=4*n*7);for(var m=8,v=0,y=o.length;v<y;++v){var w=o[v];if(0===h&&(h=c,(p+=g)>=f&&(g=4*u+4*n*(m-1),p=d+(c+u)*(m<<1),m>>=1)),w===l)p+=4;else{var b=t[a+3*w],_=t[a+3*w+1],x=t[a+3*w+2];i[p++]=b,i[p++]=_,i[p++]=x,i[p++]=255}--h}}}function ok(t,e,n,i){for(var r=t[e++],s=1<<r,o=s+1,a=o+1,l=r+1,c=(1<<l)-1,u=0,h=0,d=0,f=t[e++],p=new Int32Array(4096),g=null;;){for(;u<16&&0!==f;)h|=t[e++]<<u,u+=8,1===f?f=t[e++]:--f;if(u<l)break;var m=h&c;if(h>>=l,u-=l,m!==s){if(m===o)break;for(var v=m<a?m:g,y=0,w=v;w>s;)w=p[w]>>8,++y;var b=w;if(d+y+(v!==m?1:0)>i)return void ox.log("Warning, gif stream longer than expected.");n[d++]=b;var _=d+=y;for(v!==m&&(n[d++]=b),w=v;y--;)w=p[w],n[--_]=255&w,w>>=8;null!==g&&a<4096&&(p[a++]=g<<8|b,a>=c+1&&l<12&&(++l,c=c<<1|1)),g=m}else a=o+1,c=(1<<(l=r+1))-1,g=null}return d!==i&&ox.log("Warning, gif stream shorter than expected."),n}function ak(t){var e,n,i,r,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),d=new Array(65535),f=new Array(64),p=new Array(64),g=[],m=0,v=7,y=new Array(64),w=new Array(64),b=new Array(64),_=new Array(256),x=new Array(2048),S=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],N=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],j=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function R(t,e){for(var n=0,i=0,r=new Array,s=1;s<=16;s++){for(var o=1;o<=t[s];o++)r[e[i]]=[],r[e[i]][0]=n,r[e[i]][1]=s,i++,n++;n*=2}return r}function T(t){for(var e=t[0],n=t[1]-1;n>=0;)e&1<<n&&(m|=1<<v),n--,--v<0&&(255==m?(I(255),I(0)):I(m),v=7,m=0)}function I(t){g.push(t)}function F(t){I(t>>8&255),I(255&t)}function O(t,e,n,i,r){for(var s,o=r[0],a=r[240],l=function(t,e){var n,i,r,s,o,a,l,c,u,h,d=0;for(u=0;u<8;++u){n=t[d],i=t[d+1],r=t[d+2],s=t[d+3],o=t[d+4],a=t[d+5],l=t[d+6];var p=n+(c=t[d+7]),g=n-c,m=i+l,v=i-l,y=r+a,w=r-a,b=s+o,_=s-o,x=p+b,S=p-b,k=m+y,C=m-y;t[d]=x+k,t[d+4]=x-k;var N=.707106781*(C+S);t[d+2]=S+N,t[d+6]=S-N;var A=.382683433*((x=_+w)-(C=v+g)),E=.5411961*x+A,L=1.306562965*C+A,P=.707106781*(k=w+v),j=g+P,R=g-P;t[d+5]=R+E,t[d+3]=R-E,t[d+1]=j+L,t[d+7]=j-L,d+=8}for(d=0,u=0;u<8;++u){n=t[d],i=t[d+8],r=t[d+16],s=t[d+24],o=t[d+32],a=t[d+40],l=t[d+48];var T=n+(c=t[d+56]),I=n-c,F=i+l,O=i-l,M=r+a,D=r-a,B=s+o,z=s-o,U=T+B,q=T-B,W=F+M,H=F-M;t[d]=U+W,t[d+32]=U-W;var V=.707106781*(H+q);t[d+16]=q+V,t[d+48]=q-V;var G=.382683433*((U=z+D)-(H=O+I)),K=.5411961*U+G,Y=1.306562965*H+G,X=.707106781*(W=D+O),Z=I+X,J=I-X;t[d+40]=J+K,t[d+24]=J-K,t[d+8]=Z+Y,t[d+56]=Z-Y,d++}for(u=0;u<64;++u)h=t[u]*e[u],f[u]=h>0?h+.5|0:h-.5|0;return f}(t,e),c=0;c<64;++c)p[S[c]]=l[c];var u=p[0]-n;n=p[0],0==u?T(i[0]):(T(i[d[s=32767+u]]),T(h[s]));for(var g=63;g>0&&0==p[g];)g--;if(0==g)return T(o),n;for(var m,v=1;v<=g;){for(var y=v;0==p[v]&&v<=g;)++v;var w=v-y;if(w>=16){m=w>>4;for(var b=1;b<=m;++b)T(a);w&=15}s=32767+p[v],T(r[(w<<4)+d[s]]),T(h[s]),v++}return 63!=g&&T(o),n}function M(t){t=Math.min(Math.max(t,1),100),s!=t&&(function(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var i=o((e[n]*t+50)/100);i=Math.min(Math.max(i,1),255),a[S[n]]=i}for(var r=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],s=0;s<64;s++){var h=o((r[s]*t+50)/100);h=Math.min(Math.max(h,1),255),l[S[s]]=h}for(var d=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],f=0,p=0;p<8;p++)for(var g=0;g<8;g++)c[f]=1/(a[S[f]]*d[p]*d[g]*8),u[f]=1/(l[S[f]]*d[p]*d[g]*8),f++}(t<50?Math.floor(5e3/t):Math.floor(200-2*t)),s=t)}this.encode=function(t,s){s&&M(s),g=new Array,m=0,v=7,F(65496),F(65504),F(16),I(74),I(70),I(73),I(70),I(0),I(1),I(1),I(0),F(1),F(1),I(0),I(0),function(){F(65499),F(132),I(0);for(var t=0;t<64;t++)I(a[t]);I(1);for(var e=0;e<64;e++)I(l[e])}(),function(t,e){F(65472),F(17),I(8),F(e),F(t),I(3),I(1),I(17),I(0),I(2),I(17),I(1),I(3),I(17),I(1)}(t.width,t.height),function(){F(65476),F(418),I(0);for(var t=0;t<16;t++)I(k[t+1]);for(var e=0;e<=11;e++)I(C[e]);I(16);for(var n=0;n<16;n++)I(N[n+1]);for(var i=0;i<=161;i++)I(A[i]);I(1);for(var r=0;r<16;r++)I(E[r+1]);for(var s=0;s<=11;s++)I(L[s]);I(17);for(var o=0;o<16;o++)I(P[o+1]);for(var a=0;a<=161;a++)I(j[a])}(),F(65498),F(12),I(3),I(1),I(0),I(2),I(17),I(3),I(17),I(0),I(63),I(0);var o=0,h=0,d=0;m=0,v=7,this.encode.displayName="_encode_";for(var f,p,_,S,R,D,B,z,U,q=t.data,W=t.width,H=t.height,V=4*W,G=0;G<H;){for(f=0;f<V;){for(R=V*G+f,B=-1,z=0,U=0;U<64;U++)D=R+(z=U>>3)*V+(B=4*(7&U)),G+z>=H&&(D-=V*(G+1+z-H)),f+B>=V&&(D-=f+B-V+4),p=q[D++],_=q[D++],S=q[D++],y[U]=(x[p]+x[_+256|0]+x[S+512|0]>>16)-128,w[U]=(x[p+768|0]+x[_+1024|0]+x[S+1280|0]>>16)-128,b[U]=(x[p+1280|0]+x[_+1536|0]+x[S+1792|0]>>16)-128;o=O(y,c,o,e,i),h=O(w,u,h,n,r),d=O(b,u,d,n,r),f+=32}G+=8}if(v>=0){var K=[];K[1]=v+1,K[0]=(1<<v+1)-1,T(K)}return F(65497),new Uint8Array(g)},t=t||50,function(){for(var t=String.fromCharCode,e=0;e<256;e++)_[e]=t(e)}(),e=R(k,C),n=R(E,L),i=R(N,A),r=R(P,j),function(){for(var t=1,e=2,n=1;n<=15;n++){for(var i=t;i<e;i++)d[32767+i]=n,h[32767+i]=[],h[32767+i][1]=n,h[32767+i][0]=i;for(var r=-(e-1);r<=-t;r++)d[32767+r]=n,h[32767+r]=[],h[32767+r][1]=n,h[32767+r][0]=e-1+r;t<<=1,e<<=1}}(),function(){for(var t=0;t<256;t++)x[t]=19595*t,x[t+256|0]=38470*t,x[t+512|0]=7471*t+32768,x[t+768|0]=-11059*t,x[t+1024|0]=-21709*t,x[t+1280|0]=32768*t+8421375,x[t+1536|0]=-27439*t,x[t+1792|0]=-5329*t}(),M(t)}function lk(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ck(t){function e(t){if(!t)throw Error("assert :P")}function n(t,e,n){for(var i=0;4>i;i++)if(t[e+i]!=n.charCodeAt(i))return!0;return!1}function i(t,e,n,i,r){for(var s=0;s<r;s++)t[e+s]=n[i+s]}function r(t,e,n,i){for(var r=0;r<i;r++)t[e+r]=n}function s(t){return new Int32Array(t)}function o(t,e){for(var n=[],i=0;i<t;i++)n.push(new e);return n}function a(t,e){var n=[];return function t(n,i,r){for(var s=r[i],o=0;o<s&&(n.push(r.length>i+1?[]:new e),!(r.length<i+1));o++)t(n[o],i+1,r)}(n,0,t),n}var l=function(){var t=this;function l(t,e){for(var n=1<<e-1>>>0;t&n;)n>>>=1;return n?(t&n-1)+n:t}function c(t,n,i,r,s){e(!(r%i));do{t[n+(r-=i)]=s}while(0<r)}function u(t,n,i,r,o){if(e(2328>=o),512>=o)var a=s(512);else if(null==(a=s(o)))return 0;return function(t,n,i,r,o,a){var u,d,f=n,p=1<<i,g=s(16),m=s(16);for(e(0!=o),e(null!=r),e(null!=t),e(0<i),d=0;d<o;++d){if(15<r[d])return 0;++g[r[d]]}if(g[0]==o)return 0;for(m[1]=0,u=1;15>u;++u){if(g[u]>1<<u)return 0;m[u+1]=m[u]+g[u]}for(d=0;d<o;++d)u=r[d],0<r[d]&&(a[m[u]++]=d);if(1==m[15])return(r=new h).g=0,r.value=a[0],c(t,f,1,p,r),p;var v,y=-1,w=p-1,b=0,_=1,x=1,S=1<<i;for(d=0,u=1,o=2;u<=i;++u,o<<=1){if(_+=x<<=1,0>(x-=g[u]))return 0;for(;0<g[u];--g[u])(r=new h).g=u,r.value=a[d++],c(t,f+b,o,S,r),b=l(b,u)}for(u=i+1,o=2;15>=u;++u,o<<=1){if(_+=x<<=1,0>(x-=g[u]))return 0;for(;0<g[u];--g[u]){if(r=new h,(b&w)!=y){for(f+=S,v=1<<(y=u)-i;15>y&&!(0>=(v-=g[y]));)++y,v<<=1;p+=S=1<<(v=y-i),t[n+(y=b&w)].g=v+i,t[n+y].value=f-n-y}r.g=u-i,r.value=a[d++],c(t,f+(b>>i),o,S,r),b=l(b,u)}}return _!=2*m[15]-1?0:p}(t,n,i,r,o,a)}function h(){this.value=this.g=0}function d(){this.value=this.g=0}function f(){this.G=o(5,h),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Dn,d)}function p(t,n,i,r){e(null!=t),e(null!=n),e(2147483648>r),t.Ca=254,t.I=0,t.b=-8,t.Ka=0,t.oa=n,t.pa=i,t.Jd=n,t.Yc=i+r,t.Zc=4<=r?i+r-4+1:i,N(t)}function g(t,e){for(var n=0;0<e--;)n|=E(t,128)<<e;return n}function m(t,e){var n=g(t,e);return A(t)?-n:n}function v(t,n,i,r){var s,o=0;for(e(null!=t),e(null!=n),e(4294967288>r),t.Sb=r,t.Ra=0,t.u=0,t.h=0,4<r&&(r=4),s=0;s<r;++s)o+=n[i+s]<<8*s;t.Ra=o,t.bb=r,t.oa=n,t.pa=i}function y(t){for(;8<=t.u&&t.bb<t.Sb;)t.Ra>>>=8,t.Ra+=t.oa[t.pa+t.bb]<<Un-8>>>0,++t.bb,t.u-=8;S(t)&&(t.h=1,t.u=0)}function w(t,n){if(e(0<=n),!t.h&&n<=zn){var i=x(t)&Bn[n];return t.u+=n,y(t),i}return t.h=1,t.u=0}function b(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function _(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function x(t){return t.Ra>>>(t.u&Un-1)>>>0}function S(t){return e(t.bb<=t.Sb),t.h||t.bb==t.Sb&&t.u>Un}function k(t,e){t.u=e,t.h=S(t)}function C(t){t.u>=qn&&(e(t.u>=qn),y(t))}function N(t){e(null!=t&&null!=t.oa),t.pa<t.Zc?(t.I=(t.oa[t.pa++]|t.I<<8)>>>0,t.b+=8):(e(null!=t&&null!=t.oa),t.pa<t.Yc?(t.b+=8,t.I=t.oa[t.pa++]|t.I<<8):t.Ka?t.b=0:(t.I<<=8,t.b+=8,t.Ka=1))}function A(t){return g(t,1)}function E(t,e){var n=t.Ca;0>t.b&&N(t);var i=t.b,r=n*e>>>8,s=(t.I>>>i>r)+0;for(s?(n-=r,t.I-=r+1<<i>>>0):n=r+1,i=n,r=0;256<=i;)r+=8,i>>=8;return i=7^r+Wn[i],t.b-=i,t.Ca=(n<<i)-1,s}function L(t,e,n){t[e+0]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n}function P(t,e){return t[e+0]|t[e+1]<<8}function j(t,e){return P(t,e)|t[e+2]<<16}function R(t,e){return P(t,e)|P(t,e+2)<<16}function T(t,n){var i=1<<n;return e(null!=t),e(0<n),t.X=s(i),null==t.X?0:(t.Mb=32-n,t.Xa=n,1)}function I(t,n){e(null!=t),e(null!=n),e(t.Xa==n.Xa),i(n.X,0,t.X,0,1<<n.Xa)}function F(){this.X=[],this.Xa=this.Mb=0}function O(t,n,i,r){e(null!=i),e(null!=r);var s=i[0],o=r[0];return 0==s&&(s=(t*o+n/2)/n),0==o&&(o=(n*s+t/2)/t),0>=s||0>=o?0:(i[0]=s,r[0]=o,1)}function M(t,e){return t+(1<<e)-1>>>e}function D(t,e){return((4278255360&t)+(4278255360&e)>>>0&4278255360)+((16711935&t)+(16711935&e)>>>0&16711935)>>>0}function B(e,n){t[n]=function(n,i,r,s,o,a,l){var c;for(c=0;c<o;++c){var u=t[e](a[l+c-1],r,s+c);a[l+c]=D(n[i+c],u)}}}function z(){this.ud=this.hd=this.jd=0}function U(t,e){return((4278124286&(t^e))>>>1)+(t&e)>>>0}function q(t){return 0<=t&&256>t?t:0>t?0:255<t?255:void 0}function W(t,e){return q(t+(t-e+.5>>1))}function H(t,e,n){return Math.abs(e-n)-Math.abs(t-n)}function V(t,e,n,i,r,s,o){for(i=s[o-1],n=0;n<r;++n)s[o+n]=i=D(t[e+n],i)}function G(t,e,n,i,r){var s;for(s=0;s<n;++s){var o=t[e+s],a=o>>8&255,l=16711935&(l=(l=16711935&o)+((a<<16)+a));i[r+s]=(4278255360&o)+l>>>0}}function K(t,e){e.jd=255&t,e.hd=t>>8&255,e.ud=t>>16&255}function Y(t,e,n,i,r,s){var o;for(o=0;o<i;++o){var a=e[n+o],l=a>>>8,c=a,u=255&(u=(u=a>>>16)+((t.jd<<24>>24)*(l<<24>>24)>>>5));c=255&(c=(c+=(t.hd<<24>>24)*(l<<24>>24)>>>5)+((t.ud<<24>>24)*(u<<24>>24)>>>5)),r[s+o]=(4278255360&a)+(u<<16)+c}}function X(e,n,i,r,s){t[n]=function(t,e,n,i,o,a,l,c,u){for(i=l;i<c;++i)for(l=0;l<u;++l)o[a++]=s(n[r(t[e++])])},t[e]=function(e,n,o,a,l,c,u){var h=8>>e.b,d=e.Ea,f=e.K[0],p=e.w;if(8>h)for(e=(1<<e.b)-1,p=(1<<h)-1;n<o;++n){var g,m=0;for(g=0;g<d;++g)g&e||(m=r(a[l++])),c[u++]=s(f[m&p]),m>>=h}else t["VP8LMapColor"+i](a,l,f,p,c,u,n,o,d)}}function Z(t,e,n,i,r){for(n=e+n;e<n;){var s=t[e++];i[r++]=s>>16&255,i[r++]=s>>8&255,i[r++]=255&s}}function J(t,e,n,i,r){for(n=e+n;e<n;){var s=t[e++];i[r++]=s>>16&255,i[r++]=s>>8&255,i[r++]=255&s,i[r++]=s>>24&255}}function $(t,e,n,i,r){for(n=e+n;e<n;){var s=(o=t[e++])>>16&240|o>>12&15,o=240&o|o>>28&15;i[r++]=s,i[r++]=o}}function Q(t,e,n,i,r){for(n=e+n;e<n;){var s=(o=t[e++])>>16&248|o>>13&7,o=o>>5&224|o>>3&31;i[r++]=s,i[r++]=o}}function tt(t,e,n,i,r){for(n=e+n;e<n;){var s=t[e++];i[r++]=255&s,i[r++]=s>>8&255,i[r++]=s>>16&255}}function et(t,e,n,r,s,o){if(0==o)for(n=e+n;e<n;)L(r,((o=t[e++])[0]>>24|o[1]>>8&65280|o[2]<<8&16711680|o[3]<<24)>>>0),s+=32;else i(r,s,t,e,n)}function nt(e,n){t[n][0]=t[e+"0"],t[n][1]=t[e+"1"],t[n][2]=t[e+"2"],t[n][3]=t[e+"3"],t[n][4]=t[e+"4"],t[n][5]=t[e+"5"],t[n][6]=t[e+"6"],t[n][7]=t[e+"7"],t[n][8]=t[e+"8"],t[n][9]=t[e+"9"],t[n][10]=t[e+"10"],t[n][11]=t[e+"11"],t[n][12]=t[e+"12"],t[n][13]=t[e+"13"],t[n][14]=t[e+"0"],t[n][15]=t[e+"0"]}function it(t){return t==qi||t==Wi||t==Hi||t==Vi}function rt(){this.eb=[],this.size=this.A=this.fb=0}function st(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ot(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new rt,this.f.kb=new st,this.sd=null}function at(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function lt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ct(t){return alert("todo:WebPSamplerProcessPlane"),t.T}function ut(t,e){var n=t.T,r=e.ba.f.RGBA,s=r.eb,o=r.fb+t.ka*r.A,a=mr[e.ba.S],l=t.y,c=t.O,u=t.f,h=t.N,d=t.ea,f=t.W,p=e.cc,g=e.dc,m=e.Mc,v=e.Nc,y=t.ka,w=t.ka+t.T,b=t.U,_=b+1>>1;for(0==y?a(l,c,null,null,u,h,d,f,u,h,d,f,s,o,null,null,b):(a(e.ec,e.fc,l,c,p,g,m,v,u,h,d,f,s,o-r.A,s,o,b),++n);y+2<w;y+=2)p=u,g=h,m=d,v=f,h+=t.Rc,f+=t.Rc,o+=2*r.A,a(l,(c+=2*t.fa)-t.fa,l,c,p,g,m,v,u,h,d,f,s,o-r.A,s,o,b);return c+=t.fa,t.j+w<t.o?(i(e.ec,e.fc,l,c,b),i(e.cc,e.dc,u,h,_),i(e.Mc,e.Nc,d,f,_),n--):1&w||a(l,c,null,null,u,h,d,f,u,h,d,f,s,o+r.A,null,null,b),n}function ht(t,n,i){var r=t.F,s=[t.J];if(null!=r){var o=t.U,a=n.ba.S,l=a==Bi||a==Hi;n=n.ba.f.RGBA;var c=[0],u=t.ka;c[0]=t.T,t.Kb&&(0==u?--c[0]:(--u,s[0]-=t.width),t.j+t.ka+t.T==t.o&&(c[0]=t.o-t.j-u));var h=n.eb;u=n.fb+u*n.A,t=ki(r,s[0],t.width,o,c,h,u+(l?0:3),n.A),e(i==c),t&&it(a)&&xi(h,u,l,o,c,n.A)}return 0}function dt(t){var e=t.ma,n=e.ba.S,i=11>n,r=n==Oi||n==Di||n==Bi||n==zi||12==n||it(n);if(e.memory=null,e.Ib=null,e.Jb=null,e.Nd=null,!Fn(e.Oa,t,r?11:12))return 0;if(r&&it(n)&&yn(),t.da)alert("todo:use_scaling");else{if(i){if(e.Ib=ct,t.Kb){if(n=t.U+1>>1,e.memory=s(t.U+2*n),null==e.memory)return 0;e.ec=e.memory,e.fc=0,e.cc=e.ec,e.dc=e.fc+t.U,e.Mc=e.cc,e.Nc=e.dc+n,e.Ib=ut,yn()}}else alert("todo:EmitYUV");r&&(e.Jb=ht,i&&mn())}if(i&&!Pr){for(t=0;256>t;++t)jr[t]=89858*(t-128)+Cr>>kr,Ir[t]=-22014*(t-128)+Cr,Tr[t]=-45773*(t-128),Rr[t]=113618*(t-128)+Cr>>kr;for(t=Nr;t<Ar;++t)e=76283*(t-16)+Cr>>kr,Fr[t-Nr]=Vt(e,255),Or[t-Nr]=Vt(e+8>>4,15);Pr=1}return 1}function ft(t){var n=t.ma,i=t.U,r=t.T;return e(!(1&t.ka)),0>=i||0>=r?0:(i=n.Ib(t,n),null!=n.Jb&&n.Jb(t,n,i),n.Dc+=i,1)}function pt(t){t.ma.memory=null}function gt(t,e,n,i){return 47!=w(t,8)?0:(e[0]=w(t,14)+1,n[0]=w(t,14)+1,i[0]=w(t,1),0!=w(t,3)?0:!t.h)}function mt(t,e){if(4>t)return t+1;var n=t-2>>1;return(2+(1&t)<<n)+w(e,n)+1}function vt(t,e){return 120<e?e-120:1<=(n=((n=Ji[e-1])>>4)*t+(8-(15&n)))?n:1;var n}function yt(t,e,n){var i=x(n),r=t[e+=255&i].g-8;return 0<r&&(k(n,n.u+8),i=x(n),e+=t[e].value,e+=i&(1<<r)-1),k(n,n.u+t[e].g),t[e].value}function wt(t,n,i){return i.g+=t.g,i.value+=t.value<<n>>>0,e(8>=i.g),t.g}function bt(t,n,i){var r=t.xc;return e((n=0==r?0:t.vc[t.md*(i>>r)+(n>>r)])<t.Wb),t.Ya[n]}function _t(t,n,r,s){var o=t.ab,a=t.c*n,l=t.C;n=l+n;var c=r,u=s;for(s=t.Ta,r=t.Ua;0<o--;){var h=t.gc[o],d=l,f=n,p=c,g=u,m=(u=s,c=r,h.Ea);switch(e(d<f),e(f<=h.nc),h.hc){case 2:Gn(p,g,(f-d)*m,u,c);break;case 0:var v=d,y=f,w=u,b=c,_=(N=h).Ea;0==v&&(Hn(p,g,null,null,1,w,b),V(p,g+1,0,0,_-1,w,b+1),g+=_,b+=_,++v);for(var x=1<<N.b,S=x-1,k=M(_,N.b),C=N.K,N=N.w+(v>>N.b)*k;v<y;){var A=C,E=N,L=1;for(Vn(p,g,w,b-_,1,w,b);L<_;){var P=(L&~S)+x;P>_&&(P=_),(0,Jn[A[E++]>>8&15])(p,g+ +L,w,b+L-_,P-L,w,b+L),L=P}g+=_,b+=_,++v&S||(N+=k)}f!=h.nc&&i(u,c-m,u,c+(f-d-1)*m,m);break;case 1:for(m=p,y=g,_=(p=h.Ea)-(b=p&~(w=(g=1<<h.b)-1)),v=M(p,h.b),x=h.K,h=h.w+(d>>h.b)*v;d<f;){for(S=x,k=h,C=new z,N=y+b,A=y+p;y<N;)K(S[k++],C),$n(C,m,y,g,u,c),y+=g,c+=g;y<A&&(K(S[k++],C),$n(C,m,y,_,u,c),y+=_,c+=_),++d&w||(h+=v)}break;case 3:if(p==u&&g==c&&0<h.b){for(y=u,p=m=c+(f-d)*m-(b=(f-d)*M(h.Ea,h.b)),g=u,w=c,v=[],b=(_=b)-1;0<=b;--b)v[b]=g[w+b];for(b=_-1;0<=b;--b)y[p+b]=v[b];Kn(h,d,f,u,m,u,c)}else Kn(h,d,f,p,g,u,c)}c=s,u=r}u!=r&&i(s,r,c,u,a)}function xt(t,n){var i=t.V,r=t.Ba+t.c*t.C,s=n-t.C;if(e(n<=t.l.o),e(16>=s),0<s){var o=t.l,a=t.Ta,l=t.Ua,c=o.width;if(_t(t,s,i,r),s=l=[l],e((i=t.C)<(r=n)),e(o.v<o.va),r>o.o&&(r=o.o),i<o.j){var u=o.j-i;i=o.j,s[0]+=u*c}if(i>=r?i=0:(s[0]+=4*o.v,o.ka=i-o.j,o.U=o.va-o.v,o.T=r-i,i=1),i){if(l=l[0],11>(i=t.ca).S){var h=i.f.RGBA,d=(r=i.S,s=o.U,o=o.T,u=h.eb,h.A),f=o;for(h=h.fb+t.Ma*h.A;0<f--;){var p=a,g=l,m=s,v=u,y=h;switch(r){case Fi:Qn(p,g,m,v,y);break;case Oi:ti(p,g,m,v,y);break;case qi:ti(p,g,m,v,y),xi(v,y,0,m,1,0);break;case Mi:ii(p,g,m,v,y);break;case Di:et(p,g,m,v,y,1);break;case Wi:et(p,g,m,v,y,1),xi(v,y,0,m,1,0);break;case Bi:et(p,g,m,v,y,0);break;case Hi:et(p,g,m,v,y,0),xi(v,y,1,m,1,0);break;case zi:ei(p,g,m,v,y);break;case Vi:ei(p,g,m,v,y),Si(v,y,m,1,0);break;case Ui:ni(p,g,m,v,y);break;default:e(0)}l+=c,h+=d}t.Ma+=o}else alert("todo:EmitRescaledRowsYUVA");e(t.Ma<=i.height)}}t.C=n,e(t.C<=t.i)}function St(t){var e;if(0<t.ua)return 0;for(e=0;e<t.Wb;++e){var n=t.Ya[e].G,i=t.Ya[e].H;if(0<n[1][i[1]+0].g||0<n[2][i[2]+0].g||0<n[3][i[3]+0].g)return 0}return 1}function kt(t,n,i,r,s,o){if(0!=t.Z){var a=t.qd,l=t.rd;for(e(null!=gr[t.Z]);n<i;++n)gr[t.Z](a,l,r,s,r,s,o),a=r,l=s,s+=o;t.qd=a,t.rd=l}}function Ct(t,n){var i=t.l.ma,r=0==i.Z||1==i.Z?t.l.j:t.C;if(r=t.C<r?r:t.C,e(n<=t.l.o),n>r){var s=t.l.width,o=i.ca,a=i.tb+s*r,l=t.V,c=t.Ba+t.c*r,u=t.gc;e(1==t.ab),e(3==u[0].hc),Xn(u[0],r,n,l,c,o,a),kt(i,r,n,o,a,s)}t.C=t.Ma=n}function Nt(t,n,i,r,s,o,a){var l=t.$/r,c=t.$%r,u=t.m,h=t.s,d=i+t.$,f=d;s=i+r*s;var p=i+r*o,g=280+h.ua,m=t.Pb?l:16777216,v=0<h.ua?h.Wa:null,y=h.wc,w=d<p?bt(h,c,l):null;e(t.C<o),e(p<=s);var b=!1;t:for(;;){for(;b||d<p;){var _=0;if(l>=m){var N=d-i;e((m=t).Pb),m.wd=m.m,m.xd=N,0<m.s.ua&&I(m.s.Wa,m.s.vb),m=l+Qi}if(c&y||(w=bt(h,c,l)),e(null!=w),w.Qb&&(n[d]=w.qb,b=!0),!b)if(C(u),w.jc){_=u,N=n;var A=d,E=w.pd[x(_)&Dn-1];e(w.jc),256>E.g?(k(_,_.u+E.g),N[A]=E.value,_=0):(k(_,_.u+E.g-256),e(256<=E.value),_=E.value),0==_&&(b=!0)}else _=yt(w.G[0],w.H[0],u);if(u.h)break;if(b||256>_){if(!b)if(w.nd)n[d]=(w.qb|_<<8)>>>0;else{if(C(u),b=yt(w.G[1],w.H[1],u),C(u),N=yt(w.G[2],w.H[2],u),A=yt(w.G[3],w.H[3],u),u.h)break;n[d]=(A<<24|b<<16|_<<8|N)>>>0}if(b=!1,++d,++c>=r&&(c=0,++l,null!=a&&l<=o&&!(l%16)&&a(t,l),null!=v))for(;f<d;)_=n[f++],v.X[(506832829*_&4294967295)>>>v.Mb]=_}else if(280>_){if(_=mt(_-256,u),N=yt(w.G[4],w.H[4],u),C(u),N=vt(r,N=mt(N,u)),u.h)break;if(d-i<N||s-d<_)break t;for(A=0;A<_;++A)n[d+A]=n[d+A-N];for(d+=_,c+=_;c>=r;)c-=r,++l,null!=a&&l<=o&&!(l%16)&&a(t,l);if(e(d<=s),c&y&&(w=bt(h,c,l)),null!=v)for(;f<d;)_=n[f++],v.X[(506832829*_&4294967295)>>>v.Mb]=_}else{if(!(_<g))break t;for(b=_-280,e(null!=v);f<d;)_=n[f++],v.X[(506832829*_&4294967295)>>>v.Mb]=_;_=d,e(!(b>>>(N=v).Xa)),n[_]=N.X[b],b=!0}b||e(u.h==S(u))}if(t.Pb&&u.h&&d<s)e(t.m.h),t.a=5,t.m=t.wd,t.$=t.xd,0<t.s.ua&&I(t.s.vb,t.s.Wa);else{if(u.h)break t;null!=a&&a(t,l>o?o:l),t.a=0,t.$=d-i}return 1}return t.a=3,0}function At(t){e(null!=t),t.vc=null,t.yc=null,t.Ya=null;var n=t.Wa;null!=n&&(n.X=null),t.vb=null,e(null!=t)}function Et(){var e=new on;return null==e?null:(e.a=0,e.xb=pr,nt("Predictor","VP8LPredictors"),nt("Predictor","VP8LPredictors_C"),nt("PredictorAdd","VP8LPredictorsAdd"),nt("PredictorAdd","VP8LPredictorsAdd_C"),Gn=G,$n=Y,Qn=Z,ti=J,ei=$,ni=Q,ii=tt,t.VP8LMapColor32b=Yn,t.VP8LMapColor8b=Zn,e)}function Lt(t,n,i,a,l){var c=1,d=[t],p=[n],g=a.m,m=a.s,v=null,y=0;t:for(;;){if(i)for(;c&&w(g,1);){var b=d,_=p,S=a,N=1,A=S.m,E=S.gc[S.ab],L=w(A,2);if(S.Oc&1<<L)c=0;else{switch(S.Oc|=1<<L,E.hc=L,E.Ea=b[0],E.nc=_[0],E.K=[null],++S.ab,e(4>=S.ab),L){case 0:case 1:E.b=w(A,3)+2,N=Lt(M(E.Ea,E.b),M(E.nc,E.b),0,S,E.K),E.K=E.K[0];break;case 3:var P,j=w(A,8)+1,R=16<j?0:4<j?1:2<j?2:3;if(b[0]=M(E.Ea,R),E.b=R,P=N=Lt(j,1,0,S,E.K)){var I,F=j,O=E,B=1<<(8>>O.b),z=s(B);if(null==z)P=0;else{var U=O.K[0],q=O.w;for(z[0]=O.K[0][0],I=1;I<1*F;++I)z[I]=D(U[q+I],z[I-1]);for(;I<4*B;++I)z[I]=0;O.K[0]=null,O.K[0]=z,P=1}}N=P;break;case 2:break;default:e(0)}c=N}}if(d=d[0],p=p[0],c&&w(g,1)&&!(c=1<=(y=w(g,4))&&11>=y)){a.a=3;break t}var W;if(W=c)e:{var H,V,G,K=a,Y=d,X=p,Z=y,J=i,$=K.m,Q=K.s,tt=[null],et=1,nt=0,it=$i[Z];n:for(;;){if(J&&w($,1)){var rt=w($,3)+2,st=M(Y,rt),ot=M(X,rt),at=st*ot;if(!Lt(st,ot,0,K,tt))break n;for(tt=tt[0],Q.xc=rt,H=0;H<at;++H){var lt=tt[H]>>8&65535;tt[H]=lt,lt>=et&&(et=lt+1)}}if($.h)break n;for(V=0;5>V;++V){var ct=Yi[V];!V&&0<Z&&(ct+=1<<Z),nt<ct&&(nt=ct)}var ut=o(et*it,h),ht=et,dt=o(ht,f);if(null==dt)var ft=null;else e(65536>=ht),ft=dt;var pt=s(nt);if(null==ft||null==pt||null==ut){K.a=1;break n}var gt=ut;for(H=G=0;H<et;++H){var mt=ft[H],vt=mt.G,yt=mt.H,bt=0,_t=1,xt=0;for(V=0;5>V;++V){ct=Yi[V],vt[V]=gt,yt[V]=G,!V&&0<Z&&(ct+=1<<Z);i:{var St,kt=ct,Ct=K,Et=pt,Pt=gt,jt=G,Rt=0,Tt=Ct.m,It=w(Tt,1);if(r(Et,0,0,kt),It){var Ft=w(Tt,1)+1,Ot=w(Tt,1),Mt=w(Tt,0==Ot?1:8);Et[Mt]=1,2==Ft&&(Et[Mt=w(Tt,8)]=1);var Dt=1}else{var Bt=s(19),zt=w(Tt,4)+4;if(19<zt){Ct.a=3;var Ut=0;break i}for(St=0;St<zt;++St)Bt[Zi[St]]=w(Tt,3);var qt=void 0,Wt=void 0,Ht=Ct,Vt=Bt,Gt=kt,Kt=Et,Yt=0,Xt=Ht.m,Zt=8,Jt=o(128,h);r:for(;u(Jt,0,7,Vt,19);){if(w(Xt,1)){var $t=2+2*w(Xt,3);if((qt=2+w(Xt,$t))>Gt)break r}else qt=Gt;for(Wt=0;Wt<Gt&&qt--;){C(Xt);var Qt=Jt[0+(127&x(Xt))];k(Xt,Xt.u+Qt.g);var te=Qt.value;if(16>te)Kt[Wt++]=te,0!=te&&(Zt=te);else{var ee=16==te,ne=te-16,ie=Ki[ne],re=w(Xt,Gi[ne])+ie;if(Wt+re>Gt)break r;for(var se=ee?Zt:0;0<re--;)Kt[Wt++]=se}}Yt=1;break r}Yt||(Ht.a=3),Dt=Yt}(Dt=Dt&&!Tt.h)&&(Rt=u(Pt,jt,8,Et,kt)),Dt&&0!=Rt?Ut=Rt:(Ct.a=3,Ut=0)}if(0==Ut)break n;if(_t&&1==Xi[V]&&(_t=0==gt[G].g),bt+=gt[G].g,G+=Ut,3>=V){var oe,ae=pt[0];for(oe=1;oe<ct;++oe)pt[oe]>ae&&(ae=pt[oe]);xt+=ae}}if(mt.nd=_t,mt.Qb=0,_t&&(mt.qb=(vt[3][yt[3]+0].value<<24|vt[1][yt[1]+0].value<<16|vt[2][yt[2]+0].value)>>>0,0==bt&&256>vt[0][yt[0]+0].value&&(mt.Qb=1,mt.qb+=vt[0][yt[0]+0].value<<8)),mt.jc=!mt.Qb&&6>xt,mt.jc){var le,ce=mt;for(le=0;le<Dn;++le){var ue=le,he=ce.pd[ue],de=ce.G[0][ce.H[0]+ue];256<=de.value?(he.g=de.g+256,he.value=de.value):(he.g=0,he.value=0,ue>>=wt(de,8,he),ue>>=wt(ce.G[1][ce.H[1]+ue],16,he),ue>>=wt(ce.G[2][ce.H[2]+ue],0,he),wt(ce.G[3][ce.H[3]+ue],24,he))}}}Q.vc=tt,Q.Wb=et,Q.Ya=ft,Q.yc=ut,W=1;break e}W=0}if(!(c=W)){a.a=3;break t}if(0<y){if(m.ua=1<<y,!T(m.Wa,y)){a.a=1,c=0;break t}}else m.ua=0;var fe=a,pe=d,ge=p,me=fe.s,ve=me.xc;if(fe.c=pe,fe.i=ge,me.md=M(pe,ve),me.wc=0==ve?-1:(1<<ve)-1,i){a.xb=fr;break t}if(null==(v=s(d*p))){a.a=1,c=0;break t}c=(c=Nt(a,v,0,d,p,p,null))&&!g.h;break t}return c?(null!=l?l[0]=v:(e(null==v),e(i)),a.$=0,i||At(m)):At(m),c}function Pt(t,n){var i=t.c*t.i,r=i+n+16*n;return e(t.c<=n),t.V=s(r),null==t.V?(t.Ta=null,t.Ua=0,t.a=1,0):(t.Ta=t.V,t.Ua=t.Ba+i+n,1)}function jt(t,n){var i=t.C,r=n-i,s=t.V,o=t.Ba+t.c*i;for(e(n<=t.l.o);0<r;){var a=16<r?16:r,l=t.l.ma,c=t.l.width,u=c*a,h=l.ca,d=l.tb+c*i,f=t.Ta,p=t.Ua;_t(t,a,s,o),Ci(f,p,h,d,u),kt(l,i,i+a,h,d,c),r-=a,s+=a*t.c,i+=a}e(i==n),t.C=t.Ma=n}function Rt(){this.ub=this.yd=this.td=this.Rb=0}function Tt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function It(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ft(){this.Yb=function(){var t=[];return function t(e,n,i){for(var r=i[n],s=0;s<r&&(e.push(i.length>n+1?[]:0),!(i.length<n+1));s++)t(e[s],n+1,i)}(t,0,[3,11]),t}()}function Ot(){this.jb=s(3),this.Wc=a([4,8],Ft),this.Xc=a([4,17],Ft)}function Mt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Dt(){this.ld=this.La=this.dd=this.tc=0}function Bt(){this.Na=this.la=0}function zt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ut(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function qt(){this.uc=this.M=this.Nb=0,this.wa=Array(new Dt),this.Y=0,this.ya=Array(new Ut),this.aa=0,this.l=new Gt}function Wt(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ht(){this.cb=this.a=0,this.sc="",this.m=new b,this.Od=new Rt,this.Kc=new Tt,this.ed=new Mt,this.Qa=new It,this.Ic=this.$c=this.Aa=0,this.D=new qt,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,b),this.ia=0,this.pb=o(4,zt),this.Pa=new Ot,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Wt),this.Hd=0,this.rb=Array(new Bt),this.sb=0,this.wa=Array(new Dt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ut),this.L=this.aa=0,this.gd=a([4,2],Dt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Vt(t,e){return 0>t?0:t>e?e:t}function Gt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Kt(){var t=new Ht;return null!=t&&(t.a=0,t.sc="OK",t.cb=0,t.Xb=0,nr||(nr=Jt)),t}function Yt(t,e,n){return 0==t.a&&(t.a=e,t.sc=n,t.cb=0),0}function Xt(t,e,n){return 3<=n&&157==t[e+0]&&1==t[e+1]&&42==t[e+2]}function Zt(t,n){if(null==t)return 0;if(t.a=0,t.sc="OK",null==n)return Yt(t,2,"null VP8Io passed to VP8GetHeaders()");var i=n.data,s=n.w,o=n.ha;if(4>o)return Yt(t,7,"Truncated header.");var a=i[s+0]|i[s+1]<<8|i[s+2]<<16,l=t.Od;if(l.Rb=!(1&a),l.td=a>>1&7,l.yd=a>>4&1,l.ub=a>>5,3<l.td)return Yt(t,3,"Incorrect keyframe parameters.");if(!l.yd)return Yt(t,4,"Frame not displayable.");s+=3,o-=3;var c=t.Kc;if(l.Rb){if(7>o)return Yt(t,7,"cannot parse picture header");if(!Xt(i,s,o))return Yt(t,3,"Bad code word");c.c=16383&(i[s+4]<<8|i[s+3]),c.Td=i[s+4]>>6,c.i=16383&(i[s+6]<<8|i[s+5]),c.Ud=i[s+6]>>6,s+=7,o-=7,t.za=c.c+15>>4,t.Ub=c.i+15>>4,n.width=c.c,n.height=c.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,r((a=t.Pa).jb,0,255,a.jb.length),e(null!=(a=t.Qa)),a.Cb=0,a.Bb=0,a.Fb=1,r(a.Zb,0,0,a.Zb.length),r(a.Lb,0,0,a.Lb)}if(l.ub>o)return Yt(t,7,"bad partition length");p(a=t.m,i,s,l.ub),s+=l.ub,o-=l.ub,l.Rb&&(c.Ld=A(a),c.Kd=A(a)),c=t.Qa;var u,h=t.Pa;if(e(null!=a),e(null!=c),c.Cb=A(a),c.Cb){if(c.Bb=A(a),A(a)){for(c.Fb=A(a),u=0;4>u;++u)c.Zb[u]=A(a)?m(a,7):0;for(u=0;4>u;++u)c.Lb[u]=A(a)?m(a,6):0}if(c.Bb)for(u=0;3>u;++u)h.jb[u]=A(a)?g(a,8):255}else c.Bb=0;if(a.Ka)return Yt(t,3,"cannot parse segment header");if((c=t.ed).zd=A(a),c.Tb=g(a,6),c.wb=g(a,3),c.Pc=A(a),c.Pc&&A(a)){for(h=0;4>h;++h)A(a)&&(c.vd[h]=m(a,6));for(h=0;4>h;++h)A(a)&&(c.od[h]=m(a,6))}if(t.L=0==c.Tb?0:c.zd?1:2,a.Ka)return Yt(t,3,"cannot parse filter header");var d=o;if(o=u=s,s=u+d,c=d,t.Xb=(1<<g(t.m,2))-1,d<3*(h=t.Xb))i=7;else{for(u+=3*h,c-=3*h,d=0;d<h;++d){var f=i[o+0]|i[o+1]<<8|i[o+2]<<16;f>c&&(f=c),p(t.Jc[+d],i,u,f),u+=f,c-=f,o+=3}p(t.Jc[+h],i,u,c),i=u<s?0:5}if(0!=i)return Yt(t,i,"cannot parse partitions");for(i=g(u=t.m,7),o=A(u)?m(u,4):0,s=A(u)?m(u,4):0,c=A(u)?m(u,4):0,h=A(u)?m(u,4):0,u=A(u)?m(u,4):0,d=t.Qa,f=0;4>f;++f){if(d.Cb){var v=d.Zb[f];d.Fb||(v+=i)}else{if(0<f){t.pb[f]=t.pb[0];continue}v=i}var y=t.pb[f];y.Sc[0]=tr[Vt(v+o,127)],y.Sc[1]=er[Vt(v+0,127)],y.Eb[0]=2*tr[Vt(v+s,127)],y.Eb[1]=101581*er[Vt(v+c,127)]>>16,8>y.Eb[1]&&(y.Eb[1]=8),y.Qc[0]=tr[Vt(v+h,117)],y.Qc[1]=er[Vt(v+u,127)],y.lc=v+u}if(!l.Rb)return Yt(t,4,"Not a key frame.");for(A(a),l=t.Pa,i=0;4>i;++i){for(o=0;8>o;++o)for(s=0;3>s;++s)for(c=0;11>c;++c)h=E(a,lr[i][o][s][c])?g(a,8):or[i][o][s][c],l.Wc[i][o].Yb[s][c]=h;for(o=0;17>o;++o)l.Xc[i][o]=l.Wc[i][cr[o]]}return t.kc=A(a),t.kc&&(t.Bd=g(a,8)),t.cb=1}function Jt(t,e,n,i,r,s,o){var a=e[r].Yb[n];for(n=0;16>r;++r){if(!E(t,a[n+0]))return r;for(;!E(t,a[n+1]);)if(a=e[++r].Yb[0],n=0,16==r)return 16;var l=e[r+1].Yb;if(E(t,a[n+2])){var c=t,u=0;if(E(c,(d=a)[(h=n)+3]))if(E(c,d[h+6])){for(a=0,h=2*(u=E(c,d[h+8]))+(d=E(c,d[h+9+u])),u=0,d=ir[h];d[a];++a)u+=u+E(c,d[a]);u+=3+(8<<h)}else E(c,d[h+7])?(u=7+2*E(c,165),u+=E(c,145)):u=5+E(c,159);else u=E(c,d[h+4])?3+E(c,d[h+5]):2;a=l[2]}else u=1,a=l[1];l=o+rr[r],0>(c=t).b&&N(c);var h,d=c.b,f=(h=c.Ca>>1)-(c.I>>d)>>31;--c.b,c.Ca+=f,c.Ca|=1,c.I-=(h+1&f)<<d,s[l]=((u^f)-f)*i[(0<r)+0]}return 16}function $t(t){var e=t.rb[t.sb-1];e.la=0,e.Na=0,r(t.zc,0,0,t.zc.length),t.ja=0}function Qt(t,e,n,i,r){r=t[e+n+32*i]+(r>>3),t[e+n+32*i]=-256&r?0>r?0:255:r}function te(t,e,n,i,r,s){Qt(t,e,0,n,i+r),Qt(t,e,1,n,i+s),Qt(t,e,2,n,i-s),Qt(t,e,3,n,i-r)}function ee(t){return(20091*t>>16)+t}function ne(t,e,n,i){var r,o=0,a=s(16);for(r=0;4>r;++r){var l=t[e+0]+t[e+8],c=t[e+0]-t[e+8],u=(35468*t[e+4]>>16)-ee(t[e+12]),h=ee(t[e+4])+(35468*t[e+12]>>16);a[o+0]=l+h,a[o+1]=c+u,a[o+2]=c-u,a[o+3]=l-h,o+=4,e++}for(r=o=0;4>r;++r)l=(t=a[o+0]+4)+a[o+8],c=t-a[o+8],u=(35468*a[o+4]>>16)-ee(a[o+12]),Qt(n,i,0,0,l+(h=ee(a[o+4])+(35468*a[o+12]>>16))),Qt(n,i,1,0,c+u),Qt(n,i,2,0,c-u),Qt(n,i,3,0,l-h),o++,i+=32}function ie(t,e,n,i){var r=t[e+0]+4,s=35468*t[e+4]>>16,o=ee(t[e+4]),a=35468*t[e+1]>>16;te(n,i,0,r+o,t=ee(t[e+1]),a),te(n,i,1,r+s,t,a),te(n,i,2,r-s,t,a),te(n,i,3,r-o,t,a)}function re(t,e,n,i,r){ne(t,e,n,i),r&&ne(t,e+16,n,i+4)}function se(t,e,n,i){si(t,e+0,n,i,1),si(t,e+32,n,i+128,1)}function oe(t,e,n,i){var r;for(t=t[e+0]+4,r=0;4>r;++r)for(e=0;4>e;++e)Qt(n,i,e,r,t)}function ae(t,e,n,i){t[e+0]&&li(t,e+0,n,i),t[e+16]&&li(t,e+16,n,i+4),t[e+32]&&li(t,e+32,n,i+128),t[e+48]&&li(t,e+48,n,i+128+4)}function le(t,e,n,i){var r,o=s(16);for(r=0;4>r;++r){var a=t[e+0+r]+t[e+12+r],l=t[e+4+r]+t[e+8+r],c=t[e+4+r]-t[e+8+r],u=t[e+0+r]-t[e+12+r];o[0+r]=a+l,o[8+r]=a-l,o[4+r]=u+c,o[12+r]=u-c}for(r=0;4>r;++r)a=(t=o[0+4*r]+3)+o[3+4*r],l=o[1+4*r]+o[2+4*r],c=o[1+4*r]-o[2+4*r],u=t-o[3+4*r],n[i+0]=a+l>>3,n[i+16]=u+c>>3,n[i+32]=a-l>>3,n[i+48]=u-c>>3,i+=64}function ce(t,e,n){var i,r=e-32,s=Ti,o=255-t[r-1];for(i=0;i<n;++i){var a,l=s,c=o+t[e-1];for(a=0;a<n;++a)t[e+a]=l[c+t[r+a]];e+=32}}function ue(t,e){ce(t,e,4)}function he(t,e){ce(t,e,8)}function de(t,e){ce(t,e,16)}function fe(t,e){var n;for(n=0;16>n;++n)i(t,e+32*n,t,e-32,16)}function pe(t,e){var n;for(n=16;0<n;--n)r(t,e,t[e-1],16),e+=32}function ge(t,e,n){var i;for(i=0;16>i;++i)r(e,n+32*i,t,16)}function me(t,e){var n,i=16;for(n=0;16>n;++n)i+=t[e-1+32*n]+t[e+n-32];ge(i>>5,t,e)}function ve(t,e){var n,i=8;for(n=0;16>n;++n)i+=t[e-1+32*n];ge(i>>4,t,e)}function ye(t,e){var n,i=8;for(n=0;16>n;++n)i+=t[e+n-32];ge(i>>4,t,e)}function we(t,e){ge(128,t,e)}function be(t,e,n){return t+2*e+n+2>>2}function _e(t,e){var n,r=e-32;for(r=new Uint8Array([be(t[r-1],t[r+0],t[r+1]),be(t[r+0],t[r+1],t[r+2]),be(t[r+1],t[r+2],t[r+3]),be(t[r+2],t[r+3],t[r+4])]),n=0;4>n;++n)i(t,e+32*n,r,0,r.length)}function xe(t,e){var n=t[e-1],i=t[e-1+32],r=t[e-1+64],s=t[e-1+96];L(t,e+0,16843009*be(t[e-1-32],n,i)),L(t,e+32,16843009*be(n,i,r)),L(t,e+64,16843009*be(i,r,s)),L(t,e+96,16843009*be(r,s,s))}function Se(t,e){var n,i=4;for(n=0;4>n;++n)i+=t[e+n-32]+t[e-1+32*n];for(i>>=3,n=0;4>n;++n)r(t,e+32*n,i,4)}function ke(t,e){var n=t[e-1+0],i=t[e-1+32],r=t[e-1+64],s=t[e-1-32],o=t[e+0-32],a=t[e+1-32],l=t[e+2-32],c=t[e+3-32];t[e+0+96]=be(i,r,t[e-1+96]),t[e+1+96]=t[e+0+64]=be(n,i,r),t[e+2+96]=t[e+1+64]=t[e+0+32]=be(s,n,i),t[e+3+96]=t[e+2+64]=t[e+1+32]=t[e+0+0]=be(o,s,n),t[e+3+64]=t[e+2+32]=t[e+1+0]=be(a,o,s),t[e+3+32]=t[e+2+0]=be(l,a,o),t[e+3+0]=be(c,l,a)}function Ce(t,e){var n=t[e+1-32],i=t[e+2-32],r=t[e+3-32],s=t[e+4-32],o=t[e+5-32],a=t[e+6-32],l=t[e+7-32];t[e+0+0]=be(t[e+0-32],n,i),t[e+1+0]=t[e+0+32]=be(n,i,r),t[e+2+0]=t[e+1+32]=t[e+0+64]=be(i,r,s),t[e+3+0]=t[e+2+32]=t[e+1+64]=t[e+0+96]=be(r,s,o),t[e+3+32]=t[e+2+64]=t[e+1+96]=be(s,o,a),t[e+3+64]=t[e+2+96]=be(o,a,l),t[e+3+96]=be(a,l,l)}function Ne(t,e){var n=t[e-1+0],i=t[e-1+32],r=t[e-1+64],s=t[e-1-32],o=t[e+0-32],a=t[e+1-32],l=t[e+2-32],c=t[e+3-32];t[e+0+0]=t[e+1+64]=s+o+1>>1,t[e+1+0]=t[e+2+64]=o+a+1>>1,t[e+2+0]=t[e+3+64]=a+l+1>>1,t[e+3+0]=l+c+1>>1,t[e+0+96]=be(r,i,n),t[e+0+64]=be(i,n,s),t[e+0+32]=t[e+1+96]=be(n,s,o),t[e+1+32]=t[e+2+96]=be(s,o,a),t[e+2+32]=t[e+3+96]=be(o,a,l),t[e+3+32]=be(a,l,c)}function Ae(t,e){var n=t[e+0-32],i=t[e+1-32],r=t[e+2-32],s=t[e+3-32],o=t[e+4-32],a=t[e+5-32],l=t[e+6-32],c=t[e+7-32];t[e+0+0]=n+i+1>>1,t[e+1+0]=t[e+0+64]=i+r+1>>1,t[e+2+0]=t[e+1+64]=r+s+1>>1,t[e+3+0]=t[e+2+64]=s+o+1>>1,t[e+0+32]=be(n,i,r),t[e+1+32]=t[e+0+96]=be(i,r,s),t[e+2+32]=t[e+1+96]=be(r,s,o),t[e+3+32]=t[e+2+96]=be(s,o,a),t[e+3+64]=be(o,a,l),t[e+3+96]=be(a,l,c)}function Ee(t,e){var n=t[e-1+0],i=t[e-1+32],r=t[e-1+64],s=t[e-1+96];t[e+0+0]=n+i+1>>1,t[e+2+0]=t[e+0+32]=i+r+1>>1,t[e+2+32]=t[e+0+64]=r+s+1>>1,t[e+1+0]=be(n,i,r),t[e+3+0]=t[e+1+32]=be(i,r,s),t[e+3+32]=t[e+1+64]=be(r,s,s),t[e+3+64]=t[e+2+64]=t[e+0+96]=t[e+1+96]=t[e+2+96]=t[e+3+96]=s}function Le(t,e){var n=t[e-1+0],i=t[e-1+32],r=t[e-1+64],s=t[e-1+96],o=t[e-1-32],a=t[e+0-32],l=t[e+1-32],c=t[e+2-32];t[e+0+0]=t[e+2+32]=n+o+1>>1,t[e+0+32]=t[e+2+64]=i+n+1>>1,t[e+0+64]=t[e+2+96]=r+i+1>>1,t[e+0+96]=s+r+1>>1,t[e+3+0]=be(a,l,c),t[e+2+0]=be(o,a,l),t[e+1+0]=t[e+3+32]=be(n,o,a),t[e+1+32]=t[e+3+64]=be(i,n,o),t[e+1+64]=t[e+3+96]=be(r,i,n),t[e+1+96]=be(s,r,i)}function Pe(t,e){var n;for(n=0;8>n;++n)i(t,e+32*n,t,e-32,8)}function je(t,e){var n;for(n=0;8>n;++n)r(t,e,t[e-1],8),e+=32}function Re(t,e,n){var i;for(i=0;8>i;++i)r(e,n+32*i,t,8)}function Te(t,e){var n,i=8;for(n=0;8>n;++n)i+=t[e+n-32]+t[e-1+32*n];Re(i>>4,t,e)}function Ie(t,e){var n,i=4;for(n=0;8>n;++n)i+=t[e+n-32];Re(i>>3,t,e)}function Fe(t,e){var n,i=4;for(n=0;8>n;++n)i+=t[e-1+32*n];Re(i>>3,t,e)}function Oe(t,e){Re(128,t,e)}function Me(t,e,n){var i=t[e-n],r=t[e+0],s=3*(r-i)+ji[1020+t[e-2*n]-t[e+n]],o=Ri[112+(s+4>>3)];t[e-n]=Ti[255+i+Ri[112+(s+3>>3)]],t[e+0]=Ti[255+r-o]}function De(t,e,n,i){var r=t[e+0],s=t[e+n];return Ii[255+t[e-2*n]-t[e-n]]>i||Ii[255+s-r]>i}function Be(t,e,n,i){return 4*Ii[255+t[e-n]-t[e+0]]+Ii[255+t[e-2*n]-t[e+n]]<=i}function ze(t,e,n,i,r){var s=t[e-3*n],o=t[e-2*n],a=t[e-n],l=t[e+0],c=t[e+n],u=t[e+2*n],h=t[e+3*n];return 4*Ii[255+a-l]+Ii[255+o-c]>i?0:Ii[255+t[e-4*n]-s]<=r&&Ii[255+s-o]<=r&&Ii[255+o-a]<=r&&Ii[255+h-u]<=r&&Ii[255+u-c]<=r&&Ii[255+c-l]<=r}function Ue(t,e,n,i){var r=2*i+1;for(i=0;16>i;++i)Be(t,e+i,n,r)&&Me(t,e+i,n)}function qe(t,e,n,i){var r=2*i+1;for(i=0;16>i;++i)Be(t,e+i*n,1,r)&&Me(t,e+i*n,1)}function We(t,e,n,i){var r;for(r=3;0<r;--r)Ue(t,e+=4*n,n,i)}function He(t,e,n,i){var r;for(r=3;0<r;--r)qe(t,e+=4,n,i)}function Ve(t,e,n,i,r,s,o,a){for(s=2*s+1;0<r--;){if(ze(t,e,n,s,o))if(De(t,e,n,a))Me(t,e,n);else{var l=t,c=e,u=n,h=l[c-2*u],d=l[c-u],f=l[c+0],p=l[c+u],g=l[c+2*u],m=27*(y=ji[1020+3*(f-d)+ji[1020+h-p]])+63>>7,v=18*y+63>>7,y=9*y+63>>7;l[c-3*u]=Ti[255+l[c-3*u]+y],l[c-2*u]=Ti[255+h+v],l[c-u]=Ti[255+d+m],l[c+0]=Ti[255+f-m],l[c+u]=Ti[255+p-v],l[c+2*u]=Ti[255+g-y]}e+=i}}function Ge(t,e,n,i,r,s,o,a){for(s=2*s+1;0<r--;){if(ze(t,e,n,s,o))if(De(t,e,n,a))Me(t,e,n);else{var l=t,c=e,u=n,h=l[c-u],d=l[c+0],f=l[c+u],p=Ri[112+(4+(g=3*(d-h))>>3)],g=Ri[112+(g+3>>3)],m=p+1>>1;l[c-2*u]=Ti[255+l[c-2*u]+m],l[c-u]=Ti[255+h+g],l[c+0]=Ti[255+d-p],l[c+u]=Ti[255+f-m]}e+=i}}function Ke(t,e,n,i,r,s){Ve(t,e,n,1,16,i,r,s)}function Ye(t,e,n,i,r,s){Ve(t,e,1,n,16,i,r,s)}function Xe(t,e,n,i,r,s){var o;for(o=3;0<o;--o)Ge(t,e+=4*n,n,1,16,i,r,s)}function Ze(t,e,n,i,r,s){var o;for(o=3;0<o;--o)Ge(t,e+=4,1,n,16,i,r,s)}function Je(t,e,n,i,r,s,o,a){Ve(t,e,r,1,8,s,o,a),Ve(n,i,r,1,8,s,o,a)}function $e(t,e,n,i,r,s,o,a){Ve(t,e,1,r,8,s,o,a),Ve(n,i,1,r,8,s,o,a)}function Qe(t,e,n,i,r,s,o,a){Ge(t,e+4*r,r,1,8,s,o,a),Ge(n,i+4*r,r,1,8,s,o,a)}function tn(t,e,n,i,r,s,o,a){Ge(t,e+4,1,r,8,s,o,a),Ge(n,i+4,1,r,8,s,o,a)}function en(){this.ba=new ot,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new lt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function sn(){this.ua=0,this.Wa=new F,this.vb=new F,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new f,this.yc=new h}function on(){this.xb=this.a=0,this.l=new Gt,this.ca=new ot,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new _,this.Pb=0,this.wd=new _,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new sn,this.ab=0,this.gc=o(4,rn),this.Oc=0}function an(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Gt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ln(t,e,n,i,r,s,o){for(t=null==t?0:t[e+0],e=0;e<o;++e)r[s+e]=t+n[i+e]&255,t=r[s+e]}function cn(t,e,n,i,r,s,o){var a;if(null==t)ln(null,null,n,i,r,s,o);else for(a=0;a<o;++a)r[s+a]=t[e+a]+n[i+a]&255}function un(t,e,n,i,r,s,o){if(null==t)ln(null,null,n,i,r,s,o);else{var a,l=t[e+0],c=l,u=l;for(a=0;a<o;++a)c=u+(l=t[e+a])-c,u=n[i+a]+(-256&c?0>c?0:255:c)&255,c=l,r[s+a]=u}}function hn(t,n,r,o){var a=n.width,l=n.o;if(e(null!=t&&null!=n),0>r||0>=o||r+o>l)return null;if(!t.Cc){if(null==t.ga){var c;if(t.ga=new an,(c=null==t.ga)||(c=n.width*n.o,e(0==t.Gb.length),t.Gb=s(c),t.Uc=0,null==t.Gb?c=0:(t.mb=t.Gb,t.nb=t.Uc,t.rc=null,c=1),c=!c),!c){c=t.ga;var u=t.Fa,h=t.P,d=t.qc,f=t.mb,p=t.nb,g=h+1,m=d-1,y=c.l;if(e(null!=u&&null!=f&&null!=n),gr[0]=null,gr[1]=ln,gr[2]=cn,gr[3]=un,c.ca=f,c.tb=p,c.c=n.width,c.i=n.height,e(0<c.c&&0<c.i),1>=d)n=0;else if(c.$a=3&u[h+0],c.Z=u[h+0]>>2&3,c.Lc=u[h+0]>>4&3,h=u[h+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||h)n=0;else if(y.put=ft,y.ac=dt,y.bc=pt,y.ma=c,y.width=n.width,y.height=n.height,y.Da=n.Da,y.v=n.v,y.va=n.va,y.j=n.j,y.o=n.o,c.$a)t:{e(1==c.$a),n=Et();e:for(;;){if(null==n){n=0;break t}if(e(null!=c),c.mc=n,n.c=c.c,n.i=c.i,n.l=c.l,n.l.ma=c,n.l.width=c.c,n.l.height=c.i,n.a=0,v(n.m,u,g,m),!Lt(c.c,c.i,1,n,null))break e;if(1==n.ab&&3==n.gc[0].hc&&St(n.s)?(c.ic=1,u=n.c*n.i,n.Ta=null,n.Ua=0,n.V=s(u),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(c.ic=0,n=Pt(n,c.c)),!n)break e;n=1;break t}c.mc=null,n=0}else n=m>=c.c*c.i;c=!n}if(c)return null;1!=t.ga.Lc?t.Ga=0:o=l-r}e(null!=t.ga),e(r+o<=l);t:{if(n=(u=t.ga).c,l=u.l.o,0==u.$a){if(g=t.rc,m=t.Vc,y=t.Fa,h=t.P+1+r*n,d=t.mb,f=t.nb+r*n,e(h<=t.P+t.qc),0!=u.Z)for(e(null!=gr[u.Z]),c=0;c<o;++c)gr[u.Z](g,m,y,h,d,f,n),g=d,m=f,f+=n,h+=n;else for(c=0;c<o;++c)i(d,f,y,h,n),g=d,m=f,f+=n,h+=n;t.rc=g,t.Vc=m}else{if(e(null!=u.mc),n=r+o,e(null!=(c=u.mc)),e(n<=c.i),c.C>=n)n=1;else if(u.ic||mn(),u.ic){u=c.V,g=c.Ba,m=c.c;var w=c.i,b=(y=1,h=c.$/m,d=c.$%m,f=c.m,p=c.s,c.$),_=m*w,x=m*n,k=p.wc,N=b<x?bt(p,d,h):null;e(b<=_),e(n<=w),e(St(p));e:for(;;){for(;!f.h&&b<x;){if(d&k||(N=bt(p,d,h)),e(null!=N),C(f),256>(w=yt(N.G[0],N.H[0],f)))u[g+b]=w,++b,++d>=m&&(d=0,++h<=n&&!(h%16)&&Ct(c,h));else{if(!(280>w)){y=0;break e}w=mt(w-256,f);var A,E=yt(N.G[4],N.H[4],f);if(C(f),!(b>=(E=vt(m,E=mt(E,f)))&&_-b>=w)){y=0;break e}for(A=0;A<w;++A)u[g+b+A]=u[g+b+A-E];for(b+=w,d+=w;d>=m;)d-=m,++h<=n&&!(h%16)&&Ct(c,h);b<x&&d&k&&(N=bt(p,d,h))}e(f.h==S(f))}Ct(c,h>n?n:h);break e}!y||f.h&&b<_?(y=0,c.a=f.h?5:3):c.$=b,n=y}else n=Nt(c,c.V,c.Ba,c.c,c.i,n,jt);if(!n){o=0;break t}}r+o>=l&&(t.Cc=1),o=1}if(!o)return null;if(t.Cc&&(null!=(o=t.ga)&&(o.mc=null),t.ga=null,0<t.Ga))return alert("todo:WebPDequantizeLevels"),null}return t.nb+r*a}function dn(t,e,n,i,r,s){for(;0<r--;){var o,a=t,l=e+(n?1:0),c=t,u=e+(n?0:3);for(o=0;o<i;++o){var h=c[u+4*o];255!=h&&(h*=32897,a[l+4*o+0]=a[l+4*o+0]*h>>23,a[l+4*o+1]=a[l+4*o+1]*h>>23,a[l+4*o+2]=a[l+4*o+2]*h>>23)}e+=s}}function fn(t,e,n,i,r){for(;0<i--;){var s;for(s=0;s<n;++s){var o=t[e+2*s+0],a=15&(c=t[e+2*s+1]),l=4369*a,c=(240&c|c>>4)*l>>16;t[e+2*s+0]=(240&o|o>>4)*l>>16&240|(15&o|o<<4)*l>>16>>4&15,t[e+2*s+1]=240&c|a}e+=r}}function pn(t,e,n,i,r,s,o,a){var l,c,u=255;for(c=0;c<r;++c){for(l=0;l<i;++l){var h=t[e+l];s[o+4*l]=h,u&=h}e+=n,o+=a}return 255!=u}function gn(t,e,n,i,r){var s;for(s=0;s<r;++s)n[i+s]=t[e+s]>>8}function mn(){xi=dn,Si=fn,ki=pn,Ci=gn}function vn(n,i,r){t[n]=function(t,n,s,o,a,l,c,u,h,d,f,p,g,m,v,y,w){var b,_=w-1>>1,x=a[l+0]|c[u+0]<<16,S=h[d+0]|f[p+0]<<16;e(null!=t);var k=3*x+S+131074>>2;for(i(t[n+0],255&k,k>>16,g,m),null!=s&&(k=3*S+x+131074>>2,i(s[o+0],255&k,k>>16,v,y)),b=1;b<=_;++b){var C=a[l+b]|c[u+b]<<16,N=h[d+b]|f[p+b]<<16,A=x+C+S+N+524296,E=A+2*(C+S)>>3;k=E+x>>1,x=(A=A+2*(x+N)>>3)+C>>1,i(t[n+2*b-1],255&k,k>>16,g,m+(2*b-1)*r),i(t[n+2*b-0],255&x,x>>16,g,m+(2*b-0)*r),null!=s&&(k=A+S>>1,x=E+N>>1,i(s[o+2*b-1],255&k,k>>16,v,y+(2*b-1)*r),i(s[o+2*b+0],255&x,x>>16,v,y+(2*b+0)*r)),x=C,S=N}1&w||(k=3*x+S+131074>>2,i(t[n+w-1],255&k,k>>16,g,m+(w-1)*r),null!=s&&(k=3*S+x+131074>>2,i(s[o+w-1],255&k,k>>16,v,y+(w-1)*r)))}}function yn(){mr[Fi]=vr,mr[Oi]=wr,mr[Mi]=yr,mr[Di]=br,mr[Bi]=_r,mr[zi]=xr,mr[Ui]=Sr,mr[qi]=wr,mr[Wi]=br,mr[Hi]=_r,mr[Vi]=xr}function wn(t){return t&~Lr?0>t?0:255:t>>Er}function bn(t,e){return wn((19077*t>>8)+(26149*e>>8)-14234)}function _n(t,e,n){return wn((19077*t>>8)-(6419*e>>8)-(13320*n>>8)+8708)}function xn(t,e){return wn((19077*t>>8)+(33050*e>>8)-17685)}function Sn(t,e,n,i,r){i[r+0]=bn(t,n),i[r+1]=_n(t,e,n),i[r+2]=xn(t,e)}function kn(t,e,n,i,r){i[r+0]=xn(t,e),i[r+1]=_n(t,e,n),i[r+2]=bn(t,n)}function Cn(t,e,n,i,r){var s=_n(t,e,n);e=s<<3&224|xn(t,e)>>3,i[r+0]=248&bn(t,n)|s>>5,i[r+1]=e}function Nn(t,e,n,i,r){var s=240&xn(t,e)|15;i[r+0]=240&bn(t,n)|_n(t,e,n)>>4,i[r+1]=s}function An(t,e,n,i,r){i[r+0]=255,Sn(t,e,n,i,r+1)}function En(t,e,n,i,r){kn(t,e,n,i,r),i[r+3]=255}function Ln(t,e,n,i,r){Sn(t,e,n,i,r),i[r+3]=255}function Pn(e,n,i){t[e]=function(t,e,r,s,o,a,l,c,u){for(var h=c+(-2&u)*i;c!=h;)n(t[e+0],r[s+0],o[a+0],l,c),n(t[e+1],r[s+0],o[a+0],l,c+i),e+=2,++s,++a,c+=2*i;1&u&&n(t[e+0],r[s+0],o[a+0],l,c)}}function jn(t,e,n){return 0==n?0==t?0==e?6:5:0==e?4:0:n}function Rn(t,e,n,i,r){switch(t>>>30){case 3:si(e,n,i,r,0);break;case 2:oi(e,n,i,r);break;case 1:li(e,n,i,r)}}function Tn(t,e){var n,s,o=e.M,a=e.Nb,l=t.oc,c=t.pc+40,u=t.oc,h=t.pc+584,d=t.oc,f=t.pc+600;for(n=0;16>n;++n)l[c+32*n-1]=129;for(n=0;8>n;++n)u[h+32*n-1]=129,d[f+32*n-1]=129;for(0<o?l[c-1-32]=u[h-1-32]=d[f-1-32]=129:(r(l,c-32-1,127,21),r(u,h-32-1,127,9),r(d,f-32-1,127,9)),s=0;s<t.za;++s){var p=e.ya[e.aa+s];if(0<s){for(n=-1;16>n;++n)i(l,c+32*n-4,l,c+32*n+12,4);for(n=-1;8>n;++n)i(u,h+32*n-4,u,h+32*n+4,4),i(d,f+32*n-4,d,f+32*n+4,4)}var g=t.Gd,m=t.Hd+s,v=p.ad,y=p.Hc;if(0<o&&(i(l,c-32,g[m].y,0,16),i(u,h-32,g[m].f,0,8),i(d,f-32,g[m].ea,0,8)),p.Za){var w=l,b=c-32+16;for(0<o&&(s>=t.za-1?r(w,b,g[m].y[15],4):i(w,b,g[m+1].y,0,4)),n=0;4>n;n++)w[b+128+n]=w[b+256+n]=w[b+384+n]=w[b+0+n];for(n=0;16>n;++n,y<<=2)w=l,b=c+Mr[n],hr[p.Ob[n]](w,b),Rn(y,v,16*+n,w,b)}else if(w=jn(s,o,p.Ob[0]),ur[w](l,c),0!=y)for(n=0;16>n;++n,y<<=2)Rn(y,v,16*+n,l,c+Mr[n]);for(n=p.Gc,w=jn(s,o,p.Dd),dr[w](u,h),dr[w](d,f),y=v,w=u,b=h,255&(p=0|n)&&(170&p?ai(y,256,w,b):ci(y,256,w,b)),p=d,y=f,255&(n>>=8)&&(170&n?ai(v,320,p,y):ci(v,320,p,y)),o<t.Ub-1&&(i(g[m].y,0,l,c+480,16),i(g[m].f,0,u,h+224,8),i(g[m].ea,0,d,f+224,8)),n=8*a*t.B,g=t.sa,m=t.ta+16*s+16*a*t.R,v=t.qa,p=t.ra+8*s+n,y=t.Ha,w=t.Ia+8*s+n,n=0;16>n;++n)i(g,m+n*t.R,l,c+32*n,16);for(n=0;8>n;++n)i(v,p+n*t.B,u,h+32*n,8),i(y,w+n*t.B,d,f+32*n,8)}}function In(t,i,r,s,o,a,l,c,u){var h=[0],d=[0],f=0,p=null!=u?u.kd:0,g=null!=u?u:new nn;if(null==t||12>r)return 7;g.data=t,g.w=i,g.ha=r,i=[i],r=[r],g.gb=[g.gb];t:{var m=i,y=r,w=g.gb;if(e(null!=t),e(null!=y),e(null!=w),w[0]=0,12<=y[0]&&!n(t,m[0],"RIFF")){if(n(t,m[0]+8,"WEBP")){w=3;break t}var b=R(t,m[0]+4);if(12>b||4294967286<b){w=3;break t}if(p&&b>y[0]-8){w=7;break t}w[0]=b,m[0]+=12,y[0]-=12}w=0}if(0!=w)return w;for(b=0<g.gb[0],r=r[0];;){t:{var x=t;y=i,w=r;var S=h,k=d,C=m=[0];if((E=f=[f])[0]=0,8>w[0])w=7;else{if(!n(x,y[0],"VP8X")){if(10!=R(x,y[0]+4)){w=3;break t}if(18>w[0]){w=7;break t}var N=R(x,y[0]+8),A=1+j(x,y[0]+12);if(2147483648<=A*(x=1+j(x,y[0]+15))){w=3;break t}null!=C&&(C[0]=N),null!=S&&(S[0]=A),null!=k&&(k[0]=x),y[0]+=18,w[0]-=18,E[0]=1}w=0}}if(f=f[0],m=m[0],0!=w)return w;if(y=!!(2&m),!b&&f)return 3;if(null!=a&&(a[0]=!!(16&m)),null!=l&&(l[0]=y),null!=c&&(c[0]=0),l=h[0],m=d[0],f&&y&&null==u){w=0;break}if(4>r){w=7;break}if(b&&f||!b&&!f&&!n(t,i[0],"ALPH")){r=[r],g.na=[g.na],g.P=[g.P],g.Sa=[g.Sa];t:{N=t,w=i,b=r;var E=g.gb;S=g.na,k=g.P,C=g.Sa,A=22,e(null!=N),e(null!=b),x=w[0];var L=b[0];for(e(null!=S),e(null!=C),S[0]=null,k[0]=null,C[0]=0;;){if(w[0]=x,b[0]=L,8>L){w=7;break t}var P=R(N,x+4);if(4294967286<P){w=3;break t}var T=8+P+1&-2;if(A+=T,0<E&&A>E){w=3;break t}if(!n(N,x,"VP8 ")||!n(N,x,"VP8L")){w=0;break t}if(L[0]<T){w=7;break t}n(N,x,"ALPH")||(S[0]=N,k[0]=x+8,C[0]=P),x+=T,L-=T}}if(r=r[0],g.na=g.na[0],g.P=g.P[0],g.Sa=g.Sa[0],0!=w)break}r=[r],g.Ja=[g.Ja],g.xa=[g.xa];t:if(E=t,w=i,b=r,S=g.gb[0],k=g.Ja,C=g.xa,N=w[0],x=!n(E,N,"VP8 "),A=!n(E,N,"VP8L"),e(null!=E),e(null!=b),e(null!=k),e(null!=C),8>b[0])w=7;else{if(x||A){if(E=R(E,N+4),12<=S&&E>S-12){w=3;break t}if(p&&E>b[0]-8){w=7;break t}k[0]=E,w[0]+=8,b[0]-=8,C[0]=A}else C[0]=5<=b[0]&&47==E[N+0]&&!(E[N+4]>>5),k[0]=b[0];w=0}if(r=r[0],g.Ja=g.Ja[0],g.xa=g.xa[0],i=i[0],0!=w)break;if(4294967286<g.Ja)return 3;if(null==c||y||(c[0]=g.xa?2:1),l=[l],m=[m],g.xa){if(5>r){w=7;break}c=l,p=m,y=a,null==t||5>r?t=0:5<=r&&47==t[i+0]&&!(t[i+4]>>5)?(b=[0],E=[0],S=[0],v(k=new _,t,i,r),gt(k,b,E,S)?(null!=c&&(c[0]=b[0]),null!=p&&(p[0]=E[0]),null!=y&&(y[0]=S[0]),t=1):t=0):t=0}else{if(10>r){w=7;break}c=m,null==t||10>r||!Xt(t,i+3,r-3)?t=0:(p=t[i+0]|t[i+1]<<8|t[i+2]<<16,y=16383&(t[i+7]<<8|t[i+6]),t=16383&(t[i+9]<<8|t[i+8]),1&p||3<(p>>1&7)||!(p>>4&1)||p>>5>=g.Ja||!y||!t?t=0:(l&&(l[0]=y),c&&(c[0]=t),t=1))}if(!t)return 3;if(l=l[0],m=m[0],f&&(h[0]!=l||d[0]!=m))return 3;null!=u&&(u[0]=g,u.offset=i-u.w,e(4294967286>i-u.w),e(u.offset==u.ha-r));break}return 0==w||7==w&&f&&null==u?(null!=a&&(a[0]|=null!=g.na&&0<g.na.length),null!=s&&(s[0]=l),null!=o&&(o[0]=m),0):w}function Fn(t,e,n){var i=e.width,r=e.height,s=0,o=0,a=i,l=r;if(e.Da=null!=t&&0<t.Da,e.Da&&(a=t.cd,l=t.bd,s=t.v,o=t.j,11>n||(s&=-2,o&=-2),0>s||0>o||0>=a||0>=l||s+a>i||o+l>r))return 0;if(e.v=s,e.j=o,e.va=s+a,e.o=o+l,e.U=a,e.T=l,e.da=null!=t&&0<t.da,e.da){if(!O(a,l,n=[t.ib],s=[t.hb]))return 0;e.ib=n[0],e.hb=s[0]}return e.ob=null!=t&&t.ob,e.Kb=null==t||!t.Sd,e.da&&(e.ob=e.ib<3*i/4&&e.hb<3*r/4,e.Kb=0),1}function On(t){if(null==t)return 2;if(11>t.S){var e=t.f.RGBA;e.fb+=(t.height-1)*e.A,e.A=-e.A}else e=t.f.kb,t=t.height,e.O+=(t-1)*e.fa,e.fa=-e.fa,e.N+=(t-1>>1)*e.Ab,e.Ab=-e.Ab,e.W+=(t-1>>1)*e.Db,e.Db=-e.Db,null!=e.F&&(e.J+=(t-1)*e.lb,e.lb=-e.lb);return 0}function Mn(t,e,n,i){if(null==i||0>=t||0>=e)return 2;if(null!=n){if(n.Da){var r=n.cd,o=n.bd,a=-2&n.v,l=-2&n.j;if(0>a||0>l||0>=r||0>=o||a+r>t||l+o>e)return 2;t=r,e=o}if(n.da){if(!O(t,e,r=[n.ib],o=[n.hb]))return 2;t=r[0],e=o[0]}}i.width=t,i.height=e;t:{var c=i.width,u=i.height;if(t=i.S,0>=c||0>=u||!(t>=Fi&&13>t))t=2;else{if(0>=i.Rd&&null==i.sd){a=o=r=e=0;var h=(l=c*zr[t])*u;if(11>t||(o=(u+1)/2*(e=(c+1)/2),12==t&&(a=(r=c)*u)),null==(u=s(h+2*o+a))){t=1;break t}i.sd=u,11>t?((c=i.f.RGBA).eb=u,c.fb=0,c.A=l,c.size=h):((c=i.f.kb).y=u,c.O=0,c.fa=l,c.Fd=h,c.f=u,c.N=0+h,c.Ab=e,c.Cd=o,c.ea=u,c.W=0+h+o,c.Db=e,c.Ed=o,12==t&&(c.F=u,c.J=0+h+2*o),c.Tc=a,c.lb=r)}if(e=1,r=i.S,o=i.width,a=i.height,r>=Fi&&13>r)if(11>r)t=i.f.RGBA,e&=(l=Math.abs(t.A))*(a-1)+o<=t.size,e&=l>=o*zr[r],e&=null!=t.eb;else{t=i.f.kb,l=(o+1)/2,h=(a+1)/2,c=Math.abs(t.fa),u=Math.abs(t.Ab);var d=Math.abs(t.Db),f=Math.abs(t.lb),p=f*(a-1)+o;e&=c*(a-1)+o<=t.Fd,e&=u*(h-1)+l<=t.Cd,e=(e&=d*(h-1)+l<=t.Ed)&c>=o&u>=l&d>=l,e&=null!=t.y,e&=null!=t.f,e&=null!=t.ea,12==r&&(e&=f>=o,e&=p<=t.Tc,e&=null!=t.F)}else e=0;t=e?0:2}}return 0!=t||null!=n&&n.fd&&(t=On(i)),t}var Dn=64,Bn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],zn=24,Un=32,qn=8,Wn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];B("Predictor0","PredictorAdd0"),t.Predictor0=function(){return 4278190080},t.Predictor1=function(t){return t},t.Predictor2=function(t,e,n){return e[n+0]},t.Predictor3=function(t,e,n){return e[n+1]},t.Predictor4=function(t,e,n){return e[n-1]},t.Predictor5=function(t,e,n){return U(U(t,e[n+1]),e[n+0])},t.Predictor6=function(t,e,n){return U(t,e[n-1])},t.Predictor7=function(t,e,n){return U(t,e[n+0])},t.Predictor8=function(t,e,n){return U(e[n-1],e[n+0])},t.Predictor9=function(t,e,n){return U(e[n+0],e[n+1])},t.Predictor10=function(t,e,n){return U(U(t,e[n-1]),U(e[n+0],e[n+1]))},t.Predictor11=function(t,e,n){var i=e[n+0];return 0>=H(i>>24&255,t>>24&255,(e=e[n-1])>>24&255)+H(i>>16&255,t>>16&255,e>>16&255)+H(i>>8&255,t>>8&255,e>>8&255)+H(255&i,255&t,255&e)?i:t},t.Predictor12=function(t,e,n){var i=e[n+0];return(q((t>>24&255)+(i>>24&255)-((e=e[n-1])>>24&255))<<24|q((t>>16&255)+(i>>16&255)-(e>>16&255))<<16|q((t>>8&255)+(i>>8&255)-(e>>8&255))<<8|q((255&t)+(255&i)-(255&e)))>>>0},t.Predictor13=function(t,e,n){var i=e[n-1];return(W((t=U(t,e[n+0]))>>24&255,i>>24&255)<<24|W(t>>16&255,i>>16&255)<<16|W(t>>8&255,i>>8&255)<<8|W(255&t,255&i))>>>0};var Hn=t.PredictorAdd0;t.PredictorAdd1=V,B("Predictor2","PredictorAdd2"),B("Predictor3","PredictorAdd3"),B("Predictor4","PredictorAdd4"),B("Predictor5","PredictorAdd5"),B("Predictor6","PredictorAdd6"),B("Predictor7","PredictorAdd7"),B("Predictor8","PredictorAdd8"),B("Predictor9","PredictorAdd9"),B("Predictor10","PredictorAdd10"),B("Predictor11","PredictorAdd11"),B("Predictor12","PredictorAdd12"),B("Predictor13","PredictorAdd13");var Vn=t.PredictorAdd2;X("ColorIndexInverseTransform","MapARGB","32b",function(t){return t>>8&255},function(t){return t}),X("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(t){return t},function(t){return t>>8&255});var Gn,Kn=t.ColorIndexInverseTransform,Yn=t.MapARGB,Xn=t.VP8LColorIndexInverseTransformAlpha,Zn=t.MapAlpha,Jn=t.VP8LPredictorsAdd=[];Jn.length=16,(t.VP8LPredictors=[]).length=16,(t.VP8LPredictorsAdd_C=[]).length=16,(t.VP8LPredictors_C=[]).length=16;var $n,Qn,ti,ei,ni,ii,ri,si,oi,ai,li,ci,ui,hi,di,fi,pi,gi,mi,vi,yi,wi,bi,_i,xi,Si,ki,Ci,Ni=s(511),Ai=s(2041),Ei=s(225),Li=s(767),Pi=0,ji=Ai,Ri=Ei,Ti=Li,Ii=Ni,Fi=0,Oi=1,Mi=2,Di=3,Bi=4,zi=5,Ui=6,qi=7,Wi=8,Hi=9,Vi=10,Gi=[2,3,7],Ki=[3,3,11],Yi=[280,256,256,256,40],Xi=[0,1,1,1,0],Zi=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ji=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],$i=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Qi=8,tr=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],er=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],nr=null,ir=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],rr=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],sr=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],or=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ar=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],lr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],cr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ur=[],hr=[],dr=[],fr=1,pr=2,gr=[],mr=[];vn("UpsampleRgbLinePair",Sn,3),vn("UpsampleBgrLinePair",kn,3),vn("UpsampleRgbaLinePair",Ln,4),vn("UpsampleBgraLinePair",En,4),vn("UpsampleArgbLinePair",An,4),vn("UpsampleRgba4444LinePair",Nn,2),vn("UpsampleRgb565LinePair",Cn,2);var vr=t.UpsampleRgbLinePair,yr=t.UpsampleBgrLinePair,wr=t.UpsampleRgbaLinePair,br=t.UpsampleBgraLinePair,_r=t.UpsampleArgbLinePair,xr=t.UpsampleRgba4444LinePair,Sr=t.UpsampleRgb565LinePair,kr=16,Cr=1<<kr-1,Nr=-227,Ar=482,Er=6,Lr=(256<<Er)-1,Pr=0,jr=s(256),Rr=s(256),Tr=s(256),Ir=s(256),Fr=s(Ar-Nr),Or=s(Ar-Nr);Pn("YuvToRgbRow",Sn,3),Pn("YuvToBgrRow",kn,3),Pn("YuvToRgbaRow",Ln,4),Pn("YuvToBgraRow",En,4),Pn("YuvToArgbRow",An,4),Pn("YuvToRgba4444Row",Nn,2),Pn("YuvToRgb565Row",Cn,2);var Mr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Dr=[0,2,8],Br=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(t,n,a,l,c){var u=Oi,h=new en,d=new ot;h.ba=d,d.S=u,d.width=[d.width],d.height=[d.height];var f=d.width,p=d.height,g=new at;if(null==g||null==t)var m=2;else e(null!=g),m=In(t,n,a,g.width,g.height,g.Pd,g.Qd,g.format,null);if(0!=m?f=0:(null!=f&&(f[0]=g.width[0]),null!=p&&(p[0]=g.height[0]),f=1),f){d.width=d.width[0],d.height=d.height[0],null!=l&&(l[0]=d.width),null!=c&&(c[0]=d.height);t:{if(l=new Gt,(c=new nn).data=t,c.w=n,c.ha=a,c.kd=1,n=[0],e(null!=c),(0==(t=In(c.data,c.w,c.ha,null,null,null,n,null,c))||7==t)&&n[0]&&(t=4),0==(n=t)){if(e(null!=h),l.data=c.data,l.w=c.w+c.offset,l.ha=c.ha-c.offset,l.put=ft,l.ac=dt,l.bc=pt,l.ma=h,c.xa){if(null==(t=Et())){h=1;break t}if(function(t,n){var i=[0],r=[0],s=[0];e:for(;;){if(null==t)return 0;if(null==n)return t.a=2,0;if(t.l=n,t.a=0,v(t.m,n.data,n.w,n.ha),!gt(t.m,i,r,s)){t.a=3;break e}if(t.xb=pr,n.width=i[0],n.height=r[0],!Lt(i[0],r[0],1,t,null))break e;return 1}return e(0!=t.a),0}(t,l)){if(l=0==(n=Mn(l.width,l.height,h.Oa,h.ba))){e:{l=t;n:for(;;){if(null==l){l=0;break e}if(e(null!=l.s.yc),e(null!=l.s.Ya),e(0<l.s.Wb),e(null!=(a=l.l)),e(null!=(c=a.ma)),0!=l.xb){if(l.ca=c.ba,l.tb=c.tb,e(null!=l.ca),!Fn(c.Oa,a,Di)){l.a=2;break n}if(!Pt(l,a.width))break n;if(a.da)break n;if((a.da||it(l.ca.S))&&mn(),11>l.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=l.ca.f.kb.F&&mn()),l.Pb&&0<l.s.ua&&null==l.s.vb.X&&!T(l.s.vb,l.s.Wa.Xa)){l.a=1;break n}l.xb=0}if(!Nt(l,l.V,l.Ba,l.c,l.i,a.o,xt))break n;c.Dc=l.Ma,l=1;break e}e(0!=l.a),l=0}l=!l}l&&(n=t.a)}else n=t.a}else{if(null==(t=new Kt)){h=1;break t}if(t.Fa=c.na,t.P=c.P,t.qc=c.Sa,Zt(t,l)){if(0==(n=Mn(l.width,l.height,h.Oa,h.ba))){if(t.Aa=0,a=h.Oa,e(null!=(c=t)),null!=a){if(0<(f=0>(f=a.Md)?0:100<f?255:255*f/100)){for(p=g=0;4>p;++p)12>(m=c.pb[p]).lc&&(m.ia=f*Br[0>m.lc?0:m.lc]>>3),g|=m.ia;g&&(alert("todo:VP8InitRandom"),c.ia=1)}c.Ga=a.Id,100<c.Ga?c.Ga=100:0>c.Ga&&(c.Ga=0)}(function(t,n){if(null==t)return 0;if(null==n)return Yt(t,2,"NULL VP8Io parameter in VP8Decode().");if(!t.cb&&!Zt(t,n))return 0;if(e(t.cb),null==n.ac||n.ac(n)){n.ob&&(t.L=0);var a=Dr[t.L];if(2==t.L?(t.yb=0,t.zb=0):(t.yb=n.v-a>>4,t.zb=n.j-a>>4,0>t.yb&&(t.yb=0),0>t.zb&&(t.zb=0)),t.Va=n.o+15+a>>4,t.Hb=n.va+15+a>>4,t.Hb>t.za&&(t.Hb=t.za),t.Va>t.Ub&&(t.Va=t.Ub),0<t.L){var l=t.ed;for(a=0;4>a;++a){var c;if(t.Qa.Cb){var u=t.Qa.Lb[a];t.Qa.Fb||(u+=l.Tb)}else u=l.Tb;for(c=0;1>=c;++c){var h=t.gd[a][c],d=u;if(l.Pc&&(d+=l.vd[0],c&&(d+=l.od[0])),0<(d=0>d?0:63<d?63:d)){var f=d;0<l.wb&&(f=4<l.wb?f>>2:f>>1)>9-l.wb&&(f=9-l.wb),1>f&&(f=1),h.dd=f,h.tc=2*d+f,h.ld=40<=d?2:15<=d?1:0}else h.tc=0;h.La=c}}}a=0}else Yt(t,6,"Frame setup failed"),a=t.a;if(a=0==a){if(a){t.$c=0,0<t.Aa||(t.Ic=1);e:{a=t.Ic,l=4*(f=t.za);var p=32*f,g=f+1,m=0<t.L?f*(0<t.Aa?2:1):0,v=(2==t.Aa?2:1)*f;if((h=l+832+(c=3*(16*a+Dr[t.L])/2*p)+(u=null!=t.Fa&&0<t.Fa.length?t.Kc.c*t.Kc.i:0))!=h)a=0;else{if(h>t.Vb){if(t.Vb=0,t.Ec=s(h),t.Fc=0,null==t.Ec){a=Yt(t,1,"no memory during frame initialization.");break e}t.Vb=h}h=t.Ec,d=t.Fc,t.Ac=h,t.Bc=d,d+=l,t.Gd=o(p,Wt),t.Hd=0,t.rb=o(g+1,Bt),t.sb=1,t.wa=m?o(m,Dt):null,t.Y=0,t.D.Nb=0,t.D.wa=t.wa,t.D.Y=t.Y,0<t.Aa&&(t.D.Y+=f),e(!0),t.oc=h,t.pc=d,d+=832,t.ya=o(v,Ut),t.aa=0,t.D.ya=t.ya,t.D.aa=t.aa,2==t.Aa&&(t.D.aa+=f),t.R=16*f,t.B=8*f,f=(p=Dr[t.L])*t.R,p=p/2*t.B,t.sa=h,t.ta=d+f,t.qa=t.sa,t.ra=t.ta+16*a*t.R+p,t.Ha=t.qa,t.Ia=t.ra+8*a*t.B+p,t.$c=0,d+=c,t.mb=u?h:null,t.nb=u?d:null,e(d+u<=t.Fc+t.Vb),$t(t),r(t.Ac,t.Bc,0,l),a=1}}if(a){if(n.ka=0,n.y=t.sa,n.O=t.ta,n.f=t.qa,n.N=t.ra,n.ea=t.Ha,n.Vd=t.Ia,n.fa=t.R,n.Rc=t.B,n.F=null,n.J=0,!Pi){for(a=-255;255>=a;++a)Ni[255+a]=0>a?-a:a;for(a=-1020;1020>=a;++a)Ai[1020+a]=-128>a?-128:127<a?127:a;for(a=-112;112>=a;++a)Ei[112+a]=-16>a?-16:15<a?15:a;for(a=-255;510>=a;++a)Li[255+a]=0>a?0:255<a?255:a;Pi=1}ri=le,si=re,ai=se,li=oe,ci=ae,oi=ie,ui=Ke,hi=Ye,di=Je,fi=$e,pi=Xe,gi=Ze,mi=Qe,vi=tn,yi=Ue,wi=qe,bi=We,_i=He,hr[0]=Se,hr[1]=ue,hr[2]=_e,hr[3]=xe,hr[4]=ke,hr[5]=Ne,hr[6]=Ce,hr[7]=Ae,hr[8]=Le,hr[9]=Ee,ur[0]=me,ur[1]=de,ur[2]=fe,ur[3]=pe,ur[4]=ve,ur[5]=ye,ur[6]=we,dr[0]=Te,dr[1]=he,dr[2]=Pe,dr[3]=je,dr[4]=Fe,dr[5]=Ie,dr[6]=Oe,a=1}else a=0}a&&(a=function(t,n){for(t.M=0;t.M<t.Va;++t.M){var o,a=t.Jc[t.M&t.Xb],l=t.m,c=t;for(o=0;o<c.za;++o){var u=l,h=c,d=h.Ac,f=h.Bc+4*o,p=h.zc,g=h.ya[h.aa+o];if(h.Qa.Bb?g.$b=E(u,h.Pa.jb[0])?2+E(u,h.Pa.jb[2]):E(u,h.Pa.jb[1]):g.$b=0,h.kc&&(g.Ad=E(u,h.Bd)),g.Za=!E(u,145)+0,g.Za){var m=g.Ob,v=0;for(h=0;4>h;++h){var y,w=p[0+h];for(y=0;4>y;++y){w=ar[d[f+y]][w];for(var b=sr[E(u,w[0])];0<b;)b=sr[2*b+E(u,w[b])];w=-b,d[f+y]=w}i(m,v,d,f,4),v+=4,p[0+h]=w}}else w=E(u,156)?E(u,128)?1:3:E(u,163)?2:0,g.Ob[0]=w,r(d,f,w,4),r(p,0,w,4);g.Dd=E(u,142)?E(u,114)?E(u,183)?1:3:2:0}if(c.m.Ka)return Yt(t,7,"Premature end-of-partition0 encountered.");for(;t.ja<t.za;++t.ja){if(c=a,u=(l=t).rb[l.sb-1],d=l.rb[l.sb+l.ja],o=l.ya[l.aa+l.ja],f=l.kc?o.Ad:0)u.la=d.la=0,o.Za||(u.Na=d.Na=0),o.Hc=0,o.Gc=0,o.ia=0;else{var _,x;if(u=d,d=c,f=l.Pa.Xc,p=l.ya[l.aa+l.ja],g=l.pb[p.$b],h=p.ad,m=0,v=l.rb[l.sb-1],w=y=0,r(h,m,0,384),p.Za)var S=0,k=f[3];else{b=s(16);var C=u.Na+v.Na;if(C=nr(d,f[1],C,g.Eb,0,b,0),u.Na=v.Na=(0<C)+0,1<C)ri(b,0,h,m);else{var N=b[0]+3>>3;for(b=0;256>b;b+=16)h[m+b]=N}S=1,k=f[0]}var A=15&u.la,L=15&v.la;for(b=0;4>b;++b){var P=1&L;for(N=x=0;4>N;++N)A=A>>1|(P=(C=nr(d,k,C=P+(1&A),g.Sc,S,h,m))>S)<<7,x=x<<2|(3<C?3:1<C?2:0!=h[m+0]),m+=16;A>>=4,L=L>>1|P<<7,y=(y<<8|x)>>>0}for(k=A,S=L>>4,_=0;4>_;_+=2){for(x=0,A=u.la>>4+_,L=v.la>>4+_,b=0;2>b;++b){for(P=1&L,N=0;2>N;++N)C=P+(1&A),A=A>>1|(P=0<(C=nr(d,f[2],C,g.Qc,0,h,m)))<<3,x=x<<2|(3<C?3:1<C?2:0!=h[m+0]),m+=16;A>>=2,L=L>>1|P<<5}w|=x<<4*_,k|=A<<4<<_,S|=(240&L)<<_}u.la=k,v.la=S,p.Hc=y,p.Gc=w,p.ia=43690&w?0:g.ia,f=!(y|w)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[o.$b][o.Za],l.wa[l.Y+l.ja].La|=!f),c.Ka)return Yt(t,7,"Premature end-of-file encountered.")}if($t(t),l=n,c=1,o=(a=t).D,u=0<a.L&&a.M>=a.zb&&a.M<=a.Va,0==a.Aa)e:{if(o.M=a.M,o.uc=u,Tn(a,o),c=1,o=(x=a.D).Nb,u=(w=Dr[a.L])*a.R,d=w/2*a.B,b=16*o*a.R,N=8*o*a.B,f=a.sa,p=a.ta-u+b,g=a.qa,h=a.ra-d+N,m=a.Ha,v=a.Ia-d+N,L=0==(A=x.M),y=A>=a.Va-1,2==a.Aa&&Tn(a,x),x.uc)for(P=(C=a).D.M,e(C.D.uc),x=C.yb;x<C.Hb;++x){S=x,k=P;var j=(R=(U=C).D).Nb;_=U.R;var R=R.wa[R.Y+S],T=U.sa,I=U.ta+16*j*_+16*S,F=R.dd,O=R.tc;if(0!=O)if(e(3<=O),1==U.L)0<S&&wi(T,I,_,O+4),R.La&&_i(T,I,_,O),0<k&&yi(T,I,_,O+4),R.La&&bi(T,I,_,O);else{var M=U.B,D=U.qa,B=U.ra+8*j*M+8*S,z=U.Ha,U=U.Ia+8*j*M+8*S;j=R.ld,0<S&&(hi(T,I,_,O+4,F,j),fi(D,B,z,U,M,O+4,F,j)),R.La&&(gi(T,I,_,O,F,j),vi(D,B,z,U,M,O,F,j)),0<k&&(ui(T,I,_,O+4,F,j),di(D,B,z,U,M,O+4,F,j)),R.La&&(pi(T,I,_,O,F,j),mi(D,B,z,U,M,O,F,j))}}if(a.ia&&alert("todo:DitherRow"),null!=l.put){if(x=16*A,A=16*(A+1),L?(l.y=a.sa,l.O=a.ta+b,l.f=a.qa,l.N=a.ra+N,l.ea=a.Ha,l.W=a.Ia+N):(x-=w,l.y=f,l.O=p,l.f=g,l.N=h,l.ea=m,l.W=v),y||(A-=w),A>l.o&&(A=l.o),l.F=null,l.J=null,null!=a.Fa&&0<a.Fa.length&&x<A&&(l.J=hn(a,l,x,A-x),l.F=a.mb,null==l.F&&0==l.F.length)){c=Yt(a,3,"Could not decode alpha data.");break e}x<l.j&&(w=l.j-x,x=l.j,e(!(1&w)),l.O+=a.R*w,l.N+=a.B*(w>>1),l.W+=a.B*(w>>1),null!=l.F&&(l.J+=l.width*w)),x<A&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=x-l.j,l.U=l.va-l.v,l.T=A-x,c=l.put(l))}o+1!=a.Ic||y||(i(a.sa,a.ta-u,f,p+16*a.R,u),i(a.qa,a.ra-d,g,h+8*a.B,d),i(a.Ha,a.Ia-d,m,v+8*a.B,d))}if(!c)return Yt(t,6,"Output aborted.")}return 1}(t,n)),null!=n.bc&&n.bc(n),a&=1}return a?(t.cb=0,a):0})(t,l)||(n=t.a)}}else n=t.a}0==n&&null!=h.Oa&&h.Oa.fd&&(n=On(h.ba))}h=n}u=0!=h?null:11>u?d.f.RGBA.eb:d.f.kb.y}else u=null;return u};var zr=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(t,e){for(var n="",i=0;i<4;i++)n+=String.fromCharCode(t[e++]);return n}function u(t,e){return t[e+0]|t[e+1]<<8}function h(t,e){return(t[e+0]|t[e+1]<<8|t[e+2]<<16)>>>0}function d(t,e){return(t[e+0]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}new l;var f=[0],p=[0],g=[],m=new l,v=t,y=function(t,e){var n={},i=0,r=!1,s=0,o=0;if(n.frames=[],!function(t,e){for(var n=0;n<4;n++)if(t[e+n]!="RIFF".charCodeAt(n))return!0;return!1}(t,e)){for(d(t,e+=4),e+=8;e<t.length;){var a=c(t,e),l=d(t,e+=4);e+=4;var f=l+(1&l);switch(a){case"VP8 ":case"VP8L":void 0===n.frames[i]&&(n.frames[i]={}),(m=n.frames[i]).src_off=r?o:e-8,m.src_size=s+l+8,i++,r&&(r=!1,s=0,o=0);break;case"VP8X":(m=n.header={}).feature_flags=t[e];var p=e+4;m.canvas_width=1+h(t,p),p+=3,m.canvas_height=1+h(t,p),p+=3;break;case"ALPH":r=!0,s=f+8,o=e-8;break;case"ANIM":(m=n.header).bgcolor=d(t,e),p=e+4,m.loop_count=u(t,p),p+=2;break;case"ANMF":var g,m;(m=n.frames[i]={}).offset_x=2*h(t,e),e+=3,m.offset_y=2*h(t,e),e+=3,m.width=1+h(t,e),e+=3,m.height=1+h(t,e),e+=3,m.duration=h(t,e),e+=3,g=t[e++],m.dispose=1&g,m.blend=g>>1&1}"ANMF"!=a&&(e+=f)}return n}}(v,0);y.response=v,y.rgbaoutput=!0,y.dataurl=!1;var w=y.header?y.header:null,b=y.frames?y.frames:null;if(w){w.loop_counter=w.loop_count,f=[w.canvas_height],p=[w.canvas_width];for(var _=0;_<b.length&&0!=b[_].blend;_++);}var x=b[0],S=m.WebPDecodeRGBA(v,x.src_off,x.src_size,p,f);x.rgba=S,x.imgwidth=p[0],x.imgheight=f[0];for(var k=0;k<p[0]*f[0]*4;k++)g[k]=S[k];return this.width=p,this.height=f,this.data=g,this}!function(t){var e,n,i,r,s,o,a,l,c,u=function(t){return t=t||{},this.isStrokeTransparent=t.isStrokeTransparent||!1,this.strokeOpacity=t.strokeOpacity||1,this.strokeStyle=t.strokeStyle||"#000000",this.fillStyle=t.fillStyle||"#000000",this.isFillTransparent=t.isFillTransparent||!1,this.fillOpacity=t.fillOpacity||1,this.font=t.font||"10px sans-serif",this.textBaseline=t.textBaseline||"alphabetic",this.textAlign=t.textAlign||"left",this.lineWidth=t.lineWidth||1,this.lineJoin=t.lineJoin||"miter",this.lineCap=t.lineCap||"butt",this.path=t.path||[],this.transform=void 0!==t.transform?t.transform.clone():new l,this.globalCompositeOperation=t.globalCompositeOperation||"normal",this.globalAlpha=t.globalAlpha||1,this.clip_path=t.clip_path||[],this.currentPoint=t.currentPoint||new o,this.miterLimit=t.miterLimit||10,this.lastPoint=t.lastPoint||new o,this.lineDashOffset=t.lineDashOffset||0,this.lineDash=t.lineDash||[],this.margin=t.margin||[0,0,0,0],this.prevPageLastElemOffset=t.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof t.ignoreClearRect||t.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var h=function(t){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var e=t;Object.defineProperty(this,"pdf",{get:function(){return e}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(t){n=Boolean(t)}});var i=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return i},set:function(t){i=Boolean(t)}});var r=0;Object.defineProperty(this,"posX",{get:function(){return r},set:function(t){isNaN(t)||(r=t)}});var s=0;Object.defineProperty(this,"posY",{get:function(){return s},set:function(t){isNaN(t)||(s=t)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(t){var e;"number"==typeof t?e=[t,t,t,t]:((e=new Array(4))[0]=t[0],e[1]=t.length>=2?t[1]:e[0],e[2]=t.length>=3?t[2]:e[0],e[3]=t.length>=4?t[3]:e[1]),c.margin=e}});var o=!1;Object.defineProperty(this,"autoPaging",{get:function(){return o},set:function(t){o=t}});var a=0;Object.defineProperty(this,"lastBreak",{get:function(){return a},set:function(t){a=t}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(t){l=t}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(t){t instanceof u&&(c=t)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(t){c.path=t}});var h=[];Object.defineProperty(this,"ctxStack",{get:function(){return h},set:function(t){h=t}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(t){var e;e=d(t),this.ctx.fillStyle=e.style,this.ctx.isFillTransparent=0===e.a,this.ctx.fillOpacity=e.a,this.pdf.setFillColor(e.r,e.g,e.b,{a:e.a}),this.pdf.setTextColor(e.r,e.g,e.b,{a:e.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(t){var e=d(t);this.ctx.strokeStyle=e.style,this.ctx.isStrokeTransparent=0===e.a,this.ctx.strokeOpacity=e.a,0===e.a?this.pdf.setDrawColor(255,255,255):(e.a,this.pdf.setDrawColor(e.r,e.g,e.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(t){-1!==["butt","round","square"].indexOf(t)&&(this.ctx.lineCap=t,this.pdf.setLineCap(t))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(t){isNaN(t)||(this.ctx.lineWidth=t,this.pdf.setLineWidth(t))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(t){-1!==["bevel","round","miter"].indexOf(t)&&(this.ctx.lineJoin=t,this.pdf.setLineJoin(t))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(t){isNaN(t)||(this.ctx.miterLimit=t,this.pdf.setMiterLimit(t))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(t){this.ctx.textBaseline=t}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(t){-1!==["right","end","center","left","start"].indexOf(t)&&(this.ctx.textAlign=t)}});var f=null,p=null,g=null;Object.defineProperty(this,"fontFaces",{get:function(){return g},set:function(t){f=null,p=null,g=t}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(t){var e;if(this.ctx.font=t,null!==(e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(t))){var n=e[1];e[2];var i=e[3],r=e[4];e[5];var s=e[6],o=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(r)[2];r="px"===o?Math.floor(parseFloat(r)*this.pdf.internal.scaleFactor):"em"===o?Math.floor(parseFloat(r)*this.pdf.getFontSize()):Math.floor(parseFloat(r)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(r);var a=function(t){var e,n,i=[],r=t.trim();if(""===r)return KS;if(r in TS)return[TS[r]];for(;""!==r;){switch(n=null,e=(r=FS(r)).charAt(0)){case'"':case"'":n=OS(r.substring(1),e);break;default:n=MS(r)}if(null===n)return KS;if(i.push(n[0]),""!==(r=FS(n[1]))&&","!==r.charAt(0))return KS;r=r.replace(/^,/,"")}return i}(s);if(this.fontFaces){var l=function(t,e){var n=t.getFontList(),i=JSON.stringify(n);if(null===f||p!==i){var r=function(t){var e=[];return Object.keys(t).forEach(function(n){t[n].forEach(function(t){var i=null;switch(t){case"bold":i={family:n,weight:"bold"};break;case"italic":i={family:n,style:"italic"};break;case"bolditalic":i={family:n,weight:"bold",style:"italic"};break;case"":case"normal":i={family:n}}null!==i&&(i.ref={name:n,style:t},e.push(i))})}),e}(n);f=function(t){for(var e={},n=0;n<t.length;++n){var i=PS(t[n]),r=i.family,s=i.stretch,o=i.style,a=i.weight;e[r]=e[r]||{},e[r][s]=e[r][s]||{},e[r][s][o]=e[r][s][o]||{},e[r][s][o][a]=i}return e}(r.concat(e)),p=i}return f}(this.pdf,this.fontFaces),c=a.map(function(t){return{family:t,stretch:"normal",weight:i,style:n}}),u=function(t,e,n){for(var i=(n=n||{}).defaultFontFamily||"times",r=Object.assign({},RS,n.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(r[(s=PS(e[a])).family]&&(s.family=r[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[i]))throw new Error("Could not find a font-family for the rule '"+IS(s)+"' and default family '"+i+"'.");if(o=function(t,e){if(e[t])return e[t];var n=AS[t],i=n<=AS.normal?-1:1,r=jS(e,NS,n,i);if(!r)throw new Error("Could not find a matching font-stretch value for "+t);return r}(s.stretch,o),o=function(t,e){if(e[t])return e[t];for(var n=CS[t],i=0;i<n.length;++i)if(e[n[i]])return e[n[i]];throw new Error("Could not find a matching font-style for "+t)}(s.style,o),!(o=function(t,e){if(e[t])return e[t];if(400===t&&e[500])return e[500];if(500===t&&e[400])return e[400];var n=LS[t],i=jS(e,ES,n,t<400?-1:1);if(!i)throw new Error("Could not find a matching font-weight for value "+t);return i}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+IS(s)+"'.");return o}(l,c);this.pdf.setFont(u.ref.name,u.ref.style)}else{var h="";("bold"===i||parseInt(i,10)>=700||"bold"===n)&&(h="bold"),"italic"===n&&(h+="italic"),0===h.length&&(h="normal");for(var d="",g={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},m=0;m<a.length;m++){if(void 0!==this.pdf.internal.getFont(a[m],h,{noFallback:!0,disableWarning:!0})){d=a[m];break}if("bolditalic"===h&&void 0!==this.pdf.internal.getFont(a[m],"bold",{noFallback:!0,disableWarning:!0}))d=a[m],h="bold";else if(void 0!==this.pdf.internal.getFont(a[m],"normal",{noFallback:!0,disableWarning:!0})){d=a[m],h="normal";break}}if(""===d)for(var v=0;v<a.length;v++)if(g[a[v]]){d=g[a[v]];break}d=""===d?"Times":d,this.pdf.setFont(d,h)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(t){this.ctx.globalCompositeOperation=t}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(t){this.ctx.globalAlpha=t}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(t){this.ctx.lineDashOffset=t,M.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(t){this.ctx.lineDash=t,M.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(t){this.ctx.ignoreClearRect=Boolean(t)}})};h.prototype.setLineDash=function(t){this.lineDash=t},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){b.call(this,"fill",!1)},h.prototype.stroke=function(){b.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(t,e){if(isNaN(t)||isNaN(e))throw ox.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new o(t,e));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new o(t,e)},h.prototype.closePath=function(){var t=new o(0,0),e=0;for(e=this.path.length-1;-1!==e;e--)if("begin"===this.path[e].type&&"object"===(0,Gm.A)(this.path[e+1])&&"number"==typeof this.path[e+1].x){t=new o(this.path[e+1].x,this.path[e+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(t.x,t.y)},h.prototype.lineTo=function(t,e){if(isNaN(t)||isNaN(e))throw ox.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new o(t,e));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new o(n.x,n.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),b.call(this,null,!0)},h.prototype.quadraticCurveTo=function(t,e,n,i){if(isNaN(n)||isNaN(i)||isNaN(t)||isNaN(e))throw ox.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var r=this.ctx.transform.applyToPoint(new o(n,i)),s=this.ctx.transform.applyToPoint(new o(t,e));this.path.push({type:"qct",x1:s.x,y1:s.y,x:r.x,y:r.y}),this.ctx.lastPoint=new o(r.x,r.y)},h.prototype.bezierCurveTo=function(t,e,n,i,r,s){if(isNaN(r)||isNaN(s)||isNaN(t)||isNaN(e)||isNaN(n)||isNaN(i))throw ox.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var a=this.ctx.transform.applyToPoint(new o(r,s)),l=this.ctx.transform.applyToPoint(new o(t,e)),c=this.ctx.transform.applyToPoint(new o(n,i));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:c.x,y2:c.y,x:a.x,y:a.y}),this.ctx.lastPoint=new o(a.x,a.y)},h.prototype.arc=function(t,e,n,i,r,s){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(i)||isNaN(r))throw ox.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(s=Boolean(s),!this.ctx.transform.isIdentity){var a=this.ctx.transform.applyToPoint(new o(t,e));t=a.x,e=a.y;var l=this.ctx.transform.applyToPoint(new o(0,n)),c=this.ctx.transform.applyToPoint(new o(0,0));n=Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2))}Math.abs(r-i)>=2*Math.PI&&(i=0,r=2*Math.PI),this.path.push({type:"arc",x:t,y:e,radius:n,startAngle:i,endAngle:r,counterclockwise:s})},h.prototype.arcTo=function(t,e,n,i,r){throw new Error("arcTo not implemented.")},h.prototype.rect=function(t,e,n,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(i))throw ox.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+i),this.lineTo(t,e+i),this.lineTo(t,e),this.lineTo(t+n,e),this.lineTo(t,e)},h.prototype.fillRect=function(t,e,n,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(i))throw ox.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var r={};"butt"!==this.lineCap&&(r.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(r.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(t,e,n,i),this.fill(),r.hasOwnProperty("lineCap")&&(this.lineCap=r.lineCap),r.hasOwnProperty("lineJoin")&&(this.lineJoin=r.lineJoin)}},h.prototype.strokeRect=function(t,e,n,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(i))throw ox.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(t,e,n,i),this.stroke())},h.prototype.clearRect=function(t,e,n,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(i))throw ox.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(t,e,n,i))},h.prototype.save=function(t){t="boolean"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(e),t){this.ctx.fontSize=this.pdf.internal.getFontSize();var i=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=i}},h.prototype.restore=function(t){t="boolean"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(e),t&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(t){var e,n,i,r;if(!0===t.isCanvasGradient&&(t=t.getColor()),!t)return{r:0,g:0,b:0,a:0,style:t};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(t))e=0,n=0,i=0,r=0;else{var s=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(t);if(null!==s)e=parseInt(s[1]),n=parseInt(s[2]),i=parseInt(s[3]),r=1;else if(null!==(s=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(t)))e=parseInt(s[1]),n=parseInt(s[2]),i=parseInt(s[3]),r=parseFloat(s[4]);else{if(r=1,"string"==typeof t&&"#"!==t.charAt(0)){var o=new hx(t);t=o.ok?o.toHex():"#000000"}4===t.length?(e=t.substring(1,2),e+=e,n=t.substring(2,3),n+=n,i=t.substring(3,4),i+=i):(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7)),e=parseInt(e,16),n=parseInt(n,16),i=parseInt(i,16)}}return{r:e,g:n,b:i,a:r,style:t}},f=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},p=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};h.prototype.fillText=function(t,e,n,i){if(isNaN(e)||isNaN(n)||"string"!=typeof t)throw ox.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(i=isNaN(i)?void 0:i,!f.call(this)){var r=I(this.ctx.transform.rotation),s=this.ctx.transform.scaleX;E.call(this,{text:t,x:e,y:n,scale:s,angle:r,align:this.textAlign,maxWidth:i})}},h.prototype.strokeText=function(t,e,n,i){if(isNaN(e)||isNaN(n)||"string"!=typeof t)throw ox.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){i=isNaN(i)?void 0:i;var r=I(this.ctx.transform.rotation),s=this.ctx.transform.scaleX;E.call(this,{text:t,x:e,y:n,scale:s,renderingMode:"stroke",angle:r,align:this.textAlign,maxWidth:i})}},h.prototype.measureText=function(t){if("string"!=typeof t)throw ox.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var e=this.pdf,n=this.pdf.internal.scaleFactor,i=e.internal.getFontSize(),r=e.getStringUnitWidth(t)*i/e.internal.scaleFactor;return new function(t){var e=(t=t||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return e}}),this}({width:r*=Math.round(96*n/72*1e4)/1e4})},h.prototype.scale=function(t,e){if(isNaN(t)||isNaN(e))throw ox.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new l(t,0,0,e,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},h.prototype.rotate=function(t){if(isNaN(t))throw ox.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var e=new l(Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0);this.ctx.transform=this.ctx.transform.multiply(e)},h.prototype.translate=function(t,e){if(isNaN(t)||isNaN(e))throw ox.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new l(1,0,0,1,t,e);this.ctx.transform=this.ctx.transform.multiply(n)},h.prototype.transform=function(t,e,n,i,r,s){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(i)||isNaN(r)||isNaN(s))throw ox.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var o=new l(t,e,n,i,r,s);this.ctx.transform=this.ctx.transform.multiply(o)},h.prototype.setTransform=function(t,e,n,i,r,s){t=isNaN(t)?1:t,e=isNaN(e)?0:e,n=isNaN(n)?0:n,i=isNaN(i)?1:i,r=isNaN(r)?0:r,s=isNaN(s)?0:s,this.ctx.transform=new l(t,e,n,i,r,s)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(t,e,n,i,r,s,o,c,u){var h=this.pdf.getImageProperties(t),d=1,f=1,p=1,v=1;void 0!==i&&void 0!==c&&(p=c/i,v=u/r,d=h.width/i*c/i,f=h.height/r*u/r),void 0===s&&(s=e,o=n,e=0,n=0),void 0!==i&&void 0===c&&(c=i,u=r),void 0===i&&void 0===c&&(c=h.width,u=h.height);var b=this.ctx.transform.decompose(),x=I(b.rotate.shx),S=new l,k=(S=(S=(S=S.multiply(b.translate)).multiply(b.skew)).multiply(b.scale)).applyToRectangle(new a(s-e*p,o-n*v,i*d,r*f));if(this.autoPaging){for(var C,N=m.call(this,k),A=[],E=0;E<N.length;E+=1)-1===A.indexOf(N[E])&&A.push(N[E]);w(A);for(var L=A[0],P=A[A.length-1],j=L;j<P+1;j++){this.pdf.setPage(j);var R=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],T=1===j?this.posY+this.margin[0]:this.margin[0],F=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],O=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],M=1===j?0:F+(j-2)*O;if(0!==this.ctx.clip_path.length){var D=this.path;C=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(C,this.posX+this.margin[3],-M+T+this.ctx.prevPageLastElemOffset),_.call(this,"fill",!0),this.path=D}var B=JSON.parse(JSON.stringify(k));B=y([B],this.posX+this.margin[3],-M+T+this.ctx.prevPageLastElemOffset)[0];var z=(j>L||j<P)&&g.call(this);z&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],R,O,null).clip().discardPath()),this.pdf.addImage(t,"JPEG",B.x,B.y,B.w,B.h,null,null,x),z&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(t,"JPEG",k.x,k.y,k.w,k.h,null,null,x)};var m=function(t,e,n){var i=[];e=e||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var r=this.posY+this.ctx.prevPageLastElemOffset;switch(t.type){default:case"mt":case"lt":i.push(Math.floor((t.y+r)/n)+1);break;case"arc":i.push(Math.floor((t.y+r-t.radius)/n)+1),i.push(Math.floor((t.y+r+t.radius)/n)+1);break;case"qct":var s=F(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x,t.y);i.push(Math.floor((s.y+r)/n)+1),i.push(Math.floor((s.y+s.h+r)/n)+1);break;case"bct":var o=O(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x2,t.y2,t.x,t.y);i.push(Math.floor((o.y+r)/n)+1),i.push(Math.floor((o.y+o.h+r)/n)+1);break;case"rect":i.push(Math.floor((t.y+r)/n)+1),i.push(Math.floor((t.y+t.h+r)/n)+1)}for(var a=0;a<i.length;a+=1)for(;this.pdf.internal.getNumberOfPages()<i[a];)v.call(this);return i},v=function(){var t=this.fillStyle,e=this.strokeStyle,n=this.font,i=this.lineCap,r=this.lineWidth,s=this.lineJoin;this.pdf.addPage(),this.fillStyle=t,this.strokeStyle=e,this.font=n,this.lineCap=i,this.lineWidth=r,this.lineJoin=s},y=function(t,e,n){for(var i=0;i<t.length;i++)switch(t[i].type){case"bct":t[i].x2+=e,t[i].y2+=n;case"qct":t[i].x1+=e,t[i].y1+=n;default:t[i].x+=e,t[i].y+=n}return t},w=function(t){return t.sort(function(t,e){return t-e})},b=function(t,e){var n=this.fillStyle,i=this.strokeStyle,r=this.lineCap,s=this.lineWidth,o=Math.abs(s*this.ctx.transform.scaleX),a=this.lineJoin;if(this.autoPaging){for(var l,c,u=JSON.parse(JSON.stringify(this.path)),h=JSON.parse(JSON.stringify(this.path)),d=[],f=0;f<h.length;f++)if(void 0!==h[f].x)for(var p=m.call(this,h[f]),b=0;b<p.length;b+=1)-1===d.indexOf(p[b])&&d.push(p[b]);for(var x=0;x<d.length;x++)for(;this.pdf.internal.getNumberOfPages()<d[x];)v.call(this);w(d);for(var S=d[0],k=d[d.length-1],C=S;C<k+1;C++){this.pdf.setPage(C),this.fillStyle=n,this.strokeStyle=i,this.lineCap=r,this.lineWidth=o,this.lineJoin=a;var N=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],A=1===C?this.posY+this.margin[0]:this.margin[0],E=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],L=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],P=1===C?0:E+(C-2)*L;if(0!==this.ctx.clip_path.length){var j=this.path;l=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(l,this.posX+this.margin[3],-P+A+this.ctx.prevPageLastElemOffset),_.call(this,t,!0),this.path=j}if(c=JSON.parse(JSON.stringify(u)),this.path=y(c,this.posX+this.margin[3],-P+A+this.ctx.prevPageLastElemOffset),!1===e||0===C){var R=(C>S||C<k)&&g.call(this);R&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],N,L,null).clip().discardPath()),_.call(this,t,e),R&&this.pdf.restoreGraphicsState()}this.lineWidth=s}this.path=u}else this.lineWidth=o,_.call(this,t,e),this.lineWidth=s},_=function(t,e){if(("stroke"!==t||e||!p.call(this))&&("stroke"===t||e||!f.call(this))){for(var n,i,r=[],s=this.path,o=0;o<s.length;o++){var a=s[o];switch(a.type){case"begin":r.push({begin:!0});break;case"close":r.push({close:!0});break;case"mt":r.push({start:a,deltas:[],abs:[]});break;case"lt":var l=r.length;if(s[o-1]&&!isNaN(s[o-1].x)&&(n=[a.x-s[o-1].x,a.y-s[o-1].y],l>0))for(;l>=0;l--)if(!0!==r[l-1].close&&!0!==r[l-1].begin){r[l-1].deltas.push(n),r[l-1].abs.push(a);break}break;case"bct":n=[a.x1-s[o-1].x,a.y1-s[o-1].y,a.x2-s[o-1].x,a.y2-s[o-1].y,a.x-s[o-1].x,a.y-s[o-1].y],r[r.length-1].deltas.push(n);break;case"qct":var c=s[o-1].x+2/3*(a.x1-s[o-1].x),u=s[o-1].y+2/3*(a.y1-s[o-1].y),h=a.x+2/3*(a.x1-a.x),d=a.y+2/3*(a.y1-a.y),g=a.x,m=a.y;n=[c-s[o-1].x,u-s[o-1].y,h-s[o-1].x,d-s[o-1].y,g-s[o-1].x,m-s[o-1].y],r[r.length-1].deltas.push(n);break;case"arc":r.push({deltas:[],abs:[],arc:!0}),Array.isArray(r[r.length-1].abs)&&r[r.length-1].abs.push(a)}}i=e?null:"stroke"===t?"stroke":"fill";for(var v=!1,y=0;y<r.length;y++)if(r[y].arc)for(var w=r[y].abs,b=0;b<w.length;b++){var _=w[b];"arc"===_.type?k.call(this,_.x,_.y,_.radius,_.startAngle,_.endAngle,_.counterclockwise,void 0,e,!v):L.call(this,_.x,_.y),v=!0}else if(!0===r[y].close)this.pdf.internal.out("h"),v=!1;else if(!0!==r[y].begin){var x=r[y].start.x,S=r[y].start.y;P.call(this,r[y].deltas,x,S),v=!0}i&&C.call(this,i),e&&N.call(this)}},x=function(t){var e=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=e*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return t-n;case"top":return t+e-n;case"hanging":return t+e-2*n;case"middle":return t+e/2-n;default:return t}},S=function(t){return t+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var t=function(){};return t.colorStops=[],t.addColorStop=function(t,e){this.colorStops.push([t,e])},t.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},t.isCanvasGradient=!0,t},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(t,e,n,i,r,s,o,a,l){for(var c=R.call(this,n,i,r,s),u=0;u<c.length;u++){var h=c[u];0===u&&(l?A.call(this,h.x1+t,h.y1+e):L.call(this,h.x1+t,h.y1+e)),j.call(this,t,e,h.x2,h.y2,h.x3,h.y3,h.x4,h.y4)}a?N.call(this):C.call(this,o)},C=function(t){switch(t){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},N=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(t,e){this.pdf.internal.out(n(t)+" "+i(e)+" m")},E=function(t){var e;switch(t.align){case"right":case"end":e="right";break;case"center":e="center";break;default:e="left"}var n,i,r,s=this.pdf.getTextDimensions(t.text),c=x.call(this,t.y),u=S.call(this,c)-s.h,h=this.ctx.transform.applyToPoint(new o(t.x,c));if(this.autoPaging){var d=this.ctx.transform.decompose(),f=new l;f=(f=(f=f.multiply(d.translate)).multiply(d.skew)).multiply(d.scale);for(var p=this.ctx.transform.applyToRectangle(new a(t.x,c,s.w,s.h)),v=f.applyToRectangle(new a(t.x,u,s.w,s.h)),b=m.call(this,v),k=[],C=0;C<b.length;C+=1)-1===k.indexOf(b[C])&&k.push(b[C]);w(k);for(var N=k[0],A=k[k.length-1],E=N;E<A+1;E++){this.pdf.setPage(E);var L=1===E?this.posY+this.margin[0]:this.margin[0],P=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],j=this.pdf.internal.pageSize.height-this.margin[2],R=j-this.margin[0],T=this.pdf.internal.pageSize.width-this.margin[1],I=T-this.margin[3],F=1===E?0:P+(E-2)*R;if(0!==this.ctx.clip_path.length){var O=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(n,this.posX+this.margin[3],-1*F+L),_.call(this,"fill",!0),this.path=O}var M=y([JSON.parse(JSON.stringify(v))],this.posX+this.margin[3],-F+L+this.ctx.prevPageLastElemOffset)[0];t.scale>=.01&&(i=this.pdf.internal.getFontSize(),this.pdf.setFontSize(i*t.scale),r=this.lineWidth,this.lineWidth=r*t.scale);var D="text"!==this.autoPaging;if(D||M.y+M.h<=j){if(D||M.y>=L&&M.x<=T){var B=D?t.text:this.pdf.splitTextToSize(t.text,t.maxWidth||T-M.x)[0],z=y([JSON.parse(JSON.stringify(p))],this.posX+this.margin[3],-F+L+this.ctx.prevPageLastElemOffset)[0],U=D&&(E>N||E<A)&&g.call(this);U&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],I,R,null).clip().discardPath()),this.pdf.text(B,z.x,z.y,{angle:t.angle,align:e,renderingMode:t.renderingMode}),U&&this.pdf.restoreGraphicsState()}}else M.y<j&&(this.ctx.prevPageLastElemOffset+=j-M.y);t.scale>=.01&&(this.pdf.setFontSize(i),this.lineWidth=r)}}else t.scale>=.01&&(i=this.pdf.internal.getFontSize(),this.pdf.setFontSize(i*t.scale),r=this.lineWidth,this.lineWidth=r*t.scale),this.pdf.text(t.text,h.x+this.posX,h.y+this.posY,{angle:t.angle,align:e,renderingMode:t.renderingMode,maxWidth:t.maxWidth}),t.scale>=.01&&(this.pdf.setFontSize(i),this.lineWidth=r)},L=function(t,e,r,s){r=r||0,s=s||0,this.pdf.internal.out(n(t+r)+" "+i(e+s)+" l")},P=function(t,e,n){return this.pdf.lines(t,e,n,null,null)},j=function(t,n,i,o,a,l,c,u){this.pdf.internal.out([e(r(i+t)),e(s(o+n)),e(r(a+t)),e(s(l+n)),e(r(c+t)),e(s(u+n)),"c"].join(" "))},R=function(t,e,n,i){for(var r=2*Math.PI,s=Math.PI/2;e>n;)e-=r;var o=Math.abs(n-e);o<r&&i&&(o=r-o);for(var a=[],l=i?-1:1,c=e;o>1e-5;){var u=c+l*Math.min(o,s);a.push(T.call(this,t,c,u)),o-=Math.abs(u-c),c=u}return a},T=function(t,e,n){var i=(n-e)/2,r=t*Math.cos(i),s=t*Math.sin(i),o=r,a=-s,l=o*o+a*a,c=l+o*r+a*s,u=4/3*(Math.sqrt(2*l*c)-c)/(o*s-a*r),h=o-u*a,d=a+u*o,f=h,p=-d,g=i+e,m=Math.cos(g),v=Math.sin(g);return{x1:t*Math.cos(e),y1:t*Math.sin(e),x2:h*m-d*v,y2:h*v+d*m,x3:f*m-p*v,y3:f*v+p*m,x4:t*Math.cos(n),y4:t*Math.sin(n)}},I=function(t){return 180*t/Math.PI},F=function(t,e,n,i,r,s){var o=t+.5*(n-t),l=e+.5*(i-e),c=r+.5*(n-r),u=s+.5*(i-s),h=Math.min(t,r,o,c),d=Math.max(t,r,o,c),f=Math.min(e,s,l,u),p=Math.max(e,s,l,u);return new a(h,f,d-h,p-f)},O=function(t,e,n,i,r,s,o,l){var c,u,h,d,f,p,g,m,v,y,w,b,_,x,S=n-t,k=i-e,C=r-n,N=s-i,A=o-r,E=l-s;for(u=0;u<41;u++)v=(g=(h=t+(c=u/40)*S)+c*((f=n+c*C)-h))+c*(f+c*(r+c*A-f)-g),y=(m=(d=e+c*k)+c*((p=i+c*N)-d))+c*(p+c*(s+c*E-p)-m),0==u?(w=v,b=y,_=v,x=y):(w=Math.min(w,v),b=Math.min(b,y),_=Math.max(_,v),x=Math.max(x,y));return new a(Math.round(w),Math.round(b),Math.round(_-w),Math.round(x-b))},M=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var t,e,n=(t=this.ctx.lineDash,e=this.ctx.lineDashOffset,JSON.stringify({lineDash:t,lineDashOffset:e}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(Mx.API),function(t){var e=function(t){var e,n,i,r,s,o,a,l,c,u;for(/[^\x00-\xFF]/.test(t),n=[],i=0,r=(t+=e="\0\0\0\0".slice(t.length%4||4)).length;r>i;i+=4)0!==(s=(t.charCodeAt(i)<<24)+(t.charCodeAt(i+1)<<16)+(t.charCodeAt(i+2)<<8)+t.charCodeAt(i+3))?(o=(s=((s=((s=((s=(s-(u=s%85))/85)-(c=s%85))/85)-(l=s%85))/85)-(a=s%85))/85)%85,n.push(o+33,a+33,l+33,c+33,u+33)):n.push(122);return function(t,e){for(var n=e;n>0;n--)t.pop()}(n,e.length),String.fromCharCode.apply(String,n)+"~>"},n=function(t){var e,n,i,r,s,o=String,a="length",l=255,c="charCodeAt",u="slice",h="replace";for(t[u](-2),t=t[u](0,-2)[h](/\s/g,"")[h]("z","!!!!!"),i=[],r=0,s=(t+=e="uuuuu"[u](t[a]%5||5))[a];s>r;r+=5)n=52200625*(t[c](r)-33)+614125*(t[c](r+1)-33)+7225*(t[c](r+2)-33)+85*(t[c](r+3)-33)+(t[c](r+4)-33),i.push(l&n>>24,l&n>>16,l&n>>8,l&n);return function(t,e){for(var n=e;n>0;n--)t.pop()}(i,e[a]),o.fromCharCode.apply(o,i)},i=function(t){return t.split("").map(function(t){return("0"+t.charCodeAt().toString(16)).slice(-2)}).join("")+">"},r=function(t){var e=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(t=t.replace(/\s/g,"")).indexOf(">")&&(t=t.substr(0,t.indexOf(">"))),t.length%2&&(t+="0"),!1===e.test(t))return"";for(var n="",i=0;i<t.length;i+=2)n+=String.fromCharCode("0x"+(t[i]+t[i+1]));return n},s=function(t){for(var e=new Uint8Array(t.length),n=t.length;n--;)e[n]=t.charCodeAt(n);return(e=Pv(e)).reduce(function(t,e){return t+String.fromCharCode(e)},"")};t.processDataByFilters=function(t,o){var a=0,l=t||"",c=[];for("string"==typeof(o=o||[])&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=i(l),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=s(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Mx.API),(GS=Mx.API).loadFile=function(t,e,n){return function(t,e,n){e=!1!==e,n="function"==typeof n?n:function(){};var i=void 0;try{i=function(t,e,n){var i=new XMLHttpRequest,r=0,s=function(t){var e=t.length,n=[],i=String.fromCharCode;for(r=0;r<e;r+=1)n.push(i(255&t.charCodeAt(r)));return n.join("")};if(i.open("GET",t,!e),i.overrideMimeType("text/plain; charset=x-user-defined"),!1===e&&(i.onload=function(){200===i.status?n(s(this.responseText)):n(void 0)}),i.send(null),e&&200===i.status)return s(i.responseText)}(t,e,n)}catch(ov){}return i}(t,e,n)},GS.loadImageFile=GS.loadFile,function(t){function e(){return(rx.html2canvas?Promise.resolve(rx.html2canvas):n.e(743).then(n.t.bind(n,7743,23))).catch(function(t){return Promise.reject(new Error("Could not load html2canvas: "+t))}).then(function(t){return t.default?t.default:t})}function i(){return(rx.DOMPurify?Promise.resolve(rx.DOMPurify):n.e(171).then(n.bind(n,8171))).catch(function(t){return Promise.reject(new Error("Could not load dompurify: "+t))}).then(function(t){return t.default?t.default:t})}var r=function(t){var e=(0,Gm.A)(t);return"undefined"===e?"undefined":"string"===e||t instanceof String?"string":"number"===e||t instanceof Number?"number":"function"===e||t instanceof Function?"function":t&&t.constructor===Array?"array":t&&1===t.nodeType?"element":"object"===e?"object":"unknown"},s=function(t,e){var n=document.createElement(t);for(var i in e.className&&(n.className=e.className),e.innerHTML&&e.dompurify&&(n.innerHTML=e.dompurify.sanitize(e.innerHTML)),e.style)n.style[i]=e.style[i];return n},o=function t(e,n){for(var i=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),r=e.firstChild;r;r=r.nextSibling)!0!==n&&1===r.nodeType&&"SCRIPT"===r.nodeName||i.appendChild(t(r,n));return 1===e.nodeType&&("CANVAS"===e.nodeName?(i.width=e.width,i.height=e.height,i.getContext("2d").drawImage(e,0,0)):"TEXTAREA"!==e.nodeName&&"SELECT"!==e.nodeName||(i.value=e.value),i.addEventListener("load",function(){i.scrollTop=e.scrollTop,i.scrollLeft=e.scrollLeft},!0)),i},a=function t(e){var n=Object.assign(t.convert(Promise.resolve()),JSON.parse(JSON.stringify(t.template))),i=t.convert(Promise.resolve(),n);return(i=i.setProgress(1,t,1,[t])).set(e)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(t,e){return t.__proto__=e||a.prototype,t},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(t,e){return this.then(function(){switch(e=e||function(t){switch(r(t)){case"string":return"string";case"element":return"canvas"===t.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(t),e){case"string":return this.then(i).then(function(e){return this.set({src:s("div",{innerHTML:t,dompurify:e})})});case"element":return this.set({src:t});case"canvas":return this.set({canvas:t});case"img":return this.set({img:t});default:return this.error("Unknown source type.")}})},a.prototype.to=function(t){switch(t){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var t={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},e=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===e.tagName&&(t.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:t}),this.prop.container.appendChild(e),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var t=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(t).then(e).then(function(t){var e=Object.assign({},this.opt.html2canvas);return delete e.onrendered,t(this.prop.container,e)}).then(function(t){(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var t=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(t).then(e).then(function(t){var e=this.opt.jsPDF,n=this.opt.fontFaces,i="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,r=Object.assign({async:!0,allowTaint:!0,scale:i,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete r.onrendered,e.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,e.context2d.posX=this.opt.x,e.context2d.posY=this.opt.y,e.context2d.margin=this.opt.margin,e.context2d.fontFaces=n,n)for(var s=0;s<n.length;++s){var o=n[s],a=o.src.find(function(t){return"truetype"===t.format});a&&e.addFont(a.url,o.ref.name,o.ref.style)}return r.windowHeight=r.windowHeight||0,r.windowHeight=0==r.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):r.windowHeight,e.context2d.save(!0),t(this.prop.container,r)}).then(function(t){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var t=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=t})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(t,e,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(t,e):this.outputPdf(t,e)},a.prototype.outputPdf=function(t,e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(t,e)})},a.prototype.outputImg=function(t){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(t){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+t+'" is not supported.'}})},a.prototype.save=function(t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(t?{filename:t}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(t){if("object"!==r(t))return this;var e=Object.keys(t||{}).map(function(e){if(e in a.template.prop)return function(){this.prop[e]=t[e]};switch(e){case"margin":return this.setMargin.bind(this,t.margin);case"jsPDF":return function(){return this.opt.jsPDF=t.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,t.pageSize);default:return function(){this.opt[e]=t[e]}}},this);return this.then(function(){return this.thenList(e)})},a.prototype.get=function(t,e){return this.then(function(){var n=t in a.template.prop?this.prop[t]:this.opt[t];return e?e(n):n})},a.prototype.setMargin=function(t){return this.then(function(){switch(r(t)){case"number":t=[t,t,t,t];case"array":if(2===t.length&&(t=[t[0],t[1],t[0],t[1]]),4===t.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=t}).then(this.setPageSize)},a.prototype.setPageSize=function(t){function e(t,e){return Math.floor(t*e/72*96)}return this.then(function(){(t=t||Mx.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(t.inner={width:t.width-this.opt.margin[1]-this.opt.margin[3],height:t.height-this.opt.margin[0]-this.opt.margin[2]},t.inner.px={width:e(t.inner.width,t.k),height:e(t.inner.height,t.k)},t.inner.ratio=t.inner.height/t.inner.width),this.prop.pageSize=t})},a.prototype.setProgress=function(t,e,n,i){return null!=t&&(this.progress.val=t),null!=e&&(this.progress.state=e),null!=n&&(this.progress.n=n),null!=i&&(this.progress.stack=i),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(t,e,n,i){return this.setProgress(t?this.progress.val+t:null,e||null,n?this.progress.n+n:null,i?this.progress.stack.concat(i):null)},a.prototype.then=function(t,e){var n=this;return this.thenCore(t,e,function(t,e){return n.updateProgress(null,null,1,[t]),Promise.prototype.then.call(this,function(e){return n.updateProgress(null,t),e}).then(t,e).then(function(t){return n.updateProgress(1),t})})},a.prototype.thenCore=function(t,e,n){n=n||Promise.prototype.then;var i=this;t&&(t=t.bind(i)),e&&(e=e.bind(i));var r=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?i:a.convert(Object.assign({},i),Promise.prototype),s=n.call(r,t,e);return a.convert(s,i.__proto__)},a.prototype.thenExternal=function(t,e){return Promise.prototype.then.call(this,t,e)},a.prototype.thenList=function(t){var e=this;return t.forEach(function(t){e=e.thenCore(t)}),e},a.prototype.catch=function(t){t&&(t=t.bind(this));var e=Promise.prototype.catch.call(this,t);return a.convert(e,this)},a.prototype.catchExternal=function(t){return Promise.prototype.catch.call(this,t)},a.prototype.error=function(t){return this.then(function(){throw new Error(t)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Mx.getPageSize=function(t,e,n){if("object"===(0,Gm.A)(t)){var i=t;t=i.orientation,e=i.unit||e,n=i.format||n}e=e||"mm",n=n||"a4",t=(""+(t||"P")).toLowerCase();var r,s=(""+n).toLowerCase(),o={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(e){case"pt":r=1;break;case"mm":r=72/25.4;break;case"cm":r=72/2.54;break;case"in":r=72;break;case"px":r=.75;break;case"pc":case"em":r=12;break;case"ex":r=6;break;default:throw"Invalid unit: "+e}var a,l=0,c=0;if(o.hasOwnProperty(s))l=o[s][1]/r,c=o[s][0]/r;else try{l=n[1],c=n[0]}catch(hx){throw new Error("Invalid format: "+n)}if("p"===t||"portrait"===t)t="p",c>l&&(a=c,c=l,l=a);else{if("l"!==t&&"landscape"!==t)throw"Invalid orientation: "+t;t="l",l>c&&(a=c,c=l,l=a)}return{width:c,height:l,unit:e,k:r,orientation:t}},t.html=function(t,e){(e=e||{}).callback=e.callback||function(){},e.html2canvas=e.html2canvas||{},e.html2canvas.canvas=e.html2canvas.canvas||this.canvas,e.jsPDF=e.jsPDF||this,e.fontFaces=e.fontFaces?e.fontFaces.map(PS):null;var n=new a(e);return e.worker?n:n.from(t).doCallback()}}(Mx.API),Mx.API.addJS=function(t){return zS=t,this.internal.events.subscribe("postPutResources",function(){DS=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(DS+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),BS=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+zS+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==DS&&void 0!==BS&&this.internal.out("/Names <</JavaScript "+DS+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),r=0;r<i.length;r++){var s=i[r],o=n.exec(s);if(null!=o){var a=o[1];t.internal.newObjectDeferredBegin(a,!1)}t.internal.write(s)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(r=0;r<l;r++){var u=t.internal.newObject();c.push(u);var h=t.internal.getPageInfo(r+1);t.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var d=t.internal.newObject();for(t.internal.write("<< /Names [ "),r=0;r<c.length;r++)t.internal.write("(page_"+(r+1)+")"+c[r]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+d+" 0 R"),t.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(t,e,n){var i={title:e,options:n,children:[]};return null==t&&(t=this.root),t.children.push(i),i},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(e){e.id=t.internal.newObjectDeferred();for(var n=0;n<e.children.length;n++)this.genIds_r(e.children[n])},t.outline.renderRoot=function(t){this.objStart(t),this.line("/Type /Outlines"),t.children.length>0&&(this.line("/First "+this.makeRef(t.children[0])),this.line("/Last "+this.makeRef(t.children[t.children.length-1]))),this.line("/Count "+this.count_r({count:0},t)),this.objEnd()},t.outline.renderItems=function(e){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<e.children.length;i++){var r=e.children[i];this.objStart(r),this.line("/Title "+this.makeString(r.title)),this.line("/Parent "+this.makeRef(e)),i>0&&this.line("/Prev "+this.makeRef(e.children[i-1])),i<e.children.length-1&&this.line("/Next "+this.makeRef(e.children[i+1])),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1])));var s=this.count=this.count_r({count:0},r);if(s>0&&this.line("/Count "+s),r.options&&r.options.pageNumber){var o=t.internal.getPageInfo(r.options.pageNumber);this.line("/Dest ["+o.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var a=0;a<e.children.length;a++)this.renderItems(e.children[a])},t.outline.line=function(t){this.ctx.val+=t+"\r\n"},t.outline.makeRef=function(t){return t.id+" 0 R"},t.outline.makeString=function(e){return"("+t.internal.pdfEscape(e)+")"},t.outline.objStart=function(t){this.ctx.val+="\r\n"+t.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(t,e){for(var n=0;n<e.children.length;n++)t.count++,this.count_r(t,e.children[n]);return t.count}}])}(Mx.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(t,n,i,r,s,o){var a,l=this.decode.DCT_DECODE,c=null;if("string"==typeof t||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=s||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,a=function(t){for(var n,i=256*t.charCodeAt(4)+t.charCodeAt(5),r=t.length,s={width:0,height:0,numcomponents:1},o=4;o<r;o+=2){if(o+=i,-1!==e.indexOf(t.charCodeAt(o+1))){n=256*t.charCodeAt(o+5)+t.charCodeAt(o+6),s={width:256*t.charCodeAt(o+7)+t.charCodeAt(o+8),height:n,numcomponents:t.charCodeAt(o+9)};break}i=256*t.charCodeAt(o+2)+t.charCodeAt(o+3)}return s}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),a.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}c={data:t,width:a.width,height:a.height,colorSpace:o,bitsPerComponent:8,filter:l,index:n,alias:i}}return c}}(Mx.API),Mx.API.processPNG=function(t,e,n,i){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var r,s=function(t,e){return new nx(t,e).decode()}(t,{checkCrc:!0}),o=s.width,a=s.height,l=s.channels,c=s.palette,u=s.depth;r=c&&1===l?function(t){for(var e=t.width,n=t.height,i=t.data,r=t.palette,s=t.depth,o=!1,a=[],l=[],c=void 0,u=!1,h=0,d=0;d<r.length;d++){var f=Tv(r[d],4),p=f[0],g=f[1],m=f[2],v=f[3];a.push(p,g,m),null!=v&&(0===v?(h++,l.length<1&&l.push(d)):v<255&&(u=!0))}if(u||h>1){o=!0,l=void 0;var y=e*n;c=new Uint8Array(y);for(var w=new DataView(i.buffer),b=0;b<y;b++){var _=Tv(r[nk(w,b,s)],4)[3];c[b]=_}}else 0===h&&(l=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:o?8:void 0,colorBytes:i,alphaBytes:c,needSMask:o,palette:a,mask:l}}(s):2===l||4===l?function(t){for(var e=t.data,n=t.width,i=t.height,r=t.channels,s=t.depth,o=2===r?"DeviceGray":"DeviceRGB",a=r-1,l=n*i,c=a,u=l*c,h=1*l,d=Math.ceil(u*s/8),f=Math.ceil(h*s/8),p=new Uint8Array(d),g=new Uint8Array(f),m=new DataView(e.buffer),v=new DataView(p.buffer),y=new DataView(g.buffer),w=!1,b=0;b<l;b++){for(var _=b*r,x=0;x<c;x++)ik(v,nk(m,_+x,s),b*c+x,s);var S=nk(m,_+c,s);S<(1<<s)-1&&(w=!0),ik(y,S,1*b,s)}return{colorSpace:o,colorsPerPixel:a,sMaskBitsPerComponent:w?s:void 0,colorBytes:p,alphaBytes:g,needSMask:w}}(s):function(t){var e=t.data,n=1===t.channels?"DeviceGray":"DeviceRGB";return{colorSpace:n,colorsPerPixel:"DeviceGray"===n?1:3,colorBytes:e instanceof Uint16Array?function(t){for(var e=t.length,n=new Uint8Array(2*e),i=new DataView(n.buffer,n.byteOffset,n.byteLength),r=0;r<e;r++)i.setUint16(2*r,t[r],!1);return n}(e):e,needSMask:!1}}(s);var h,d,f,p=r,g=p.colorSpace,m=p.colorsPerPixel,v=p.sMaskBitsPerComponent,y=p.colorBytes,w=p.alphaBytes,b=p.needSMask,_=p.palette,x=p.mask,S=null;return i!==Mx.API.image_compression.NONE?(S=function(t){var e;switch(t){case Mx.API.image_compression.FAST:e=11;break;case Mx.API.image_compression.MEDIUM:e=13;break;case Mx.API.image_compression.SLOW:e=14;break;default:e=12}return e}(i),h=this.decode.FLATE_DECODE,d="/Predictor ".concat(S," /Colors ").concat(m," /BitsPerComponent ").concat(u," /Columns ").concat(o),t=YS(y,Math.ceil(o*m*u/8),m,u,i),b&&(f=YS(w,Math.ceil(o*v/8),1,v,i))):(h=void 0,d=void 0,t=y,b&&(f=w)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:n,data:t,index:e,filter:h,decodeParameters:d,transparency:x,palette:_,sMask:f,predictor:S,width:o,height:a,bitsPerComponent:u,sMaskBitsPerComponent:v,colorSpace:g}}},function(t){t.processGIF89A=function(e,n,i,r){var s=new sk(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new ak(100).encode(c,100);return t.processJPEG.call(this,u,n,i,r)},t.processGIF87A=t.processGIF89A}(Mx.API),lk.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:r,green:i,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},lk.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){ox.log("bit decode error:"+n)}},lk.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<e;r++)for(var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+8*r*4,a=0;a<8&&8*r+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}0!==n&&(this.pos+=4-n)}},lk.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<t;r++){var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+2*r*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*r+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}0!==e&&(this.pos+=4-e)}},lk.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*i;if(r<this.palette.length){var o=this.palette[r];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}0!==t&&(this.pos+=4-t)}},lk.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,u=i*this.width*4+4*r;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=t}},lk.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/e*255|0,u=r*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=t}},lk.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=r,this.data[o+2]=i,this.data[o+3]=255}this.pos+=this.width%4}},lk.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=r,this.data[a+2]=i,this.data[a+3]=o}},lk.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,i,r){var s=new lk(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new ak(100).encode(l,100);return t.processJPEG.call(this,c,n,i,r)}}(Mx.API),ck.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,i,r){var s=new ck(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new ak(100).encode(l,100);return t.processJPEG.call(this,c,n,i,r)}}(Mx.API),Mx.API.processRGBA=function(t,e,n){for(var i=t.data,r=i.length,s=new Uint8Array(r/4*3),o=new Uint8Array(r/4),a=0,l=0,c=0;c<r;c+=4){var u=i[c],h=i[c+1],d=i[c+2],f=i[c+3];s[a++]=u,s[a++]=h,s[a++]=d,o[l++]=f}var p=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:p,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Mx.API.setLanguage=function(t){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]&&(this.internal.languageSettings.languageCode=t,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},US=Mx.API,qS=US.getCharWidthsArray=function(t,e){var n,i,r=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:r.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:r.metadata.Unicode.kerning,u=c.fof?c.fof:1,h=!1!==e.doKerning,d=0,f=t.length,p=0,g=a[0]||l,m=[];for(n=0;n<f;n++)i=t.charCodeAt(n),"function"==typeof r.metadata.widthOfString?m.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+o*(1e3/s)||0)/1e3):(d=h&&"object"===(0,Gm.A)(c[i])&&!isNaN(parseInt(c[i][p],10))?c[i][p]/u:0,m.push((a[i]||g)/l+d)),p=i;return m},WS=US.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),r=e.charSpace||this.internal.getCharSpace();return US.processArabic&&(t=US.processArabic(t)),"function"==typeof i.metadata.widthOfString?i.metadata.widthOfString(t,n,r)/n:qS.apply(this,arguments).reduce(function(t,e){return t+e},0)},HS=function(t,e,n,i){for(var r=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;r.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>i&&(r.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&r.push(t.slice(l,s)),r},VS=function(t,e,n){n||(n={});var i,r,s,o,a,l,c,u=[],h=[u],d=n.textIndent||0,f=0,p=0,g=t.split(" "),m=qS.apply(this,[" ",n])[0];if(l=-1===n.lineIndent?g[0].length+2:n.lineIndent||0){var v=Array(l).join(" "),y=[];g.map(function(t){(t=t.split(/\s*\n/)).length>1?y=y.concat(t.map(function(t,e){return(e&&t.length?"\n":"")+t})):y.push(t[0])}),g=y,l=WS.apply(this,[v,n])}for(s=0,o=g.length;s<o;s++){var w=0;if(i=g[s],l&&"\n"==i[0]&&(i=i.substr(1),w=1),d+f+(p=(r=qS.apply(this,[i,n])).reduce(function(t,e){return t+e},0))>e||w){if(p>e){for(a=HS.apply(this,[i,r,e-(d+f),e]),u.push(a.shift()),u=[a.pop()];a.length;)h.push([a.shift()]);p=r.slice(i.length-(u[0]?u[0].length:0)).reduce(function(t,e){return t+e},0)}else u=[i];h.push(u),d=p+l,f=m}else u.push(i),d+=f+p,f=m}return c=l?function(t,e){return(e?v:"")+t.join(" ")}:function(t){return t.join(" ")},h.map(c)},US.splitTextToSize=function(t,e,n){var i,r=(n=n||{}).fontSize||this.internal.getFontSize(),s=function(t){if(t.widths&&t.kerning)return{widths:t.widths,kerning:t.kerning};var e=this.internal.getFont(t.fontName,t.fontStyle),n="Unicode";return e.metadata[n]?{widths:e.metadata[n].widths||{0:1},kerning:e.metadata[n].kerning||{}}:{font:e.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);i=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/r;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=i.length;a<l;a++)c=c.concat(VS.apply(this,[i[a],o,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",i={},r={},s=0;s<16;s++)i[n[s]]=e[s],r[e[s]]=n[s];var o=function(t){return"0x"+parseInt(t,10).toString(16)},a=t.__fontmetrics__.compress=function(t){var e,n,i,s,l=["{"];for(var c in t){if(e=t[c],isNaN(parseInt(c,10))?n="'"+c+"'":(c=parseInt(c,10),n=(n=o(c).slice(2)).slice(0,-1)+r[n.slice(-1)]),"number"==typeof e)e<0?(i=o(e).slice(3),s="-"):(i=o(e).slice(2),s=""),i=s+i.slice(0,-1)+r[i.slice(-1)];else{if("object"!==(0,Gm.A)(e))throw new Error("Don't know what to do with value type "+(0,Gm.A)(e)+".");i=a(e)}l.push(n+i)}return l.push("}"),l.join("")},l=t.__fontmetrics__.uncompress=function(t){if("string"!=typeof t)throw new Error("Invalid argument passed to uncompress.");for(var e,n,r,s,o={},a=1,l=o,c=[],u="",h="",d=t.length-1,f=1;f<d;f+=1)"'"==(s=t[f])?e?(r=e.join(""),e=void 0):e=[]:e?e.push(s):"{"==s?(c.push([l,r]),l={},r=void 0):"}"==s?((n=c.pop())[0][n[1]]=l,r=void 0,l=n[0]):"-"==s?a=-1:void 0===r?i.hasOwnProperty(s)?(u+=i[s],r=parseInt(u,16)*a,a=1,u=""):u+=s:i.hasOwnProperty(s)?(h+=i[s],l[r]=parseInt(h,16)*a,a=1,r=void 0,h=""):h+=s;return o},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(t){var e=t.font,n=h.Unicode[e.postScriptName];n&&(e.metadata.Unicode={},e.metadata.Unicode.widths=n.widths,e.metadata.Unicode.kerning=n.kerning);var i=u.Unicode[e.postScriptName];i&&(e.metadata.Unicode.encoding=i,e.encoding=i.codePages[0])}])}(Mx.API),function(t){var e=function(t){for(var e=t.length,n=new Uint8Array(e),i=0;i<e;i++)n[i]=t.charCodeAt(i);return n};t.API.events.push(["addFont",function(n){var i=void 0,r=n.font,s=n.instance;if(!r.isStandardFont){if(void 0===s)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if("string"!=typeof(i=!1===s.existsFileInVFS(r.postScriptName)?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");!function(n,i){i=/^\x00\x01\x00\x00/.test(i)?e(i):e(dx(i)),n.metadata=t.API.TTFFont.open(i),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(r,i)}}])}(Mx),Mx.API.addSvgAsImage=function(t,e,i,r,s,o,a,l){if(isNaN(e)||isNaN(i))throw ox.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(s))throw ox.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=s;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(rx.canvg?Promise.resolve(rx.canvg):n.e(917).then(n.bind(n,917))).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t}).then(function(e){return e.fromString(u,t,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(t){return t.render(h)}).then(function(){d.addImage(c.toDataURL("image/jpeg",1),e,i,r,s,a,l)})},Mx.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(e,n);return this},Mx.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var i,r,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,h=0;function d(t,e){var n,i=!1;for(n=0;n<t.length;n+=1)t[n]===e&&(i=!0);return i}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===t||!0===e){var f=a.length;for(h=0;h<f;h+=1)n[a[h]].value=n[a[h]].defaultValue,n[a[h]].explicitSet=!1}if("object"===(0,Gm.A)(t))for(r in t)if(s=t[r],d(a,r)&&void 0!==s){if("boolean"===n[r].type&&"boolean"==typeof s)n[r].value=s;else if("name"===n[r].type&&d(n[r].valueSet,s))n[r].value=s;else if("integer"===n[r].type&&Number.isInteger(s))n[r].value=s;else if("array"===n[r].type){for(c=0;c<s.length;c+=1)if(i=!0,1===s[c].length&&"number"==typeof s[c][0])l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)"number"!=typeof s[c][u]&&(i=!1);!0===i&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[r].value="["+l.join(" ")+"]"}else n[r].value=n[r].defaultValue;n[r].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var t,e=[];for(t in n)!0===n[t].explicitSet&&("name"===n[t].type?e.push("/"+t+" /"+n[t].value):e.push("/"+t+" "+n[t].value));0!==e.length&&this.internal.write("/ViewerPreferences\n<<\n"+e.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var t='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',e=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(t)),i=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),r=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),s=unescape(encodeURIComponent("</x:xmpmeta>")),o=n.length+i.length+r.length+e.length+s.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+o+" >>"),this.internal.write("stream"),this.internal.write(e+n+i+r+s),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(t,i){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:t,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(Mx.API),function(t){var e=t.API,n=e.pdfEscape16=function(t,e){for(var n,i=e.metadata.Unicode.widths,r=["","0","00","000","0000"],s=[""],o=0,a=t.length;o<a;++o){if(n=e.metadata.characterToGlyph(t.charCodeAt(o)),e.metadata.glyIdsUsed.push(n),e.metadata.toUnicode[n]=t.charCodeAt(o),-1==i.indexOf(n)&&(i.push(n),i.push([parseInt(e.metadata.widthOfGlyph(n),10)])),"0"==n)return s.join("");n=n.toString(16),s.push(r[4-n.length],n)}return s.join("")},i=function(t){var e,n,i,r,s,o,a;for(s="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",i=[],o=0,a=(n=Object.keys(t).sort(function(t,e){return t-e})).length;o<a;o++)e=n[o],i.length>=100&&(s+="\n"+i.length+" beginbfchar\n"+i.join("\n")+"\nendbfchar",i=[]),void 0!==t[e]&&null!==t[e]&&"function"==typeof t[e].toString&&(r=("0000"+t[e].toString(16)).slice(-4),e=("0000"+(+e).toString(16)).slice(-4),i.push("<"+e+"><"+r+">"));return i.length&&(s+="\n"+i.length+" beginbfchar\n"+i.join("\n")+"\nendbfchar\n"),s+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};e.events.push(["putFont",function(e){!function(e){var n=e.font,r=e.out,s=e.newObject,o=e.putStream;if(n.metadata instanceof t.API.TTFFont&&"Identity-H"===n.encoding){for(var a=n.metadata.Unicode.widths,l=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),c="",u=0;u<l.length;u++)c+=String.fromCharCode(l[u]);var h=s();o({data:c,addLength1:!0,objectId:h}),r("endobj");var d=s();o({data:i(n.metadata.toUnicode),addLength1:!0,objectId:d}),r("endobj");var f=s();r("<<"),r("/Type /FontDescriptor"),r("/FontName /"+jx(n.fontName)),r("/FontFile2 "+h+" 0 R"),r("/FontBBox "+t.API.PDFObject.convert(n.metadata.bbox)),r("/Flags "+n.metadata.flags),r("/StemV "+n.metadata.stemV),r("/ItalicAngle "+n.metadata.italicAngle),r("/Ascent "+n.metadata.ascender),r("/Descent "+n.metadata.decender),r("/CapHeight "+n.metadata.capHeight),r(">>"),r("endobj");var p=s();r("<<"),r("/Type /Font"),r("/BaseFont /"+jx(n.fontName)),r("/FontDescriptor "+f+" 0 R"),r("/W "+t.API.PDFObject.convert(a)),r("/CIDToGIDMap /Identity"),r("/DW 1000"),r("/Subtype /CIDFontType2"),r("/CIDSystemInfo"),r("<<"),r("/Supplement 0"),r("/Registry (Adobe)"),r("/Ordering ("+n.encoding+")"),r(">>"),r(">>"),r("endobj"),n.objectNumber=s(),r("<<"),r("/Type /Font"),r("/Subtype /Type0"),r("/ToUnicode "+d+" 0 R"),r("/BaseFont /"+jx(n.fontName)),r("/Encoding /"+n.encoding),r("/DescendantFonts ["+p+" 0 R]"),r(">>"),r("endobj"),n.isAlreadyPutted=!0}}(e)}]),e.events.push(["putFont",function(e){!function(e){var n=e.font,r=e.out,s=e.newObject,o=e.putStream;if(n.metadata instanceof t.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var a=n.metadata.rawData,l="",c=0;c<a.length;c++)l+=String.fromCharCode(a[c]);var u=s();o({data:l,addLength1:!0,objectId:u}),r("endobj");var h=s();o({data:i(n.metadata.toUnicode),addLength1:!0,objectId:h}),r("endobj");var d=s();r("<<"),r("/Descent "+n.metadata.decender),r("/CapHeight "+n.metadata.capHeight),r("/StemV "+n.metadata.stemV),r("/Type /FontDescriptor"),r("/FontFile2 "+u+" 0 R"),r("/Flags 96"),r("/FontBBox "+t.API.PDFObject.convert(n.metadata.bbox)),r("/FontName /"+jx(n.fontName)),r("/ItalicAngle "+n.metadata.italicAngle),r("/Ascent "+n.metadata.ascender),r(">>"),r("endobj"),n.objectNumber=s();for(var f=0;f<n.metadata.hmtx.widths.length;f++)n.metadata.hmtx.widths[f]=parseInt(n.metadata.hmtx.widths[f]*(1e3/n.metadata.head.unitsPerEm));r("<</Subtype/TrueType/Type/Font/ToUnicode "+h+" 0 R/BaseFont/"+jx(n.fontName)+"/FontDescriptor "+d+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),r("endobj"),n.isAlreadyPutted=!0}}(e)}]);var r=function(t){var e,i=t.text||"",r=t.x,s=t.y,o=t.options||{},a=t.mutex||{},l=a.pdfEscape,c=a.activeFontKey,u=a.fonts,h=c,d="",f=0,p="",g=u[h].encoding;if("Identity-H"!==u[h].encoding)return{text:i,x:r,y:s,options:o,mutex:a};for(p=i,h=c,Array.isArray(i)&&(p=i[0]),f=0;f<p.length;f+=1)u[h].metadata.hasOwnProperty("cmap")&&(e=u[h].metadata.cmap.unicode.codeMap[p[f].charCodeAt(0)]),e||p[f].charCodeAt(0)<256&&u[h].metadata.hasOwnProperty("Unicode")?d+=p[f]:d+="";var m="";return parseInt(h.slice(1))<14||"WinAnsiEncoding"===g?m=l(d,h).split("").map(function(t){return t.charCodeAt(0).toString(16)}).join(""):"Identity-H"===g&&(m=n(d,u[h])),a.isHex=!0,{text:m,x:r,y:s,options:o,mutex:a}};e.events.push(["postProcessText",function(t){var e=t.text||"",n=[],i={text:e,x:t.x,y:t.y,options:t.options,mutex:t.mutex};if(Array.isArray(e)){var s=0;for(s=0;s<e.length;s+=1)Array.isArray(e[s])&&3===e[s].length?n.push([r(Object.assign({},i,{text:e[s][0]})).text,e[s][1],e[s][2]]):n.push(r(Object.assign({},i,{text:e[s]})).text);t.text=n}else t.text=r(Object.assign({},i,{text:e})).text}])}(Mx),function(t){var e=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]},t.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},t.getFileFromVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]?this.internal.vFS[t]:null}}(Mx.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(t){var n,i,r,s,o,a,l,c=e,u=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],d={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},f={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),m=!1,v=0;this.__bidiEngine__={};var y=function(t){var e=t.charCodeAt(),n=e>>8,i=f[n];return void 0!==i?c[256*i+(255&e)]:252===n||253===n?"AL":g.test(n)?"L":8===n?"R":"N"},w=function(t){for(var e,n=0;n<t.length;n++){if("L"===(e=y(t.charAt(n))))return!1;if("R"===e)return!0}return!1},b=function(t,e,o,a){var l,c,u,h,d=e[a];switch(d){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":m=!1;break;case"N":case"AN":break;case"EN":m&&(d="AN");break;case"AL":m=!0,d="R";break;case"WS":case"BN":d="N";break;case"CS":a<1||a+1>=e.length||"EN"!==(l=o[a-1])&&"AN"!==l||"EN"!==(c=e[a+1])&&"AN"!==c?d="N":m&&(c="AN"),d=c===l?c:"N";break;case"ES":d="EN"===(l=a>0?o[a-1]:"B")&&a+1<e.length&&"EN"===e[a+1]?"EN":"N";break;case"ET":if(a>0&&"EN"===o[a-1]){d="EN";break}if(m){d="N";break}for(u=a+1,h=e.length;u<h&&"ET"===e[u];)u++;d=u<h&&"EN"===e[u]?"EN":"N";break;case"NSM":if(r&&!s){for(h=e.length,u=a+1;u<h&&"NSM"===e[u];)u++;if(u<h){var f=t[a],p=f>=1425&&f<=2303||64286===f;if(l=e[u],p&&("R"===l||"AL"===l)){d="R";break}}}d=a<1||"B"===(l=e[a-1])?"N":o[a-1];break;case"B":m=!1,n=!0,d=v;break;case"S":i=!0,d="N"}return d},_=function(t,e,n){var i=t.split("");return n&&x(i,n,{hiLevel:v}),i.reverse(),e&&e.reverse(),i.join("")},x=function(t,e,r){var s,o,a,l,c,f=-1,p=t.length,g=0,w=[],_=v?h:u,x=[];for(m=!1,n=!1,i=!1,o=0;o<p;o++)x[o]=y(t[o]);for(a=0;a<p;a++){if(c=g,w[a]=b(t,x,w,a),s=240&(g=_[c][d[w[a]]]),g&=15,e[a]=l=_[g][5],s>0)if(16===s){for(o=f;o<a;o++)e[o]=1;f=-1}else f=-1;if(_[g][6])-1===f&&(f=a);else if(f>-1){for(o=f;o<a;o++)e[o]=l;f=-1}"B"===x[a]&&(e[a]=0),r.hiLevel|=l}i&&function(t,e,n){for(var i=0;i<n;i++)if("S"===t[i]){e[i]=v;for(var r=i-1;r>=0&&"WS"===t[r];r--)e[r]=v}}(x,e,p)},S=function(t,e,i,r,s){if(!(s.hiLevel<t)){if(1===t&&1===v&&!n)return e.reverse(),void(i&&i.reverse());for(var o,a,l,c,u=e.length,h=0;h<u;){if(r[h]>=t){for(l=h+1;l<u&&r[l]>=t;)l++;for(c=h,a=l-1;c<a;c++,a--)o=e[c],e[c]=e[a],e[a]=o,i&&(o=i[c],i[c]=i[a],i[a]=o);h=l}h++}}},k=function(t,e,n){var i=t.split(""),r={hiLevel:v};return n||(n=[]),x(i,n,r),function(t,e,n){if(0!==n.hiLevel&&l)for(var i,r=0;r<t.length;r++)1===e[r]&&(i=p.indexOf(t[r]))>=0&&(t[r]=p[i+1])}(i,n,r),S(2,i,e,n,r),S(1,i,e,n,r),i.join("")};return this.__bidiEngine__.doBidiReorder=function(t,e,n){if(function(t,e){if(e)for(var n=0;n<t.length;n++)e[n]=n;void 0===s&&(s=w(t)),void 0===a&&(a=w(t))}(t,e),r||!o||a)if(r&&o&&s^a)v=s?1:0,t=_(t,e,n);else if(!r&&o&&a)v=s?1:0,t=k(t,e,n),t=_(t,e);else if(!r||s||o||a){if(r&&!o&&s^a)t=_(t,e),s?(v=0,t=k(t,e,n)):(v=1,t=k(t,e,n),t=_(t,e));else if(r&&s&&!o&&a)v=1,t=k(t,e,n),t=_(t,e);else if(!r&&!o&&s^a){var i=l;s?(v=1,t=k(t,e,n),v=0,l=!1,t=k(t,e,n),l=i):(v=0,t=k(t,e,n),t=_(t,e),v=1,l=!1,t=k(t,e,n),l=i,t=_(t,e))}}else v=0,t=k(t,e,n);else v=s?1:0,t=k(t,e,n);return t},this.__bidiEngine__.setOptions=function(t){t&&(r=t.isInputVisual,o=t.isOutputVisual,s=t.isInputRtl,a=t.isOutputRtl,l=t.isSymmetricSwapping)},this.__bidiEngine__.setOptions(t),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(t){var e=t.text;t.x,t.y;var i=t.options||{};t.mutex,i.lang;var r=[];if(i.isInputVisual="boolean"!=typeof i.isInputVisual||i.isInputVisual,n.setOptions(i),"[object Array]"===Object.prototype.toString.call(e)){var s=0;for(r=[],s=0;s<e.length;s+=1)"[object Array]"===Object.prototype.toString.call(e[s])?r.push([n.doBidiReorder(e[s][0]),e[s][1],e[s][2]]):r.push([n.doBidiReorder(e[s])]);t.text=r}else t.text=n.doBidiReorder(e);n.setOptions({isInputVisual:!0})}])}(Mx),Mx.API.TTFFont=function(){function t(t){var e;if(this.rawData=t,e=this.contents=new hk(t),this.contents.pos=4,"ttcf"===e.readString(4))throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new Pk(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new dk(this.contents),this.head=new gk(this),this.name=new xk(this),this.cmap=new vk(this),this.toUnicode={},this.hhea=new yk(this),this.maxp=new Sk(this),this.hmtx=new kk(this),this.post=new bk(this),this.os2=new wk(this),this.loca=new Lk(this),this.glyf=new Nk(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var t,e,n,i,r;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var e,n,i,r;for(r=[],e=0,n=(i=this.bbox).length;e<n;e++)t=i[e],r.push(Math.round(t*this.scaleFactor));return r}.call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(e=i>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(r=this.familyClass)||2===r||3===r||4===r||5===r||7===r,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(t){var e;return(null!=(e=this.cmap.unicode)?e.codeMap[t]:void 0)||0},t.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},t.prototype.widthOfString=function(t,e,n){var i,r,s,o;for(s=0,r=0,o=(t=""+t).length;0<=o?r<o:r>o;r=0<=o?++r:--r)i=t.charCodeAt(r),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/e)||0;return s*(e/1e3)},t.prototype.lineHeight=function(t,e){var n;return null==e&&(e=!1),n=e?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},t}();var uk,hk=function(){function t(t){this.data=null!=t?t:[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(t){return this.data[this.pos++]=t},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},t.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},t.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},t.prototype.readString=function(t){var e,n;for(n=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)n[e]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(t){var e,n,i;for(i=[],e=0,n=t.length;0<=n?e<n:e>n;e=0<=n?++e:--e)i.push(this.writeByte(t.charCodeAt(e)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(t){return this.writeInt16(t)},t.prototype.readLongLong=function(){var t,e,n,i,r,s,o,a;return t=this.readByte(),e=this.readByte(),n=this.readByte(),i=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^r)+65536*(255^s)+256*(255^o)+(255^a)+1):72057594037927940*t+281474976710656*e+1099511627776*n+4294967296*i+16777216*r+65536*s+256*o+a},t.prototype.writeLongLong=function(t){var e,n;return e=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(t){return this.writeInt32(t)},t.prototype.read=function(t){var e,n;for(e=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)e.push(this.readByte());return e},t.prototype.write=function(t){var e,n,i,r;for(r=[],n=0,i=t.length;n<i;n++)e=t[n],r.push(this.writeByte(e));return r},t}(),dk=function(){var t;function e(t){var e,n,i;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},n=0,i=this.tableCount;0<=i?n<i:n>i;n=0<=i?++n:--n)e={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[e.tag]=e}return e.prototype.encode=function(e){var n,i,r,s,o,a,l,c,u,h,d,f,p;for(p in d=Object.keys(e).length,a=Math.log(2),u=16*Math.floor(Math.log(d)/a),s=Math.floor(u/a),c=16*d-u,(i=new hk).writeInt(this.scalarType),i.writeShort(d),i.writeShort(u),i.writeShort(s),i.writeShort(c),r=16*d,l=i.pos+r,o=null,f=[],e)for(h=e[p],i.writeString(p),i.writeInt(t(h)),i.writeInt(l),i.writeInt(h.length),f=f.concat(h),"head"===p&&(o=l),l+=h.length;l%4;)f.push(0),l++;return i.write(f),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(t){var e,n,i,r;for(t=Ck.call(t);t.length%4;)t.push(0);for(i=new hk(t),n=0,e=0,r=t.length;e<r;e=e+=4)n+=i.readUInt32();return 4294967295&n},e}(),fk={}.hasOwnProperty,pk=function(t,e){for(var n in e)fk.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};uk=function(){function t(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var gk=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pk(t,uk),t.prototype.tag="head",t.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},t.prototype.encode=function(t){var e;return(e=new hk).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},t}(),mk=function(){function t(t,e){var n,i,r,s,o,a,l,c,u,h,d,f,p,g,m,v,y;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),u=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(a=0;a<256;++a)this.codeMap[a]=t.readByte();break;case 4:for(d=t.readUInt16(),h=d/2,t.pos+=6,r=function(){var e,n;for(n=[],a=e=0;0<=h?e<h:e>h;a=0<=h?++e:--e)n.push(t.readUInt16());return n}(),t.pos+=2,p=function(){var e,n;for(n=[],a=e=0;0<=h?e<h:e>h;a=0<=h?++e:--e)n.push(t.readUInt16());return n}(),l=function(){var e,n;for(n=[],a=e=0;0<=h?e<h:e>h;a=0<=h?++e:--e)n.push(t.readUInt16());return n}(),c=function(){var e,n;for(n=[],a=e=0;0<=h?e<h:e>h;a=0<=h?++e:--e)n.push(t.readUInt16());return n}(),i=(this.length-t.pos+this.offset)/2,o=function(){var e,n;for(n=[],a=e=0;0<=i?e<i:e>i;a=0<=i?++e:--e)n.push(t.readUInt16());return n}(),a=m=0,y=r.length;m<y;a=++m)for(g=r[a],n=v=f=p[a];f<=g?v<=g:v>=g;n=f<=g?++v:--v)0===c[a]?s=n+l[a]:0!==(s=o[c[a]/2+(n-f)-(h-a)]||0)&&(s+=l[a]),this.codeMap[n]=65535&s}t.pos=u}return t.encode=function(t,e){var n,i,r,s,o,a,l,c,u,h,d,f,p,g,m,v,y,w,b,_,x,S,k,C,N,A,E,L,P,j,R,T,I,F,O,M,D,B,z,U,q,W,H,V,G,K;switch(L=new hk,s=Object.keys(t).sort(function(t,e){return t-e}),e){case"macroman":for(p=0,g=function(){var t=[];for(f=0;f<256;++f)t.push(0);return t}(),v={0:0},r={},P=0,I=s.length;P<I;P++)null==v[H=t[i=s[P]]]&&(v[H]=++p),r[i]={old:t[i],new:v[t[i]]},g[i]=v[t[i]];return L.writeUInt16(1),L.writeUInt16(0),L.writeUInt32(12),L.writeUInt16(0),L.writeUInt16(262),L.writeUInt16(0),L.write(g),{charMap:r,subtable:L.data,maxGlyphID:p+1};case"unicode":for(A=[],u=[],y=0,v={},n={},m=l=null,j=0,F=s.length;j<F;j++)null==v[b=t[i=s[j]]]&&(v[b]=++y),n[i]={old:b,new:v[b]},o=v[b]-i,null!=m&&o===l||(m&&u.push(m),A.push(i),l=o),m=i;for(m&&u.push(m),u.push(65535),A.push(65535),C=2*(k=A.length),S=2*Math.pow(Math.log(k)/Math.LN2,2),h=Math.log(S/2)/Math.LN2,x=2*k-S,a=[],_=[],d=[],f=R=0,O=A.length;R<O;f=++R){if(N=A[f],c=u[f],65535===N){a.push(0),_.push(0);break}if(N-(E=n[N].new)>=32768)for(a.push(0),_.push(2*(d.length+k-f)),i=T=N;N<=c?T<=c:T>=c;i=N<=c?++T:--T)d.push(n[i].new);else a.push(E-N),_.push(0)}for(L.writeUInt16(3),L.writeUInt16(1),L.writeUInt32(12),L.writeUInt16(4),L.writeUInt16(16+8*k+2*d.length),L.writeUInt16(0),L.writeUInt16(C),L.writeUInt16(S),L.writeUInt16(h),L.writeUInt16(x),q=0,M=u.length;q<M;q++)i=u[q],L.writeUInt16(i);for(L.writeUInt16(0),W=0,D=A.length;W<D;W++)i=A[W],L.writeUInt16(i);for(V=0,B=a.length;V<B;V++)o=a[V],L.writeUInt16(o);for(G=0,z=_.length;G<z;G++)w=_[G],L.writeUInt16(w);for(K=0,U=d.length;K<U;K++)p=d[K],L.writeUInt16(p);return{charMap:n,subtable:L.data,maxGlyphID:y+1}}},t}(),vk=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pk(t,uk),t.prototype.tag="cmap",t.prototype.parse=function(t){var e,n,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)e=new mk(t,this.offset),this.tables.push(e),e.isUnicode&&null==this.unicode&&(this.unicode=e);return!0},t.encode=function(t,e){var n,i;return null==e&&(e="macroman"),n=mk.encode(t,e),(i=new hk).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),yk=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pk(t,uk),t.prototype.tag="hhea",t.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},t}(),wk=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pk(t,uk),t.prototype.tag="OS/2",t.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var e,n;for(n=[],e=0;e<10;++e)n.push(t.readByte());return n}(),this.charRange=function(){var e,n;for(n=[],e=0;e<4;++e)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var e,n;for(n=[],e=0;e<2;e=++e)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},t}(),bk=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pk(t,uk),t.prototype.tag="post",t.prototype.parse=function(t){var e,n,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var r;for(n=t.readUInt16(),this.glyphNameIndex=[],r=0;0<=n?r<n:r>n;r=0<=n?++r:--r)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)e=t.readByte(),i.push(this.names.push(t.readString(e)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=function(){var e,n,i;for(i=[],r=e=0,n=this.file.maxp.numGlyphs;0<=n?e<n:e>n;r=0<=n?++e:--e)i.push(t.readUInt32());return i}.call(this)}},t}(),_k=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},xk=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pk(t,uk),t.prototype.tag="name",t.prototype.parse=function(t){var e,n,i,r,s,o,a,l,c,u,h;for(t.pos=this.offset,t.readShort(),e=t.readShort(),o=t.readShort(),n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(a={},r=c=0,u=n.length;c<u;r=++c)i=n[r],t.pos=i.offset,l=t.readString(i.length),s=new _k(l,i),null==a[h=i.nameID]&&(a[h]=[]),a[i.nameID].push(s);this.strings=a,this.copyright=a[0],this.fontFamily=a[1],this.fontSubfamily=a[2],this.uniqueSubfamily=a[3],this.fontName=a[4],this.version=a[5];try{this.postscriptName=a[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(dx){this.postscriptName=a[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=a[7],this.manufacturer=a[8],this.designer=a[9],this.description=a[10],this.vendorUrl=a[11],this.designerUrl=a[12],this.license=a[13],this.licenseUrl=a[14],this.preferredFamily=a[15],this.preferredSubfamily=a[17],this.compatibleFull=a[18],this.sampleText=a[19]},t}(),Sk=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pk(t,uk),t.prototype.tag="maxp",t.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},t}(),kk=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pk(t,uk),t.prototype.tag="hmtx",t.prototype.parse=function(t){var e,n,i,r,s,o,a;for(t.pos=this.offset,this.metrics=[],e=0,o=this.file.hhea.numberOfMetrics;0<=o?e<o:e>o;e=0<=o?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,r;for(r=[],e=n=0;0<=i?n<i:n>i;e=0<=i?++n:--n)r.push(t.readInt16());return r}(),this.widths=function(){var t,e,n,i;for(i=[],t=0,e=(n=this.metrics).length;t<e;t++)r=n[t],i.push(r.advance);return i}.call(this),n=this.widths[this.widths.length-1],a=[],e=s=0;0<=i?s<i:s>i;e=0<=i?++s:--s)a.push(this.widths.push(n));return a},t.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},t}(),Ck=[].slice,Nk=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pk(t,uk),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(t){var e,n,i,r,s,o,a,l,c,u;return t in this.cache?this.cache[t]:(r=this.file.loca,e=this.file.contents,n=r.indexOf(t),0===(i=r.lengthOf(t))?this.cache[t]=null:(e.pos=this.offset+n,s=(o=new hk(e.read(i))).readShort(),l=o.readShort(),u=o.readShort(),a=o.readShort(),c=o.readShort(),this.cache[t]=-1===s?new Ek(o,l,u,a,c):new Ak(o,s,l,u,a,c),this.cache[t]))},t.prototype.encode=function(t,e,n){var i,r,s,o,a;for(s=[],r=[],o=0,a=e.length;o<a;o++)i=t[e[o]],r.push(s.length),i&&(s=s.concat(i.encode(n)));return r.push(s.length),{table:s,offsets:r}},t}(),Ak=function(){function t(t,e,n,i,r,s){this.raw=t,this.numberOfContours=e,this.xMin=n,this.yMin=i,this.xMax=r,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Ek=function(){function t(t,e,n,i,r){var s,o;for(this.raw=t,this.xMin=e,this.yMin=n,this.xMax=i,this.yMax=r,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var t,e,n;for(e=new hk(Ck.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)e.pos=this.glyphOffsets[t];return e.data},t}(),Lk=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pk(t,uk),t.prototype.tag="loca",t.prototype.parse=function(t){var e,n;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=0===e?function(){var e,i;for(i=[],n=0,e=this.length;n<e;n+=2)i.push(2*t.readUInt16());return i}.call(this):function(){var e,i;for(i=[],n=0,e=this.length;n<e;n+=4)i.push(t.readUInt32());return i}.call(this)},t.prototype.indexOf=function(t){return this.offsets[t]},t.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},t.prototype.encode=function(t,e){for(var n=new Uint32Array(this.offsets.length),i=0,r=0,s=0;s<n.length;++s)if(n[s]=i,r<e.length&&e[r]==s){++r,n[s]=i;var o=this.offsets[s],a=this.offsets[s+1]-o;a>0&&(i+=a)}for(var l=new Array(4*n.length),c=0;c<n.length;++c)l[4*c+3]=255&n[c],l[4*c+2]=(65280&n[c])>>8,l[4*c+1]=(16711680&n[c])>>16,l[4*c]=(4278190080&n[c])>>24;return l},t}(),Pk=function(){function t(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var t,e,n,i,r;for(e in i=this.font.cmap.tables[0].codeMap,t={},r=this.subset)n=r[e],t[e]=i[n];return t},t.prototype.glyphsFor=function(t){var e,n,i,r,s,o,a;for(i={},s=0,o=t.length;s<o;s++)i[r=t[s]]=this.font.glyf.glyphFor(r);for(r in e=[],i)(null!=(n=i[r])?n.compound:void 0)&&e.push.apply(e,n.glyphIDs);if(e.length>0)for(r in a=this.glyphsFor(e))n=a[r],i[r]=n;return i},t.prototype.encode=function(t,e){var n,i,r,s,o,a,l,c,u,h,d,f,p,g,m;for(i in n=vk.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),d={0:0},m=n.charMap)d[(a=m[i]).old]=a.new;for(f in h=n.maxGlyphID,s)f in d||(d[f]=h++);return c=function(t){var e,n;for(e in n={},t)n[t[e]]=e;return n}(d),u=Object.keys(c).sort(function(t,e){return t-e}),p=function(){var t,e,n;for(n=[],t=0,e=u.length;t<e;t++)o=u[t],n.push(c[o]);return n}(),r=this.font.glyf.encode(s,p,d),l=this.font.loca.encode(r.offsets,p),g={cmap:this.font.cmap.raw(),glyf:r.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},t}();function jk(t,e,n,i,r){i=i||{};var s=r.internal.scaleFactor,o=r.internal.getFontSize()/s,a=o*(r.getLineHeightFactor?r.getLineHeightFactor():1.15),l="",c=1;if("middle"!==i.valign&&"bottom"!==i.valign&&"center"!==i.halign&&"right"!==i.halign||(c=(l="string"===typeof t?t.split(/\r\n|\r|\n/g):t).length||1),n+=o*(2-1.15),"middle"===i.valign?n-=c/2*a:"bottom"===i.valign&&(n-=c*a),"center"===i.halign||"right"===i.halign){var u=o;if("center"===i.halign&&(u*=.5),l&&c>=1){for(var h=0;h<l.length;h++)r.text(l[h],e-r.getStringUnitWidth(l[h])*u,n),n+=a;return r}e-=r.getStringUnitWidth(t)*u}return"justify"===i.halign?r.text(t,e,n,{maxWidth:i.maxWidth||100,align:"justify"}):r.text(t,e,n),r}Mx.API.PDFObject=function(){var t;function e(){}return t=function(t,e){return(Array(e+1).join("0")+t).slice(-e)},e.convert=function(n){var i,r,s,o;if(Array.isArray(n))return"["+function(){var t,r,s;for(s=[],t=0,r=n.length;t<r;t++)i=n[t],s.push(e.convert(i));return s}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(r in s=["<<"],n)o=n[r],s.push("/"+r+" "+e.convert(o));return s.push(">>"),s.join("\n")}return""+n},e}();var Rk={},Tk=function(){function t(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(t,e){void 0===e&&(e=null),e?e.__autoTableDocumentDefaults=t:Rk=t},t.unifyColor=function(t){return Array.isArray(t)?t:"number"===typeof t?[t,t,t]:"string"===typeof t?[t]:null},t.prototype.applyStyles=function(e,n){var i,r,s;void 0===n&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),a=o.fontStyle,l=o.fontName;if(e.font&&(l=e.font),e.fontStyle){a=e.fontStyle;var c=this.getFontList()[l];c&&-1===c.indexOf(a)&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),a=c[0])}if(this.jsPDFDocument.setFont(l,a),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var u=t.unifyColor(e.fillColor);u&&(i=this.jsPDFDocument).setFillColor.apply(i,u),(u=t.unifyColor(e.textColor))&&(r=this.jsPDFDocument).setTextColor.apply(r,u),(u=t.unifyColor(e.lineColor))&&(s=this.jsPDFDocument).setDrawColor.apply(s,u),"number"===typeof e.lineWidth&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(t,e,n){return this.jsPDFDocument.splitTextToSize(t,e,n)},t.prototype.rect=function(t,e,n,i,r){return this.jsPDFDocument.rect(t,e,n,i,r)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return Rk||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return null==t.width&&(t={width:t.getWidth(),height:t.getHeight()}),t},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),Ik=function(t,e){return Ik=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Ik(t,e)};function Fk(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Ik(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}"function"===typeof SuppressedError&&SuppressedError;var Ok=function(t){function e(e){var n=t.call(this)||this;return n._element=e,n}return Fk(e,t),e}(Array);function Mk(t,e,n){n.applyStyles(e,!0);var i=(Array.isArray(t)?t:[t]).map(function(t){return n.getTextWidth(t)}).reduce(function(t,e){return Math.max(t,e)},0);return i}function Dk(t,e,n,i){var r=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:r,lineColor:s});var o=Bk(r,!1);o&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),i.y-n.y,o)}function Bk(t,e){var n=t>0,i=e||0===e;return n&&i?"DF":n?"S":i?"F":null}function zk(t,e){var n,i,r,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(3===t.length)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(2===t.length)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t=1===t.length?t[0]:e}return"object"===typeof t?("number"===typeof t.vertical&&(t.top=t.vertical,t.bottom=t.vertical),"number"===typeof t.horizontal&&(t.right=t.horizontal,t.left=t.horizontal),{left:null!==(n=t.left)&&void 0!==n?n:e,top:null!==(i=t.top)&&void 0!==i?i:e,right:null!==(r=t.right)&&void 0!==r?r:e,bottom:null!==(s=t.bottom)&&void 0!==s?s:e}):("number"!==typeof t&&(t=e),{top:t,right:t,bottom:t,left:t})}function Uk(t,e){var n=zk(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function qk(t,e,n,i,r){var s={},o=96/72,a=Wk(e,function(t){return r.getComputedStyle(t).backgroundColor});null!=a&&(s.fillColor=a);var l=Wk(e,function(t){return r.getComputedStyle(t).color});null!=l&&(s.textColor=l);var c=function(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],i=96/(72/e),r=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=n.map(function(t){return parseInt(t||"0")/i}),o=zk(s,0);r>o.top&&(o.top=r);r>o.bottom&&(o.bottom=r);return o}(i,n);c&&(s.cellPadding=c);var u="borderTopColor",h=o*n,d=i.borderTopWidth;if(i.borderBottomWidth===d&&i.borderRightWidth===d&&i.borderLeftWidth===d){var f=(parseFloat(d)||0)/h;f&&(s.lineWidth=f)}else s.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/h,right:(parseFloat(i.borderRightWidth)||0)/h,bottom:(parseFloat(i.borderBottomWidth)||0)/h,left:(parseFloat(i.borderLeftWidth)||0)/h},s.lineWidth.top||(s.lineWidth.right?u="borderRightColor":s.lineWidth.bottom?u="borderBottomColor":s.lineWidth.left&&(u="borderLeftColor"));var p=Wk(e,function(t){return r.getComputedStyle(t)[u]});null!=p&&(s.lineColor=p);var g=["left","right","center","justify"];-1!==g.indexOf(i.textAlign)&&(s.halign=i.textAlign),-1!==(g=["middle","bottom","top"]).indexOf(i.verticalAlign)&&(s.valign=i.verticalAlign);var m=parseInt(i.fontSize||"");isNaN(m)||(s.fontSize=m/o);var v=function(t){var e="";("bold"===t.fontWeight||"bolder"===t.fontWeight||parseInt(t.fontWeight)>=700)&&(e="bold");"italic"!==t.fontStyle&&"oblique"!==t.fontStyle||(e+="italic");return e}(i);v&&(s.fontStyle=v);var y=(i.fontFamily||"").toLowerCase();return-1!==t.indexOf(y)&&(s.font=y),s}function Wk(t,e){var n=Hk(t,e);if(!n)return null;var i=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var r=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])];return 0===parseInt(i[4])||isNaN(r[0])||isNaN(r[1])||isNaN(r[2])?null:r}function Hk(t,e){var n=e(t);return"rgba(0, 0, 0, 0)"===n||"transparent"===n||"initial"===n||"inherit"===n?null==t.parentElement?null:Hk(t.parentElement,e):n}function Vk(t,e,n,i,r){var s,o,a;void 0===i&&(i=!1),void 0===r&&(r=!1),a="string"===typeof e?n.document.querySelector(e):e;var l=Object.keys(t.getFontList()),c=t.scaleFactor(),u=[],h=[],d=[];if(!a)return console.error("Html table could not be found with input: ",e),{head:u,body:h,foot:d};for(var f=0;f<a.rows.length;f++){var p=a.rows[f],g=null===(o=null===(s=null===p||void 0===p?void 0:p.parentElement)||void 0===s?void 0:s.tagName)||void 0===o?void 0:o.toLowerCase(),m=Gk(l,c,n,p,i,r);m&&("thead"===g?u.push(m):"tfoot"===g?d.push(m):h.push(m))}return{head:u,body:h,foot:d}}function Gk(t,e,n,i,r,s){for(var o=new Ok(i),a=0;a<i.cells.length;a++){var l=i.cells[a],c=n.getComputedStyle(l);if(r||"none"!==c.display){var u=void 0;s&&(u=qk(t,l,e,c,n)),o.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:Kk(l)})}}var h=n.getComputedStyle(i);if(o.length>0&&(r||"none"!==h.display))return o}function Kk(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join("\n"),e.innerText||e.textContent||""}function Yk(t,e,n,i,r){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),o=1;o<arguments.length;o++){var a=arguments[o];if(null!=a)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s}function Xk(t,e){var n=new Tk(t),i=n.getDocumentOptions(),r=n.getGlobalOptions();!function(t,e,n){for(var i=0,r=[t,e,n];i<r.length;i++){var s=r[i];s&&"object"!==typeof s&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&"number"!==typeof s.startY&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}(r,i,e);var s,o=Yk({},r,i,e);"undefined"!==typeof window&&(s=window);var a=function(t,e,n){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},r=function(r){if("columnStyles"===r){var s=t[r],o=e[r],a=n[r];i.columnStyles=Yk({},s,o,a)}else{var l=[t,e,n].map(function(t){return t[r]||{}});i[r]=Yk({},l[0],l[1],l[2])}},s=0,o=Object.keys(i);s<o.length;s++){r(o[s])}return i}(r,i,e),l=function(t,e,n){for(var i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},r=0,s=[t,e,n];r<s.length;r++){var o=s[r];o.didParseCell&&i.didParseCell.push(o.didParseCell),o.willDrawCell&&i.willDrawCell.push(o.willDrawCell),o.didDrawCell&&i.didDrawCell.push(o.didDrawCell),o.willDrawPage&&i.willDrawPage.push(o.willDrawPage),o.didDrawPage&&i.didDrawPage.push(o.didDrawPage)}return i}(r,i,e),c=function(t,e){var n,i,r,s,o,a,l,c,u,h,d,f,p,g,m=zk(e.margin,40/t.scaleFactor()),v=null!==(n=function(t,e){var n=t.getLastAutoTable(),i=t.scaleFactor(),r=t.pageNumber(),s=!1;if(n&&n.startPageNumber){s=n.startPageNumber+n.pageNumber-1===r}if("number"===typeof e)return e;if((null==e||!1===e)&&s&&null!=(null===n||void 0===n?void 0:n.finalY))return n.finalY+20/i;return null}(t,e.startY))&&void 0!==n?n:m.top;p=!0===e.showFoot?"everyPage":!1===e.showFoot?"never":null!==(i=e.showFoot)&&void 0!==i?i:"everyPage";g=!0===e.showHead?"everyPage":!1===e.showHead?"never":null!==(r=e.showHead)&&void 0!==r?r:"everyPage";var y=null!==(s=e.useCss)&&void 0!==s&&s,w=e.theme||(y?"plain":"striped"),b=!!e.horizontalPageBreak,_=null!==(o=e.horizontalPageBreakRepeat)&&void 0!==o?o:null;return{includeHiddenHtml:null!==(a=e.includeHiddenHtml)&&void 0!==a&&a,useCss:y,theme:w,startY:v,margin:m,pageBreak:null!==(l=e.pageBreak)&&void 0!==l?l:"auto",rowPageBreak:null!==(c=e.rowPageBreak)&&void 0!==c?c:"auto",tableWidth:null!==(u=e.tableWidth)&&void 0!==u?u:"auto",showHead:g,showFoot:p,tableLineWidth:null!==(h=e.tableLineWidth)&&void 0!==h?h:0,tableLineColor:null!==(d=e.tableLineColor)&&void 0!==d?d:200,horizontalPageBreak:b,horizontalPageBreakRepeat:_,horizontalPageBreakBehaviour:null!==(f=e.horizontalPageBreakBehaviour)&&void 0!==f?f:"afterAllRows"}}(n,o),u=function(t,e,n){var i=e.head||[],r=e.body||[],s=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(n){var a=Vk(t,e.html,n,o,e.useCss)||{};i=a.head||i,r=a.body||i,s=a.foot||i}else console.error("Cannot parse html in non browser environment")}var l=e.columns||function(t,e,n){var i=t[0]||e[0]||n[0]||[],r=[];return Object.keys(i).filter(function(t){return"_element"!==t}).forEach(function(t){var e,n=1;"object"!==typeof(e=Array.isArray(i)?i[parseInt(t)]:i[t])||Array.isArray(e)||(n=(null===e||void 0===e?void 0:e.colSpan)||1);for(var s=0;s<n;s++){var o={dataKey:Array.isArray(i)?r.length:t+(s>0?"_".concat(s):"")};r.push(o)}}),r}(i,r,s);return{columns:l,head:i,body:r,foot:s}}(n,o,s);return{id:e.tableId,content:u,hooks:l,styles:a,settings:c}}var Zk,Jk=function(t,e,n){this.table=e,this.pageNumber=e.pageNumber,this.settings=e.settings,this.cursor=n,this.doc=t.getDocument()},$k=function(t){function e(e,n,i,r,s,o){var a=t.call(this,e,n,o)||this;return a.cell=i,a.row=r,a.column=s,a.section=r.section,a}return Fk(e,t),e}(Jk),Qk=function(){function t(t,e){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=e.columns,this.head=e.head,this.body=e.body,this.foot=e.foot}return t.prototype.getHeadHeight=function(t){return this.head.reduce(function(e,n){return e+n.getMaxCellHeight(t)},0)},t.prototype.getFootHeight=function(t){return this.foot.reduce(function(e,n){return e+n.getMaxCellHeight(t)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(t,e,n,i,r,s){for(var o=0,a=e;o<a.length;o++){var l=!1===(0,a[o])(new $k(t,this,n,i,r,s));if(n.text=Array.isArray(n.text)?n.text:[n.text],l)return!1}return!0},t.prototype.callEndPageHooks=function(t,e){t.applyStyles(t.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){(0,i[n])(new Jk(t,this,e))}},t.prototype.callWillDrawPageHooks=function(t,e){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){(0,i[n])(new Jk(t,this,e))}},t.prototype.getWidth=function(t){if("number"===typeof this.settings.tableWidth)return this.settings.tableWidth;if("wrap"===this.settings.tableWidth)return this.columns.reduce(function(t,e){return t+e.wrappedWidth},0);var e=this.settings.margin;return t-e.left-e.right},t}(),tC=function(){function t(t,e,n,i,r){void 0===r&&(r=!1),this.height=0,this.raw=t,t instanceof Ok&&(this.raw=t._element,this.element=t._element),this.index=e,this.section=n,this.cells=i,this.spansMultiplePages=r}return t.prototype.getMaxCellHeight=function(t){var e=this;return t.reduce(function(t,n){var i;return Math.max(t,(null===(i=e.cells[n.index])||void 0===i?void 0:i.height)||0)},0)},t.prototype.hasRowSpan=function(t){var e=this;return t.filter(function(t){var n=e.cells[t.index];return!!n&&n.rowSpan>1}).length>0},t.prototype.canEntireRowFit=function(t,e){return this.getMaxCellHeight(e)<=t},t.prototype.getMinimumRowHeight=function(t,e){var n=this;return t.reduce(function(t,i){var r=n.cells[i.index];if(!r)return 0;var s=e.getLineHeight(r.styles.fontSize),o=r.padding("vertical")+s;return o>t?o:t},0)},t}(),eC=function(){function t(t,e,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=e,this.section=n,this.raw=t;var r=t;null==t||"object"!==typeof t||Array.isArray(t)?(this.rowSpan=1,this.colSpan=1):(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,r=null!==(i=t.content)&&void 0!==i?i:t,t._element&&(this.raw=t._element));var s=null!=r?""+r:"";this.text=s.split(/\r\n|\r|\n/g)}return t.prototype.getTextPos=function(){var t,e;if("top"===this.styles.valign)t=this.y+this.padding("top");else if("bottom"===this.styles.valign)t=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");t=this.y+n/2+this.padding("top")}if("right"===this.styles.halign)e=this.x+this.width-this.padding("right");else if("center"===this.styles.halign){var i=this.width-this.padding("horizontal");e=this.x+i/2+this.padding("left")}else e=this.x+this.padding("left");return{x:e,y:t}},t.prototype.getContentHeight=function(t,e){void 0===e&&(e=1.15);var n=(Array.isArray(this.text)?this.text.length:1)*(this.styles.fontSize/t*e)+this.padding("vertical");return Math.max(n,this.styles.minCellHeight)},t.prototype.padding=function(t){var e=zk(this.styles.cellPadding,0);return"vertical"===t?e.top+e.bottom:"horizontal"===t?e.left+e.right:e[t]},t}(),nC=function(){function t(t,e,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=e,this.index=n}return t.prototype.getMaxCustomCellWidth=function(t){for(var e=0,n=0,i=t.allRows();n<i.length;n++){var r=i[n].cells[this.index];r&&"number"===typeof r.styles.cellWidth&&(e=Math.max(e,r.styles.cellWidth))}return e},t}();function iC(t,e){!function(t,e){var n=t.scaleFactor(),i=e.settings.horizontalPageBreak,r=Uk(t,e);e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],c=s.cells[l.index];if(c){var u=e.hooks.didParseCell;e.callCellHooks(t,u,c,s,l,null);var h=c.padding("horizontal");c.contentWidth=Mk(c.text,c.styles,t)+h;var d=Mk(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,t);if(c.minReadableWidth=d+c.padding("horizontal"),"number"===typeof c.styles.cellWidth)c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if("wrap"===c.styles.cellWidth||!0===i)c.contentWidth>r?(c.minWidth=r,c.wrappedWidth=r):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var f=10/n;c.minWidth=c.styles.minCellWidth||f,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),e.allRows().forEach(function(t){for(var n=0,i=e.columns;n<i.length;n++){var r=i[n],s=t.cells[r.index];if(s&&1===s.colSpan)r.wrappedWidth=Math.max(r.wrappedWidth,s.wrappedWidth),r.minWidth=Math.max(r.minWidth,s.minWidth),r.minReadableWidth=Math.max(r.minReadableWidth,s.minReadableWidth);else{var o=e.styles.columnStyles[r.dataKey]||e.styles.columnStyles[r.index]||{},a=o.cellWidth||o.minCellWidth;a&&"number"===typeof a&&(r.minWidth=a,r.wrappedWidth=a)}s&&(s.colSpan>1&&!r.minWidth&&(r.minWidth=s.minWidth),s.colSpan>1&&!r.wrappedWidth&&(r.wrappedWidth=s.minWidth))}})}(t,e);var n=[],i=0;e.columns.forEach(function(t){var r=t.getMaxCustomCellWidth(e);r?t.width=r:(t.width=t.wrappedWidth,n.push(t)),i+=t.width});var r=e.getWidth(t.pageSize().width)-i;r&&(r=rC(n,r,function(t){return Math.max(t.minReadableWidth,t.minWidth)})),r&&(r=rC(n,r,function(t){return t.minWidth})),r=Math.abs(r),!e.settings.horizontalPageBreak&&r>.1/t.scaleFactor()&&(r=r<1?r:Math.round(r),console.warn("Of the table content, ".concat(r," units width could not fit page"))),function(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var i=e[n],r=null,s=0,o=0,a=0;a<t.columns.length;a++){var l=t.columns[a];if((o-=1)>1&&t.columns[a+1])s+=l.width,delete i.cells[l.index];else if(r){var c=r;delete i.cells[l.index],r=null,c.width=l.width+s}else{if(!(c=i.cells[l.index]))continue;if(o=c.colSpan,s=0,c.colSpan>1){r=c,s+=l.width;continue}c.width=l.width+s}}}(e),function(t,e){for(var n={count:0,height:0},i=0,r=t.allRows();i<r.length;i++){for(var s=r[i],o=0,a=t.columns;o<a.length;o++){var l=a[o],c=s.cells[l.index];if(c){e.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if("linebreak"===c.styles.overflow)c.text=e.splitTextToSize(c.text,u+1/e.scaleFactor(),{fontSize:c.styles.fontSize});else if("ellipsize"===c.styles.overflow)c.text=sC(c.text,u,c.styles,e,"...");else if("hidden"===c.styles.overflow)c.text=sC(c.text,u,c.styles,e,"");else if("function"===typeof c.styles.overflow){var h=c.styles.overflow(c.text,u);c.text="string"===typeof h?[h]:h}c.contentHeight=c.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var d=c.contentHeight/c.rowSpan;c.rowSpan>1&&n.count*n.height<d*c.rowSpan?n={height:d,count:c.rowSpan}:n&&n.count>0&&n.height>d&&(d=n.height),d>s.height&&(s.height=d)}}n.count--}}(e,t),function(t){for(var e={},n=1,i=t.allRows(),r=0;r<i.length;r++)for(var s=i[r],o=0,a=t.columns;o<a.length;o++){var l=a[o],c=e[l.index];if(n>1)n--,delete s.cells[l.index];else if(c)c.cell.height+=s.height,n=c.cell.colSpan,delete s.cells[l.index],c.left--,c.left<=1&&delete e[l.index];else{var u=s.cells[l.index];if(!u)continue;if(u.height=s.height,u.rowSpan>1){var h=i.length-r,d=u.rowSpan>h?h:u.rowSpan;e[l.index]={cell:u,left:d,row:s}}}}}(e)}function rC(t,e,n){for(var i=e,r=t.reduce(function(t,e){return t+e.wrappedWidth},0),s=0;s<t.length;s++){var o=t[s],a=i*(o.wrappedWidth/r),l=o.width+a,c=n(o),u=l<c?c:l;e-=u-o.width,o.width=u}if(e=Math.round(1e10*e)/1e10){var h=t.filter(function(t){return!(e<0)||t.width>n(t)});h.length&&(e=rC(h,e,n))}return e}function sC(t,e,n,i,r){return t.map(function(t){return function(t,e,n,i,r){var s=1e4*i.scaleFactor();if(e=Math.ceil(e*s)/s,e>=Mk(t,n,i))return t;for(;e<Mk(t+r,n,i)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+r}(t,e,n,i,r)})}function oC(t,e){var n=new Tk(t),i=function(t,e){var n=t.content,i=function(t){return t.map(function(t,e){var n,i;return i="object"===typeof t&&null!==(n=t.dataKey)&&void 0!==n?n:e,new nC(i,t,e)})}(n.columns);if(0===n.head.length){(r=lC(i,"head"))&&n.head.push(r)}if(0===n.foot.length){var r;(r=lC(i,"foot"))&&n.foot.push(r)}var s=t.settings.theme,o=t.styles;return{columns:i,head:aC("head",n.head,i,o,s,e),body:aC("body",n.body,i,o,s,e),foot:aC("foot",n.foot,i,o,s,e)}}(e,n.scaleFactor()),r=new Qk(e,i);return iC(n,r),n.applyStyles(n.userStyles),r}function aC(t,e,n,i,r,s){var o={};return e.map(function(e,a){for(var l=0,c={},u=0,h=0,d=0,f=n;d<f.length;d++){var p=f[d];if(null==o[p.index]||0===o[p.index].left)if(0===h){var g=void 0,m={};"object"!==typeof(g=Array.isArray(e)?e[p.index-u-l]:e[p.dataKey])||Array.isArray(g)||(m=(null===g||void 0===g?void 0:g.styles)||{});var v=cC(t,p,a,r,i,s,m),y=new eC(g,v,t);c[p.dataKey]=y,c[p.index]=y,h=y.colSpan-1,o[p.index]={left:y.rowSpan-1,times:h}}else h--,u++;else o[p.index].left--,h=o[p.index].times,l++}return new tC(e,a,t,c)})}function lC(t,e){var n={};return t.forEach(function(t){if(null!=t.raw){var i=function(t,e){if("head"===t){if("object"===typeof e)return e.header||null;if("string"===typeof e||"number"===typeof e)return e}else if("foot"===t&&"object"===typeof e)return e.footer;return null}(e,t.raw);null!=i&&(n[t.dataKey]=i)}}),Object.keys(n).length>0?n:null}function cC(t,e,n,i,r,s,o){var a,l={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}}[i];"head"===t?a=r.headStyles:"body"===t?a=r.bodyStyles:"foot"===t&&(a=r.footStyles);var c=Yk({},l.table,l[t],r.styles,a),u=r.columnStyles[e.dataKey]||r.columnStyles[e.index]||{},h="body"===t?u:{},d="body"===t&&n%2===0?Yk({},l.alternateRow,r.alternateRowStyles):{},f=function(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}(s),p=Yk({},f,c,d,h);return Yk(p,o)}function uC(t,e,n){var i;void 0===n&&(n={});var r=Uk(t,e),s=new Map,o=[],a=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:"string"!==typeof e.settings.horizontalPageBreakRepeat&&"number"!==typeof e.settings.horizontalPageBreakRepeat||(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(t){var n=e.columns.find(function(e){return e.dataKey===t||e.index===t});n&&!s.has(n.index)&&(s.set(n.index,!0),o.push(n.index),a.push(e.columns[n.index]),r-=n.wrappedWidth)});for(var c=!0,u=null!==(i=null===n||void 0===n?void 0:n.start)&&void 0!==i?i:0;u<e.columns.length;)if(s.has(u))u++;else{var h=e.columns[u].wrappedWidth;if(!(c||r>=h))break;c=!1,o.push(u),a.push(e.columns[u]),r-=h,u++}return{colIndexes:o,columns:a,lastIndex:u-1}}function hC(t,e){var n=e.settings,i=n.startY,r=n.margin,s={x:r.left,y:i},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),a=i+r.bottom+o;"avoid"===n.pageBreak&&(a+=e.body.reduce(function(t,e){return t+e.height},0));var l=new Tk(t);("always"===n.pageBreak||null!=n.startY&&a>l.pageSize().height)&&(_C(l),s.y=r.top),e.callWillDrawPageHooks(l,s);var c=Yk({},s);e.startPageNumber=l.pageNumber(),n.horizontalPageBreak?function(t,e,n,i){var r=function(t,e){for(var n=[],i=0;i<e.columns.length;i++){var r=uC(t,e,{start:i});r.columns.length&&(n.push(r),i=r.lastIndex)}return n}(t,e),s=e.settings;if("afterAllRows"===s.horizontalPageBreakBehaviour)r.forEach(function(r,s){t.applyStyles(t.userStyles),s>0?bC(t,e,n,i,r.columns,!0):dC(t,e,i,r.columns),function(t,e,n,i,r){t.applyStyles(t.userStyles),e.body.forEach(function(s,o){var a=o===e.body.length-1;mC(t,e,s,a,n,i,r)})}(t,e,n,i,r.columns),pC(t,e,i,r.columns)});else for(var o=-1,a=r[0],l=function(){var s=o;if(a){t.applyStyles(t.userStyles);var l=a.columns;o>=0?bC(t,e,n,i,l,!0):dC(t,e,i,l),s=fC(t,e,o+1,i,l),pC(t,e,i,l)}var c=s-o;r.slice(1).forEach(function(r){t.applyStyles(t.userStyles),bC(t,e,n,i,r.columns,!0),fC(t,e,o+1,i,r.columns,c),pC(t,e,i,r.columns)}),o=s};o<e.body.length-1;)l()}(l,e,c,s):(l.applyStyles(l.userStyles),"firstPage"!==n.showHead&&"everyPage"!==n.showHead||e.head.forEach(function(t){return vC(l,e,t,s,e.columns)}),l.applyStyles(l.userStyles),e.body.forEach(function(t,n){var i=n===e.body.length-1;mC(l,e,t,i,c,s,e.columns)}),l.applyStyles(l.userStyles),"lastPage"!==n.showFoot&&"everyPage"!==n.showFoot||e.foot.forEach(function(t){return vC(l,e,t,s,e.columns)})),Dk(l,e,c,s),e.callEndPageHooks(l,s),e.finalY=s.y,t.lastAutoTable=e,l.applyStyles(l.userStyles)}function dC(t,e,n,i){var r=e.settings;t.applyStyles(t.userStyles),"firstPage"!==r.showHead&&"everyPage"!==r.showHead||e.head.forEach(function(r){return vC(t,e,r,n,i)})}function fC(t,e,n,i,r,s){t.applyStyles(t.userStyles),s=null!==s&&void 0!==s?s:e.body.length;var o=Math.min(n+s,e.body.length),a=-1;return e.body.slice(n,o).forEach(function(s,o){var l=n+o===e.body.length-1,c=wC(t,e,l,i);s.canEntireRowFit(c,r)&&(vC(t,e,s,i,r),a=n+o)}),a}function pC(t,e,n,i){var r=e.settings;t.applyStyles(t.userStyles),"lastPage"!==r.showFoot&&"everyPage"!==r.showFoot||e.foot.forEach(function(r){return vC(t,e,r,n,i)})}function gC(t,e,n){var i=n.getLineHeight(t.styles.fontSize),r=t.padding("vertical"),s=Math.floor((e-r)/i);return Math.max(0,s)}function mC(t,e,n,i,r,s,o){var a=wC(t,e,i,s);if(n.canEntireRowFit(a,o))vC(t,e,n,s,o);else if(function(t,e,n,i){var r=t.pageSize().height,s=i.settings.margin,o=r-(s.top+s.bottom);"body"===e.section&&(o-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var a=e.getMinimumRowHeight(i.columns,t),l=a<n;if(a>o)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!l)return!1;var c=e.hasRowSpan(i.columns);return e.getMaxCellHeight(i.columns)>o?(c&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!c&&"avoid"!==i.settings.rowPageBreak}(t,n,a,e)){var l=function(t,e,n,i){var r={};t.spansMultiplePages=!0,t.height=0;for(var s=0,o=0,a=n.columns;o<a.length;o++){var l=a[o];if(m=t.cells[l.index]){Array.isArray(m.text)||(m.text=[m.text]),(g=Yk(g=new eC(m.raw,m.styles,m.section),m)).text=[];var c=gC(m,e,i);m.text.length>c&&(g.text=m.text.splice(c,m.text.length));var u=i.scaleFactor(),h=i.getLineHeightFactor();m.contentHeight=m.getContentHeight(u,h),m.contentHeight>=e&&(m.contentHeight=e,g.styles.minCellHeight-=e),m.contentHeight>t.height&&(t.height=m.contentHeight),g.contentHeight=g.getContentHeight(u,h),g.contentHeight>s&&(s=g.contentHeight),r[l.index]=g}}var d=new tC(t.raw,-1,t.section,r,!0);d.height=s;for(var f=0,p=n.columns;f<p.length;f++){var g,m;l=p[f],(g=d.cells[l.index])&&(g.height=d.height),(m=t.cells[l.index])&&(m.height=t.height)}return d}(n,a,e,t);vC(t,e,n,s,o),bC(t,e,r,s,o),mC(t,e,l,i,r,s,o)}else bC(t,e,r,s,o),mC(t,e,n,i,r,s,o)}function vC(t,e,n,i,r){i.x=e.settings.margin.left;for(var s=0,o=r;s<o.length;s++){var a=o[s],l=n.cells[a.index];if(l)if(t.applyStyles(l.styles),l.x=i.x,l.y=i.y,!1!==e.callCellHooks(t,e.hooks.willDrawCell,l,n,a,i)){yC(t,l,i);var c=l.getTextPos();jk(l.text,c.x,c.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,n,a,i),i.x+=a.width}else i.x+=a.width;else i.x+=a.width}i.y+=n.height}function yC(t,e,n){var i=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),"number"===typeof i.lineWidth){var r=Bk(i.lineWidth,i.fillColor);r&&t.rect(e.x,n.y,e.width,e.height,r)}else"object"===typeof i.lineWidth&&(i.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),function(t,e,n,i){var r,s,o,a;i.top&&(r=n.x,s=n.y,o=n.x+e.width,a=n.y,i.right&&(o+=.5*i.right),i.left&&(r-=.5*i.left),l(i.top,r,s,o,a));i.bottom&&(r=n.x,s=n.y+e.height,o=n.x+e.width,a=n.y+e.height,i.right&&(o+=.5*i.right),i.left&&(r-=.5*i.left),l(i.bottom,r,s,o,a));i.left&&(r=n.x,s=n.y,o=n.x,a=n.y+e.height,i.top&&(s-=.5*i.top),i.bottom&&(a+=.5*i.bottom),l(i.left,r,s,o,a));i.right&&(r=n.x+e.width,s=n.y,o=n.x+e.width,a=n.y+e.height,i.top&&(s-=.5*i.top),i.bottom&&(a+=.5*i.bottom),l(i.right,r,s,o,a));function l(e,n,i,r,s){t.getDocument().setLineWidth(e),t.getDocument().line(n,i,r,s,"S")}}(t,e,n,i.lineWidth))}function wC(t,e,n,i){var r=e.settings.margin.bottom,s=e.settings.showFoot;return("everyPage"===s||"lastPage"===s&&n)&&(r+=e.getFootHeight(e.columns)),t.pageSize().height-i.y-r}function bC(t,e,n,i,r,s){void 0===r&&(r=[]),void 0===s&&(s=!1),t.applyStyles(t.userStyles),"everyPage"!==e.settings.showFoot||s||e.foot.forEach(function(n){return vC(t,e,n,i,r)}),e.callEndPageHooks(t,i);var o=e.settings.margin;Dk(t,e,n,i),_C(t),e.pageNumber++,i.x=o.left,i.y=o.top,n.y=o.top,e.callWillDrawPageHooks(t,i),"everyPage"===e.settings.showHead&&(e.head.forEach(function(n){return vC(t,e,n,i,r)}),t.applyStyles(t.userStyles))}function _C(t){var e=t.pageNumber();return t.setPage(e+1),t.pageNumber()===e&&(t.addPage(),!0)}function xC(t,e){hC(t,oC(t,Xk(t,e)))}try{if("undefined"!==typeof window&&window){var SC=window,kC=SC.jsPDF||(null===(Zk=SC.jspdf)||void 0===Zk?void 0:Zk.jsPDF);kC&&function(t){t.API.autoTable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return hC(this,oC(this,Xk(this,t[0]))),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(t,e,n,i){jk(t,e,n,i,this)},t.API.autoTableSetDefaults=function(t){return Tk.setDefaults(t,this),this},t.autoTableSetDefaults=function(t,e){Tk.setDefaults(t,e)},t.API.autoTableHtmlToJson=function(t,e){var n;if(void 0===e&&(e=!1),"undefined"===typeof window)return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=Vk(new Tk(this),t,window,e,!1),r=i.head,s=i.body,o=(null===(n=r[0])||void 0===n?void 0:n.map(function(t){return t.content}))||[];return{columns:o,rows:s,data:s}}}(kC)}}catch(nr){console.error("Could not apply autoTable plugin",nr)}const CC=qi.create({baseURL:"http://localhost:5000/api",timeout:15e3});CC.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization="Bearer ".concat(e)),t});const NC=()=>{var t,n,i,r,s,o,a,l,c;const{user:u}=Gi(),[h,d]=(0,e.useState)({totalUsers:0,activeUsers:0,totalComplaints:0,resolvedComplaints:0,pendingComplaints:0,newUsersThisRange:0,complaintResolutionRate:0,userGrowth:[],complaintTrends:[],systemMetrics:{},lastUpdated:null}),[f,p]=(0,e.useState)(!0),[g,m]=(0,e.useState)("month"),[v,y]=(0,e.useState)("overview"),[w,b]=(0,e.useState)(null),[_,x]=(0,e.useState)(!1),S=t=>{if(!t||"object"!==typeof t)return null;const e=Object.entries(t),n=e.reduce((t,e)=>{let[,n]=e;return t+(Number(n)||0)},0);if(0===n)return null;let i=0,r="";return e.forEach(t=>{let[e,s]=t;const o=Number(s)/n*100;o>i&&(i=o,r=e)}),{label:r,percent:i.toFixed(1)}},k=(0,e.useCallback)(async()=>{p(!0),b(null);try{var t,e,n,i,r,s,o,a,l,c;const u=await CC.get("/admin/reports?range=".concat(g)),h=u.data&&u.data.success?u.data:u.data||{},f={totalUsers:Number(null!==(t=h.totalUsers)&&void 0!==t?t:0),activeUsers:Number(null!==(e=null!==(n=h.activeUsers)&&void 0!==n?n:h.totalUsers)&&void 0!==e?e:0),totalComplaints:Number(null!==(i=h.totalComplaints)&&void 0!==i?i:0),resolvedComplaints:Number(null!==(r=h.resolvedComplaints)&&void 0!==r?r:0),pendingComplaints:Number(null!==(s=h.pendingComplaints)&&void 0!==s?s:0),newUsersThisRange:Number(null!==(o=null!==(a=h.newUsersThisRange)&&void 0!==a?a:h.newUsersThisMonth)&&void 0!==o?o:0),complaintResolutionRate:Number(null!==(l=h.complaintResolutionRate)&&void 0!==l?l:0),userGrowth:Array.isArray(h.userGrowth)?h.userGrowth:[],complaintTrends:Array.isArray(h.complaintTrends)?h.complaintTrends:[],systemMetrics:null!==(c=h.systemMetrics)&&void 0!==c?c:{},issueStatusCounts:"object"===typeof h.issueStatusCounts&&null!==h.issueStatusCounts?h.issueStatusCounts:{reported:0,"in progress":0,resolved:0,rejected:0},priorityCounts:"object"===typeof h.priorityCounts&&null!==h.priorityCounts?h.priorityCounts:{high:0,medium:0,low:0},lastUpdated:(new Date).toISOString()};d(f)}catch(u){console.error("Failed to load reports:",u),b("Failed to load reports. Check console for details.")}finally{p(!1)}},[g]),C=t=>({week:"Last 7 Days",month:"Last 30 Days",quarter:"Last Quarter",year:"Last Year"}[t]||t),N=t=>{if("pdf"===t)return void(async()=>{x(!0);try{const t=new Mx;t.setFillColor(59,130,246),t.rect(0,0,t.internal.pageSize.getWidth(),40,"F"),t.setTextColor(255,255,255),t.setFontSize(20),t.text("ADMIN ANALYTICS REPORT",105,20,{align:"center"}),t.setFontSize(12),t.text("Community Issues Resolution System",105,30,{align:"center"}),t.setTextColor(0,0,0);let e=55;t.setFontSize(10),t.setTextColor(100,100,100),t.text("Generated on: ".concat((new Date).toLocaleString()),14,e),t.text("Time Range: ".concat(C(g)),14,e+6),t.text("Generated by: ".concat((null===u||void 0===u?void 0:u.name)||"Admin"),14,e+12),e+=25,t.setFontSize(16),t.setTextColor(31,41,55),t.text("KEY METRICS OVERVIEW",14,e),e+=10,xC(t,{startY:e,head:[["Metric","Value"]],body:[["Total Users",h.totalUsers.toLocaleString()],["Active Users",h.activeUsers.toLocaleString()],["User Engagement Rate","".concat(E,"%")],["New Users",h.newUsersThisRange.toLocaleString()],["Total Complaints",h.totalComplaints.toLocaleString()],["Resolved Complaints",h.resolvedComplaints.toLocaleString()],["Pending Complaints",h.pendingComplaints.toLocaleString()],["Resolution Rate","".concat(h.complaintResolutionRate,"%")]],theme:"grid",headStyles:{fillColor:[59,130,246]},styles:{fontSize:10,cellPadding:3},margin:{left:14,right:14}}),e=t.lastAutoTable.finalY+15,t.setFontSize(16),t.setTextColor(31,41,55),t.text("SYSTEM PERFORMANCE",14,e),e+=10,xC(t,{startY:e,head:[["Metric","Value"]],body:[["Average Response Time",h.systemMetrics.avgResponseTime||"N/A"],["User Satisfaction",h.systemMetrics.userSatisfaction||"N/A"],["System Uptime",h.systemMetrics.systemUptime||"N/A"],["Active Sessions",h.systemMetrics.activeSessions||"N/A"]],theme:"grid",headStyles:{fillColor:[34,197,94]},styles:{fontSize:10,cellPadding:3},margin:{left:14,right:14}}),e=t.lastAutoTable.finalY+15,t.addPage(),e=20,t.setFontSize(16),t.setTextColor(31,41,55),t.text("ISSUE STATUS DISTRIBUTION",14,e),e+=10;const n=Object.entries(h.issueStatusCounts||{}),i=n.reduce((t,e)=>{let[,n]=e;return t+(Number(n)||0)},0);xC(t,{startY:e,head:[["Status","Count","Percentage"]],body:n.map(t=>{let[e,n]=t;return[e.charAt(0).toUpperCase()+e.slice(1),n,i>0?"".concat((n/i*100).toFixed(1),"%"):"0%"]}),theme:"grid",headStyles:{fillColor:[139,69,19]},styles:{fontSize:10,cellPadding:3},margin:{left:14,right:14}}),e=t.lastAutoTable.finalY+15,t.setFontSize(16),t.setTextColor(31,41,55),t.text("PRIORITY DISTRIBUTION",14,e),e+=10;const r=Object.entries(h.priorityCounts||{}),s=r.reduce((t,e)=>{let[,n]=e;return t+(Number(n)||0)},0);xC(t,{startY:e,head:[["Priority","Count","Percentage"]],body:r.map(t=>{let[e,n]=t;return[e.charAt(0).toUpperCase()+e.slice(1),n,s>0?"".concat((n/s*100).toFixed(1),"%"):"0%"]}),theme:"grid",headStyles:{fillColor:[234,88,12]},styles:{fontSize:10,cellPadding:3},margin:{left:14,right:14}}),e=t.lastAutoTable.finalY+15,h.userGrowth.length>0&&(t.setFontSize(16),t.setTextColor(31,41,55),t.text("USER GROWTH TREND",14,e),e+=10,xC(t,{startY:e,head:[["Month","Users"]],body:h.userGrowth.map(t=>[t.month,t.users]),theme:"grid",headStyles:{fillColor:[147,51,234]},styles:{fontSize:10,cellPadding:3},margin:{left:14,right:14}}),e=t.lastAutoTable.finalY+15),h.complaintTrends.length>0&&(e>200&&(t.addPage(),e=20),t.setFontSize(16),t.setTextColor(31,41,55),t.text("COMPLAINT CATEGORIES",14,e),e+=10,xC(t,{startY:e,head:[["Category","Count"]],body:h.complaintTrends.map(t=>[t.category,t.count]),theme:"grid",headStyles:{fillColor:[219,39,119]},styles:{fontSize:10,cellPadding:3},margin:{left:14,right:14}}));const o=t.internal.getNumberOfPages();for(let l=1;l<=o;l++)t.setPage(l),t.setFontSize(8),t.setTextColor(128,128,128),t.text("Page ".concat(l," of ").concat(o," \u2022 Generated by Community Issues Resolution System"),t.internal.pageSize.getWidth()/2,t.internal.pageSize.getHeight()-10,{align:"center"});const a="admin-report-".concat(C(g).toLowerCase().replace(/\s+/g,"-"),"-").concat((new Date).toISOString().split("T")[0],".pdf");t.save(a)}catch(w){console.error("Error generating PDF:",w),alert("Failed to generate PDF report. Please try again.")}finally{x(!1)}})();if("csv"===t){const t=[["metric","value"],["totalUsers",h.totalUsers],["activeUsers",h.activeUsers],["totalComplaints",h.totalComplaints],["resolvedComplaints",h.resolvedComplaints],["pendingComplaints",h.pendingComplaints],["newUsersThisRange",h.newUsersThisRange],["complaintResolutionRate",h.complaintResolutionRate]].map(t=>t.join(",")).join("\n"),e=new Blob([t],{type:"text/csv"}),n=window.URL.createObjectURL(e),i=document.createElement("a");return i.href=n,i.download="admin_report_".concat((new Date).toISOString().split("T")[0],".csv"),i.click(),void window.URL.revokeObjectURL(n)}const e=JSON.stringify(h,null,2),n=new Blob([e],{type:"application/json"}),i=window.URL.createObjectURL(n),r=document.createElement("a");r.href=i,r.download="admin_report_".concat((new Date).toISOString().split("T")[0],".json"),r.click(),window.URL.revokeObjectURL(i)},A=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t||"object"!==typeof t)return"conic-gradient(#eee 0deg 360deg)";const n=Object.entries(t||{}),i=n.reduce((t,e)=>{let[,n]=e;return t+(Number(n)||0)},0);if(0===i)return"conic-gradient(#eee 0deg 360deg)";let r=0;const s=n.map((t,n)=>{let[s,o]=t;const a=(Number(o)||0)/i*100,l=e[n%e.length]||"#ccc",c="".concat(l," ").concat(r,"% ").concat(r+a,"%");return r+=a,c});return"conic-gradient(".concat(s.join(", "),")")};(0,e.useEffect)(()=>{let t=!0;return(async()=>{u&&["admin","globaladmin"].includes(u.role)?t&&await k():t&&p(!1)})(),()=>{t=!1}},[u,g,k]);const E=h.totalUsers>0?Math.round(h.activeUsers/h.totalUsers*100):0;if(!u||!["admin","globaladmin"].includes(u.role))return(0,Wi.jsx)("div",{className:"admin-reports",children:(0,Wi.jsx)("div",{className:"container",children:(0,Wi.jsxs)("div",{className:"not-authorized",children:[(0,Wi.jsx)("h2",{children:"Access Denied"}),(0,Wi.jsx)("p",{children:"You must be an administrator to access this page."})]})})});if(f)return(0,Wi.jsx)("div",{className:"admin-reports",children:(0,Wi.jsx)("div",{className:"container",children:(0,Wi.jsxs)("div",{className:"loading",children:[(0,Wi.jsx)("div",{className:"loading-spinner"}),"Loading reports data..."]})})});const L=S(h.priorityCounts),P=S(h.issueStatusCounts);return(0,Wi.jsx)("div",{className:"admin-reports",children:(0,Wi.jsxs)("div",{className:"container",children:[(0,Wi.jsxs)("div",{className:"reports-header",children:[(0,Wi.jsxs)("div",{className:"header-content",children:[(0,Wi.jsx)("h1",{children:"Analytics & Reports"}),(0,Wi.jsx)("p",{children:"View system analytics and generate detailed reports (live)"})]}),(0,Wi.jsxs)("div",{className:"header-actions",children:[(0,Wi.jsxs)("button",{className:"btn export-primary",onClick:()=>N("pdf"),disabled:_,children:[(0,Wi.jsx)("span",{className:"btn-icon",children:(0,Wi.jsx)("i",{className:"bi bi-file-pdf"})}),_?"Generating PDF...":"Export PDF"]}),(0,Wi.jsxs)("button",{className:"btn export-secondary",onClick:()=>N("json"),children:[(0,Wi.jsx)("span",{className:"btn-icon",children:(0,Wi.jsx)("i",{className:"bi bi-download"})}),"Export JSON"]})]})]}),w?(0,Wi.jsxs)("div",{className:"section",children:[(0,Wi.jsx)("h3",{children:"Error"}),(0,Wi.jsx)("p",{style:{color:"red"},children:w})]}):null,(0,Wi.jsxs)("div",{className:"section",children:[(0,Wi.jsx)("h2",{children:"Key Metrics"}),(0,Wi.jsxs)("div",{className:"metrics-grid",children:[(0,Wi.jsxs)("div",{className:"metric-card",children:[(0,Wi.jsx)("div",{className:"metric-icon",children:(0,Wi.jsx)("span",{children:(0,Wi.jsx)("i",{className:"bi bi-people"})})}),(0,Wi.jsxs)("div",{className:"metric-content",children:[(0,Wi.jsx)("h3",{children:"Total Users"}),(0,Wi.jsx)("p",{className:"metric-value",children:h.totalUsers.toLocaleString()}),(0,Wi.jsxs)("p",{className:"metric-change positive",children:[(0,Wi.jsx)("strong",{children:"New This Range:"})," ",h.newUsersThisRange]})]})]}),(0,Wi.jsxs)("div",{className:"metric-card",children:[(0,Wi.jsx)("div",{className:"metric-icon",children:(0,Wi.jsx)("span",{children:(0,Wi.jsx)("i",{className:"bi bi-person-check"})})}),(0,Wi.jsxs)("div",{className:"metric-content",children:[(0,Wi.jsx)("h3",{children:"Active Users"}),(0,Wi.jsx)("p",{className:"metric-value",children:h.activeUsers.toLocaleString()}),(0,Wi.jsxs)("p",{className:"metric-subtitle",children:[E,"% engagement rate"]})]})]}),(0,Wi.jsxs)("div",{className:"metric-card",children:[(0,Wi.jsx)("div",{className:"metric-icon",children:(0,Wi.jsx)("span",{children:(0,Wi.jsx)("i",{className:"bi bi-exclamation-triangle"})})}),(0,Wi.jsxs)("div",{className:"metric-content",children:[(0,Wi.jsx)("h3",{children:"Total Complaints"}),(0,Wi.jsx)("p",{className:"metric-value",children:h.totalComplaints.toLocaleString()}),(0,Wi.jsxs)("p",{className:"metric-subtitle",children:[h.pendingComplaints," pending resolution"]})]})]}),(0,Wi.jsxs)("div",{className:"metric-card",children:[(0,Wi.jsx)("div",{className:"metric-icon",children:(0,Wi.jsx)("span",{children:(0,Wi.jsx)("i",{className:"bi bi-bullseye"})})}),(0,Wi.jsxs)("div",{className:"metric-content",children:[(0,Wi.jsx)("h3",{children:"Resolution Rate"}),(0,Wi.jsxs)("p",{className:"metric-value",children:[h.complaintResolutionRate,"%"]}),(0,Wi.jsxs)("p",{className:"metric-change positive",children:[h.resolvedComplaints," resolved \u2022"," ",null!==(t=h.systemMetrics.avgResponseTime)&&void 0!==t?t:"\u2014"," avg"]})]})]})]})]}),(0,Wi.jsxs)("div",{className:"section",children:[(0,Wi.jsxs)("div",{className:"section-header",children:[(0,Wi.jsxs)("div",{children:[(0,Wi.jsx)("h2",{children:"Reporting Dashboard"}),(0,Wi.jsx)("p",{children:"Live analytics and performance metrics"})]}),(0,Wi.jsxs)("div",{className:"time-range-selector",children:[(0,Wi.jsx)("label",{htmlFor:"timeRange",children:"Time Range:"}),(0,Wi.jsxs)("select",{id:"timeRange",value:g,onChange:t=>m(t.target.value),children:[(0,Wi.jsx)("option",{value:"week",children:"Last 7 Days"}),(0,Wi.jsx)("option",{value:"month",children:"Last 30 Days"}),(0,Wi.jsx)("option",{value:"quarter",children:"Last Quarter"}),(0,Wi.jsx)("option",{value:"year",children:"Last Year"})]})]})]}),(0,Wi.jsxs)("div",{className:"dashboard-grid",children:[(0,Wi.jsxs)("div",{className:"charts-section",children:[(0,Wi.jsxs)("div",{className:"chart-card large",children:[(0,Wi.jsxs)("div",{className:"chart-header",children:[(0,Wi.jsx)("h4",{children:"User Growth Trend"}),(0,Wi.jsxs)("div",{className:"chart-actions",children:[(0,Wi.jsxs)("span",{className:"data-info",children:[h.userGrowth.length," months data"]}),(0,Wi.jsxs)("button",{className:"btn btn-outline",onClick:k,children:[(0,Wi.jsx)("i",{className:"bi bi-arrow-clockwise"}),"Refresh Data"]})]})]}),(0,Wi.jsx)("div",{className:"chart-placeholder",children:(0,Wi.jsxs)("div",{className:"data-chart",children:[(0,Wi.jsx)("div",{className:"chart-bars",children:0===h.userGrowth.length?(0,Wi.jsx)("div",{style:{color:"#163832"},children:"No user growth data"}):h.userGrowth.map((t,e)=>{const n=Math.max(...h.userGrowth.map(t=>t.users),1),i=(t.users||0)/n*80;return(0,Wi.jsxs)("div",{className:"chart-bar-container",children:[(0,Wi.jsx)("div",{className:"chart-bar",style:{height:"".concat(i,"px")},title:"".concat(t.month,": ").concat(t.users," users"),children:(0,Wi.jsx)("div",{className:"chart-bar-value",children:t.users})}),(0,Wi.jsx)("span",{className:"chart-label",children:t.month})]},e)})}),(0,Wi.jsxs)("p",{className:"chart-description",children:["User growth over ",h.userGrowth.length," months"]})]})})]}),(0,Wi.jsxs)("div",{className:"pie-charts-wrapper",children:[(0,Wi.jsxs)("div",{className:"pie-card",children:[(0,Wi.jsx)("h4",{children:"Issue Status Distribution"}),(0,Wi.jsx)("div",{className:"donut",style:{background:A(h.issueStatusCounts,["#051f20","#235347","#daf1de","#9E9E9E"])},children:P&&(0,Wi.jsxs)("div",{className:"donut-center-content",children:[(0,Wi.jsxs)("span",{className:"donut-percent",children:[P.percent,"%"]}),(0,Wi.jsx)("span",{className:"donut-label",children:P.label})]})}),(0,Wi.jsx)("div",{className:"donut-legend",children:Object.entries(h.issueStatusCounts||{}).map((t,e)=>{let[n,i]=t;const r=Object.values(h.issueStatusCounts||{}).reduce((t,e)=>t+e,0),s=r>0?(i/r*100).toFixed(1):0;return(0,Wi.jsxs)("div",{className:"legend-row",children:[(0,Wi.jsx)("span",{className:"legend-color",style:{background:["#051f20","#235347","#daf1de","#9E9E9E"][e]}}),(0,Wi.jsxs)("span",{className:"legend-text",children:[n," \u2014 ",(0,Wi.jsx)("strong",{children:i})," (",s,"%)"]})]},e)})})]}),(0,Wi.jsxs)("div",{className:"pie-card",children:[(0,Wi.jsx)("h4",{children:"Priority Distribution"}),(0,Wi.jsx)("div",{className:"donut",style:{background:A(h.priorityCounts,["#051f20","#235347","#daf1de"])},children:L&&(0,Wi.jsxs)("div",{className:"donut-center-content",children:[(0,Wi.jsxs)("span",{className:"donut-percent",children:[L.percent,"%"]}),(0,Wi.jsx)("span",{className:"donut-label",children:L.label})]})}),(0,Wi.jsx)("div",{className:"donut-legend",children:Object.entries(h.priorityCounts||{}).map((t,e)=>{let[n,i]=t;const r=Object.values(h.priorityCounts||{}).reduce((t,e)=>t+e,0),s=r>0?(i/r*100).toFixed(1):0;return(0,Wi.jsxs)("div",{className:"legend-row",children:[(0,Wi.jsx)("span",{className:"legend-color",style:{background:["#051f20","#235347","#daf1de"][e]}}),(0,Wi.jsxs)("span",{className:"legend-text",children:[n," \u2014 ",(0,Wi.jsx)("strong",{children:i})," (",s,"%)"]})]},n)})})]})]})]}),(0,Wi.jsxs)("div",{className:"reports-sidebar",children:[(0,Wi.jsxs)("div",{className:"sidebar-card",children:[(0,Wi.jsx)("h5",{children:"System Performance"}),(0,Wi.jsxs)("div",{className:"stats-list",children:[(0,Wi.jsxs)("div",{className:"stat-item",children:[(0,Wi.jsx)("span",{className:"stat-label",children:"Avg. Response Time"}),(0,Wi.jsx)("span",{className:"stat-value",children:null!==(n=h.systemMetrics.avgResponseTime)&&void 0!==n?n:"\u2014"})]}),(0,Wi.jsxs)("div",{className:"stat-item",children:[(0,Wi.jsx)("span",{className:"stat-label",children:"User Satisfaction"}),(0,Wi.jsx)("span",{className:"stat-value",children:null!==(i=h.systemMetrics.userSatisfaction)&&void 0!==i?i:"\u2014"})]}),(0,Wi.jsxs)("div",{className:"stat-item",children:[(0,Wi.jsx)("span",{className:"stat-label",children:"System Uptime"}),(0,Wi.jsx)("span",{className:"stat-value",children:null!==(r=h.systemMetrics.systemUptime)&&void 0!==r?r:"\u2014"})]}),(0,Wi.jsxs)("div",{className:"stat-item",children:[(0,Wi.jsx)("span",{className:"stat-label",children:"Active Sessions"}),(0,Wi.jsx)("span",{className:"stat-value",children:null!==(s=h.systemMetrics.activeSessions)&&void 0!==s?s:"\u2014"})]})]})]}),(0,Wi.jsxs)("div",{className:"sidebar-card",children:[(0,Wi.jsx)("h5",{children:"Generate Reports"}),(0,Wi.jsxs)("div",{className:"action-buttons",children:[(0,Wi.jsxs)("button",{className:"actionss-btn",onClick:()=>N("pdf"),disabled:_,children:[(0,Wi.jsx)("span",{className:"action-icon",children:(0,Wi.jsx)("i",{className:"bi bi-file-pdf"})}),_?"Generating...":"PDF Report"]}),(0,Wi.jsxs)("button",{className:"actionss-btn",onClick:()=>N("json"),children:[(0,Wi.jsx)("span",{className:"action-icon",children:(0,Wi.jsx)("i",{className:"bi bi-clipboard2-data"})}),"JSON Report"]}),(0,Wi.jsxs)("button",{className:"actionss-btn",onClick:()=>N("csv"),children:[(0,Wi.jsx)("span",{className:"action-icon",children:(0,Wi.jsx)("i",{className:"bi bi-pass"})}),"CSV Export"]}),(0,Wi.jsxs)("button",{className:"actionss-btn",onClick:k,children:[(0,Wi.jsx)("span",{className:"action-icon",children:(0,Wi.jsx)("i",{className:"bi bi-arrow-clockwise"})}),"Refresh Data"]})]})]}),(0,Wi.jsxs)("div",{className:"sidebar-card",children:[(0,Wi.jsx)("h5",{children:"Data Status"}),(0,Wi.jsxs)("div",{className:"status-list",children:[(0,Wi.jsxs)("div",{className:"status-item",children:[(0,Wi.jsx)("span",{className:"status-label",children:"Data Source"}),(0,Wi.jsx)("span",{className:"status-value",children:"Live Backend"})]}),(0,Wi.jsxs)("div",{className:"status-item",children:[(0,Wi.jsx)("span",{className:"status-label",children:"Last Updated"}),(0,Wi.jsx)("span",{className:"status-value",children:h.lastUpdated?new Date(h.lastUpdated).toLocaleString():(new Date).toLocaleString()})]}),(0,Wi.jsxs)("div",{className:"status-item",children:[(0,Wi.jsx)("span",{className:"status-label",children:"Time Range"}),(0,Wi.jsx)("span",{className:"status-value",children:g})]})]})]})]})]}),(0,Wi.jsxs)("div",{className:"chart-card full-width",children:[(0,Wi.jsx)("h4",{children:"Complaint Distribution"}),(0,Wi.jsx)("div",{className:"chart-placeholder",children:(0,Wi.jsxs)("div",{className:"data-chart",children:[(0,Wi.jsx)("div",{className:"complaint-categories",children:0===h.complaintTrends.length?(0,Wi.jsx)("div",{style:{color:"#163832"},children:"No complaint trends"}):h.complaintTrends.map((t,e)=>(0,Wi.jsxs)("div",{className:"category-item",children:[(0,Wi.jsx)("span",{className:"category-name",children:t.category}),(0,Wi.jsx)("span",{className:"category-count",children:t.count})]},e))}),(0,Wi.jsxs)("p",{className:"chart-description",children:[h.complaintTrends.length," complaint categories"]})]})})]})]}),(0,Wi.jsxs)("div",{className:"section",children:[(0,Wi.jsx)("h3",{children:"Data Summary"}),(0,Wi.jsxs)("div",{className:"data-summary",children:[(0,Wi.jsxs)("div",{className:"summary-card",children:[(0,Wi.jsx)("h4",{children:"User Statistics"}),(0,Wi.jsxs)("div",{className:"summary-content",children:[(0,Wi.jsxs)("p",{children:[(0,Wi.jsx)("strong",{children:"Total Registered:"})," ",h.totalUsers.toLocaleString()]}),(0,Wi.jsxs)("p",{children:[(0,Wi.jsx)("strong",{children:"Currently Active:"})," ",h.activeUsers.toLocaleString()]}),(0,Wi.jsxs)("p",{children:[(0,Wi.jsx)("strong",{children:"New This Range:"})," ",h.newUsersThisRange]}),(0,Wi.jsxs)("p",{children:[(0,Wi.jsx)("strong",{children:"Engagement Rate:"})," ",E,"%"]})]})]}),(0,Wi.jsxs)("div",{className:"summary-card",children:[(0,Wi.jsx)("h4",{children:"Complaint Analytics"}),(0,Wi.jsxs)("div",{className:"summary-content",children:[(0,Wi.jsxs)("p",{children:[(0,Wi.jsx)("strong",{children:"Total Complaints:"})," ",h.totalComplaints.toLocaleString()]}),(0,Wi.jsxs)("p",{children:[(0,Wi.jsx)("strong",{children:"Resolved:"})," ",h.resolvedComplaints.toLocaleString()]}),(0,Wi.jsxs)("p",{children:[(0,Wi.jsx)("strong",{children:"Pending:"})," ",h.pendingComplaints.toLocaleString()]}),(0,Wi.jsxs)("p",{children:[(0,Wi.jsx)("strong",{children:"Resolution Rate:"})," ",h.complaintResolutionRate,"%"]})]})]}),(0,Wi.jsxs)("div",{className:"summary-card",children:[(0,Wi.jsx)("h4",{children:"System Health"}),(0,Wi.jsxs)("div",{className:"summary-content",children:[(0,Wi.jsxs)("p",{children:[(0,Wi.jsx)("strong",{children:"Avg Response Time:"})," ",null!==(o=h.systemMetrics.avgResponseTime)&&void 0!==o?o:"\u2014"]}),(0,Wi.jsxs)("p",{children:[(0,Wi.jsx)("strong",{children:"User Satisfaction:"})," ",null!==(a=h.systemMetrics.userSatisfaction)&&void 0!==a?a:"\u2014"]}),(0,Wi.jsxs)("p",{children:[(0,Wi.jsx)("strong",{children:"System Uptime:"})," ",null!==(l=h.systemMetrics.systemUptime)&&void 0!==l?l:"\u2014"]}),(0,Wi.jsxs)("p",{children:[(0,Wi.jsx)("strong",{children:"Active Sessions:"})," ",null!==(c=h.systemMetrics.activeSessions)&&void 0!==c?c:"\u2014"]})]})]})]})]})]})})},AC=t=>{const e=Math.floor((new Date-new Date(t))/1e3);let n=Math.floor(e/31536e3);return n>=1?n+" years ago":(n=Math.floor(e/2592e3),n>=1?n+" months ago":(n=Math.floor(e/86400),n>=1?n+" days ago":(n=Math.floor(e/3600),n>=1?n+" hours ago":(n=Math.floor(e/60),n>=1?n+" minutes ago":"just now"))))},EC={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000",LC=()=>{var t,n;const{user:i}=Gi(),r="globaladmin"===(null===i||void 0===i?void 0:i.role),s=r||"admin"===(null===i||void 0===i?void 0:i.role),[a,l]=(0,e.useState)([]),[c,u]=(0,e.useState)([]),[h,d]=(0,e.useState)("all"),[f,p]=(0,e.useState)("priority"),[g,m]=(0,e.useState)(null),[v,y]=(0,e.useState)(null),[w,b]=(0,e.useState)({}),[_,x]=(0,e.useState)(""),[S,k]=(0,e.useState)(0),[C,N]=(0,e.useState)(!1),[A,E]=(0,e.useState)(!1),[L,P]=((null===i||void 0===i?void 0:i._id)||(null===i||void 0===i||i.id),(0,e.useState)([])),[j,R]=(0,e.useState)(1),[T,I]=(0,e.useState)(1),[F,O]=(0,e.useState)(!0),[M,D]=(0,e.useState)(1),[B,z]=(0,e.useState)(!0),U=(0,e.useRef)(new Set),q=["reported","in progress","resolved","closed"],W=t=>{if(!t)return;const e=t._id||t.id,n=n=>n.map(n=>(n._id||n.id)===e?t:n);l(n),u(n),b(n=>o(o({},n),{},{[e]:t.comments||[]})),g&&(g._id||g.id)===e&&m(t),v&&(v._id||v.id)===e&&y(t)},H=async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!C)try{N(!0);const n=localStorage.getItem("token"),i=await qi.get("".concat(EC,"/api/issues/").concat(t,"/comments?page=").concat(e),{headers:{Authorization:"Bearer ".concat(n)}});P(1===e?i.data.comments:t=>[...t,...i.data.comments]),I(i.data.totalPages||1),O(e<(i.data.totalPages||1)),R(e)}catch(n){console.error("Error loading comments:",n)}finally{N(!1)}};(0,e.useEffect)(()=>{const t=()=>{const t=document.querySelector(".comments-list");if(!t||C||!F)return;const{scrollTop:e,scrollHeight:n,clientHeight:i}=t;if(e+i>=n-10){const t=j+1;H(v._id||v.id,t),R(t)}},e=document.querySelector(".comments-list");return e&&e.addEventListener("scroll",t),()=>{e&&e.removeEventListener("scroll",t)}},[C,F,v,j]);const V=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,{reset:e=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!A)try{var n;E(!0);const r=localStorage.getItem("token"),s=await qi.get("".concat(EC,"/api/issues?page=").concat(t,"&limit=").concat(20),{headers:{Authorization:"Bearer ".concat(r)}}),a="undefined"!==typeof s.data.totalPages;let c=[],h=[];if(null!==(n=s.data)&&void 0!==n&&n.success)c=s.data.localIssues||[],h=s.data.otherIssues||[];else{const t=s.data.issues||s.data||[],e=((null===i||void 0===i?void 0:i.postalCode)||"").toString().trim();t.forEach(t=>{const n=(t.postalCode||"").toString().trim();e&&n&&n===e?c.push(t):h.push(t)})}const d=(t,e)=>{const n=[...t];return e.forEach(t=>{const e=t._id||t.id;U.current.has(e)||(U.current.add(e),n.push(t))}),n};if(e?(U.current=new Set,c=c.filter(t=>{const e=t._id||t.id;return U.current.add(e),!0}),h=h.filter(t=>{const e=t._id||t.id;return U.current.add(e),!0}),l(c),u(h)):(l(t=>d(t,c)),u(t=>d(t,h))),b(t=>{const e=o({},t||{});return[...c,...h].forEach(t=>{const n=t._id||t.id;e[n]=t.comments||e[n]||[]}),e}),a)z(t<(s.data.totalPages||1));else{const t=c.length+h.length||0;z(t>=20)}D(t)}catch(r){console.error("Error loading complaints:",r)}finally{E(!1)}};(0,e.useEffect)(()=>{V(1,{reset:!0})},[]),(0,e.useEffect)(()=>{const t=document.querySelector(".complaints-scroll-container");if(!t)return;let e=!1;const n=()=>{e||(e=!0,requestAnimationFrame(()=>{const{scrollTop:n,clientHeight:i,scrollHeight:r}=t;if(n+i>=r-150&&!A&&B){V(M+1)}e=!1}))};return t.addEventListener("scroll",n),()=>t.removeEventListener("scroll",n)},[M,A,B]),(0,e.useEffect)(()=>{l([]),u([]),U.current=new Set,z(!0),D(1),V(1,{reset:!0})},[h,f]);const G=t=>{let e=[...t];const n={high:1,medium:2,low:3,undefined:4};if("all"!==h&&(e=e.filter(t=>t.priority===h)),"priority"===f)e.sort((t,e)=>n[t.priority]-n[e.priority]||new Date(e.createdAt)-new Date(t.createdAt));else if("newest"===f)e.sort((t,e)=>new Date(e.createdAt)-new Date(t.createdAt));else if("comments"===f)e.sort((t,e)=>(e.commentsCount||0)-(t.commentsCount||0));else if("status"===f){const t=t=>(t||"").toString().toLowerCase().replace(/_/g," ").trim(),n={reported:1,"in progress":2,resolved:3,closed:4};e.sort((e,i)=>{const r=t(e.status),s=t(i.status);return(n[r]||5)-(n[s]||5)})}return e},K=async t=>{const e=a.some(e=>(e._id||e.id)===t);if(!r&&!e)return void $i().fire({icon:"warning",title:"Access Denied",text:"You can only delete reports from your designated area.",confirmButtonColor:"#005347"});if((await $i().fire({title:"Confirm Deletion?",text:"This issue and all associated data will be PERMANENTLY DELETED. This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#005347",confirmButtonText:"Yes, Delete Post",cancelButtonText:"Cancel",className:"swalalerts"})).isConfirmed)try{var n;const e=localStorage.getItem("token");null!==(n=(await qi.delete("".concat(EC,"/api/admin/issues/").concat(t),{headers:{Authorization:"Bearer ".concat(e)}})).data)&&void 0!==n&&n.success&&((t=>{const e=e=>(e._id||e.id)!==t;l(t=>t.filter(e)),u(t=>t.filter(e)),g&&(g._id||g.id)===t&&m(null),v&&(v._id||v.id)===t&&y(null),U.current.delete(t)})(t),Z(),$i().fire({icon:"success",title:"Issue Deleted!",text:"The complaint has been permanently removed.",confirmButtonColor:"#005347",timer:3e3,timerProgressBar:!0}))}catch(o){var i,s;console.error("Issue deletion error:",o),$i().fire({icon:"error",title:"Deletion Failed",text:(null===(i=o.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.message)||"Could not delete issue.",confirmButtonColor:"#d33"})}},Y=t=>{var e;const n=t._id||t.id,i={high:"#e63946",medium:"#ffb703",low:"#2a9d8f"}[t.priority]||"#6c757d",s=(t.status||"reported").toLowerCase().replace(/_/g," "),o={reported:"#ff075eff","in progress":"#1410e2ff",resolved:"#2a703aff",closed:"#6c757d"}[s]||"#999999",l=s.replace(/\b\w/g,t=>t.toUpperCase()),u=a.some(t=>(t._id||t.id)===n),h=r||u;return(0,Wi.jsxs)("article",{className:"complaint-card","aria-labelledby":"title-".concat(n),children:[(0,Wi.jsxs)("div",{className:"card-image-wrapper",onClick:()=>X(t),children:[(0,Wi.jsxs)("div",{className:"card-badges",children:[(0,Wi.jsxs)("div",{className:"badge-group",children:[(0,Wi.jsx)("span",{className:"badge",style:{background:i},children:(null===(e=t.priority)||void 0===e?void 0:e.toUpperCase())||"N/A"}),(0,Wi.jsx)("span",{className:"badge",style:{background:o},children:l})]}),(0,Wi.jsx)("span",{className:"time-badge",children:AC(new Date(t.createdAt))})]}),(0,Wi.jsx)("img",{src:t.imageUrls&&t.imageUrls[0]||"/placeholder.jpg",alt:t.title,className:"complaint-image"})]}),(0,Wi.jsxs)("div",{className:"complaint-content",children:[(0,Wi.jsx)("p",{id:"title-".concat(n),className:"complaint-title",children:t.title}),(0,Wi.jsx)("p",{className:"complaint-description",children:t.description||"No description available."})]}),(0,Wi.jsx)("div",{className:"complaint-actions ".concat(h?"admin-card-controls":"user-card-controls"),children:h?(0,Wi.jsxs)(Wi.Fragment,{children:[(0,Wi.jsx)("div",{className:"status-control",children:(0,Wi.jsx)("select",{className:"btn-status-select",value:s,onChange:t=>(async(t,e)=>{const n=[...a,...c].find(e=>(e._id||e.id)===t);if(e===(null===n||void 0===n?void 0:n.status))return;const i=a.some(e=>(e._id||e.id)===t);if(r||i)try{var s;const n=localStorage.getItem("token"),i=await qi.patch("".concat(EC,"/api/admin/issues/").concat(t,"/status"),{status:e},{headers:{Authorization:"Bearer ".concat(n)}});null!==(s=i.data)&&void 0!==s&&s.success&&i.data.issue&&(W(i.data.issue),$i().fire({icon:"success",title:"Status Updated!",text:'Complaint status changed to "'.concat(e.toUpperCase(),'".'),confirmButtonColor:"#005347",timer:3e3,timerProgressBar:!0}))}catch(u){var o,l;console.error("Status update error:",u),$i().fire({icon:"error",title:"Update Failed",text:(null===(o=u.response)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.message)||"Could not update status.",confirmButtonColor:"#d33"})}else $i().fire({icon:"warning",title:"Access Denied",text:"You can only update the status of reports in your designated area.",confirmButtonColor:"#005347"})})(n,t.target.value),children:q.map(t=>(0,Wi.jsx)("option",{value:t,children:t.charAt(0).toUpperCase()+t.slice(1)},t))})}),(0,Wi.jsxs)("button",{className:"action-btn btn-comment",onClick:()=>J(t),title:"Comments",children:[(0,Wi.jsx)("i",{className:"bi bi-chat-left-text"})," ",t.commentsCount||0]}),(0,Wi.jsx)("button",{className:"action-btn btn-view",onClick:()=>X(t),title:"View Details",children:(0,Wi.jsx)("i",{className:"bi bi-eye"})}),(0,Wi.jsx)("button",{className:"action-btn btn-delete",onClick:t=>{t.stopPropagation(),K(n)},title:"Delete Issue",children:(0,Wi.jsx)("i",{className:"bi bi-trash-fill"})})]}):(0,Wi.jsxs)(Wi.Fragment,{children:[(0,Wi.jsxs)("div",{style:{display:"flex",alignItems:"center",color:"#999",fontSize:"0.8rem"},children:[(0,Wi.jsx)("i",{className:"bi bi-info-circle",style:{marginRight:5}})," ","Non-local"]}),(0,Wi.jsxs)("button",{className:"action-btn btn-comment",onClick:()=>J(t),children:[(0,Wi.jsx)("i",{className:"bi bi-chat-left-text"})," ",t.commentsCount||0]}),(0,Wi.jsx)("button",{className:"action-btn btn-view",onClick:()=>X(t),children:"View"})]})})]},n)},X=t=>{m(t),k(0),document.body.classList.add("modal-open")},Z=()=>{m(null),k(0),document.body.classList.remove("modal-open")},J=t=>{y(t),H(t._id||t.id,1),R(1),document.body.classList.add("modal-open")},$=()=>{y(null),x(""),P([]),R(1),I(1),O(!0),document.body.classList.remove("modal-open")};return(0,Wi.jsxs)("div",{className:"view-complaints-page",children:[(0,Wi.jsxs)("div",{className:"complaints-page-header",children:[(0,Wi.jsxs)("div",{className:"header-titles",children:[(0,Wi.jsx)("h1",{children:"Community Reports"}),(0,Wi.jsx)("p",{children:"See what issues your community is reporting and show your support"})]}),(0,Wi.jsxs)("div",{className:"header-controls",children:[(0,Wi.jsxs)("div",{className:"filter-group",children:[(0,Wi.jsx)("label",{children:"Priority"}),(0,Wi.jsxs)("select",{className:"modern-select",value:h,onChange:t=>d(t.target.value),children:[(0,Wi.jsx)("option",{value:"all",children:"All Priorities"}),(0,Wi.jsx)("option",{value:"high",children:"High"}),(0,Wi.jsx)("option",{value:"medium",children:"Medium"}),(0,Wi.jsx)("option",{value:"low",children:"Low"})]})]}),(0,Wi.jsxs)("div",{className:"filter-group",children:[(0,Wi.jsx)("label",{children:"Sort By"}),(0,Wi.jsxs)("select",{className:"modern-select",value:f,onChange:t=>p(t.target.value),children:[(0,Wi.jsx)("option",{value:"priority",children:"Priority"}),(0,Wi.jsx)("option",{value:"newest",children:"Newest First"}),(0,Wi.jsx)("option",{value:"comments",children:"Most Active"}),(0,Wi.jsx)("option",{value:"status",children:"Status"})]})]})]})]}),A&&(0,Wi.jsx)("p",{style:{textAlign:"center",color:"#fff"},children:"Loading reports\u2026"}),(0,Wi.jsxs)("div",{className:"complaints-scroll-container",children:[(0,Wi.jsxs)("section",{"aria-label":"Your area reports",children:[(0,Wi.jsx)("h2",{className:"section-title",children:"Reports in your area"}),0===G(a).length?(0,Wi.jsx)("p",{style:{textAlign:"center",color:"var(--g-accent)"},children:"No reports found in your postal code matching current filters."}):(0,Wi.jsx)("div",{className:"complaints-grid",children:G(a).map(Y)})]}),(0,Wi.jsxs)("section",{"aria-label":"Other reports",style:{marginTop:"4rem"},children:[(0,Wi.jsx)("h2",{className:"section-title",children:"Other reports"}),0===G(c).length?(0,Wi.jsx)("p",{style:{textAlign:"center",color:"var(--g-accent)"},children:"No other reports found matching current filters."}):(0,Wi.jsx)("div",{className:"complaints-grid",children:G(c).map(Y)})]})]}),g&&(0,Wi.jsx)("div",{className:"modal-overlay",onClick:Z,children:(0,Wi.jsxs)("div",{className:"modal-box",onClick:t=>t.stopPropagation(),children:[(0,Wi.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,Wi.jsx)("h2",{children:g.title}),(0,Wi.jsx)("button",{className:"action-btn",onClick:Z,style:{background:"#eee"},children:(0,Wi.jsx)("i",{className:"bi bi-x-lg"})})]}),(0,Wi.jsx)("div",{className:"modal-image-container",children:g.imageUrls&&g.imageUrls.length>0?(0,Wi.jsxs)(Wi.Fragment,{children:[(0,Wi.jsx)("img",{src:g.imageUrls[S],alt:"Complaint Proof",className:"modal-image",onClick:()=>window.open(g.imageUrls[S],"_blank"),style:{cursor:"pointer"},title:"Click to open full image in new tab"}),g.imageUrls.length>1&&(0,Wi.jsxs)("div",{onClick:window.open,style:{position:"absolute",bottom:10,background:"rgba(0,0,0,0.5)",color:"white",padding:"4px 8px",borderRadius:10,fontSize:"0.8rem"},children:[S+1," /"," ",g.imageUrls.length]}),g.imageUrls.length>1&&(0,Wi.jsxs)(Wi.Fragment,{children:[(0,Wi.jsx)("button",{onClick:()=>{var t;null!==g&&void 0!==g&&null!==(t=g.imageUrls)&&void 0!==t&&t.length&&k(t=>(t-1+g.imageUrls.length)%g.imageUrls.length)},style:{position:"absolute",left:10,background:"rgba(255,255,255,0.8)",border:"none",borderRadius:"50%",width:36,height:36,cursor:"pointer"},children:(0,Wi.jsx)("i",{className:"bi bi-chevron-left"})}),(0,Wi.jsx)("button",{onClick:()=>{var t;null!==g&&void 0!==g&&null!==(t=g.imageUrls)&&void 0!==t&&t.length&&k(t=>(t+1)%g.imageUrls.length)},style:{position:"absolute",right:10,background:"rgba(255,255,255,0.8)",border:"none",borderRadius:"50%",width:36,height:36,cursor:"pointer"},children:(0,Wi.jsx)("i",{className:"bi bi-chevron-right"})})]})]}):(0,Wi.jsx)("p",{style:{color:"#888"},children:"No images provided"})}),(0,Wi.jsxs)("div",{className:"modal-info-row",children:[(0,Wi.jsxs)("div",{className:"info-item",onClick:()=>(t=>{const e=t.address||t.location||t.title;e&&window.open("https://www.google.com/maps?q=".concat(encodeURIComponent(e)),"_blank")})(g),title:g.address||g.location,style:{cursor:"pointer",alignItems:"flex-start",maxWidth:"90%"},children:[(0,Wi.jsx)("i",{className:"bi bi-geo-alt-fill",style:{marginTop:"4px",flexShrink:0}}),(0,Wi.jsxs)("div",{style:{display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,Wi.jsx)("span",{style:{display:"block",maxWidth:"600px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:g.address||g.location||"Location not set"}),g.landmark&&(0,Wi.jsxs)("span",{style:{fontSize:"0.85rem",color:"#888",marginTop:"2px"},children:["Landmark: ",g.landmark]})]})]}),(0,Wi.jsxs)("div",{className:"info-item",style:{minWidth:"150px"},children:[(0,Wi.jsx)("i",{className:"bi bi-person-fill",style:{flexShrink:0}}),(null===(t=g.reportedBy)||void 0===t?void 0:t.name)||(null===(n=g.reportedBy)||void 0===n?void 0:n.username)||"Anonymous User"]})]}),(0,Wi.jsx)("p",{style:{lineHeight:1.6,color:"#444",marginBottom:"2rem"},children:g.description}),(0,Wi.jsx)("div",{style:{display:"flex",gap:10},children:(0,Wi.jsxs)("button",{className:"action-btn btn-view",onClick:()=>{Z(),J(g)},children:[(0,Wi.jsx)("i",{className:"bi bi-chat-left-text"})," View Discussion"]})})]})}),v&&(0,Wi.jsx)("div",{className:"modal-overlay",onClick:$,children:(0,Wi.jsxs)("div",{className:"modal-box",onClick:t=>t.stopPropagation(),children:[(0,Wi.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,Wi.jsxs)("h2",{children:["Discussion: ",v.title]}),(0,Wi.jsx)("button",{className:"action-btn",onClick:$,style:{background:"#eee"},children:(0,Wi.jsx)("i",{className:"bi bi-x-lg"})})]}),(0,Wi.jsxs)("div",{className:"comments-section",children:[(0,Wi.jsxs)("div",{className:"comment-input-area",children:[(0,Wi.jsx)("textarea",{className:"comment-input",rows:"2",placeholder:"Write a comment...",value:_,onChange:t=>x(t.target.value)}),(0,Wi.jsx)("button",{className:"action-btn btn-view",onClick:()=>(async t=>{const e=(_||"").trim();if(e&&t)try{var n;const i=localStorage.getItem("token"),r=await qi.post("".concat(EC,"/api/issues/").concat(t,"/comments"),{text:e},{headers:{Authorization:"Bearer ".concat(i)}});null!==(n=r.data)&&void 0!==n&&n.success&&(r.data.comment&&P(t=>[r.data.comment,...t||[]]),b(e=>o(o({},e||{}),{},{[t]:[r.data.comment,...(null===e||void 0===e?void 0:e[t])||[]]})),r.data.issue?W(r.data.issue):(l(e=>e.map(e=>(e._id||e.id)===t?o(o({},e),{},{commentsCount:(e.commentsCount||0)+1}):e)),u(e=>e.map(e=>(e._id||e.id)===t?o(o({},e),{},{commentsCount:(e.commentsCount||0)+1}):e))),x(""))}catch(i){console.error("Error posting comment:",i),alert("Failed to post comment.")}else e||alert("Please enter a comment.")})(v._id||v.id),style:{height:"fit-content",alignSelf:"center"},children:"Post"})]}),(0,Wi.jsx)("div",{className:"comments-list",children:L.length>0?L.map((t,e)=>{const n=t.userId&&"object"===typeof t.userId&&(t.userId.name||t.userId.username)||"User",r=t.userId&&("object"===typeof t.userId?t.userId._id:t.userId.toString())===((null===i||void 0===i?void 0:i._id)||(null===i||void 0===i?void 0:i.id));return(0,Wi.jsxs)("div",{className:"comment-bubble",children:[(0,Wi.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:5},children:[(0,Wi.jsx)("strong",{children:n}),(0,Wi.jsx)("span",{style:{fontSize:"0.75rem",color:"#888"},children:AC(new Date(t.createdAt))})]}),(0,Wi.jsx)("p",{style:{margin:0,color:"#333"},children:t.text}),(r||s)&&(0,Wi.jsx)("button",{onClick:()=>(async(t,e)=>{if((await $i().fire({title:"Delete Comment?",text:"This cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#005347",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it"})).isConfirmed)try{var n;const i=localStorage.getItem("token");null!==(n=(await qi.delete("".concat(EC,"/api/issues/").concat(t,"/comments/").concat(e),{headers:{Authorization:"Bearer ".concat(i)}})).data)&&void 0!==n&&n.success&&(P(t=>t.filter(t=>t._id!==e)),l(e=>e.map(e=>(e._id||e.id)===t?o(o({},e),{},{commentsCount:Math.max((e.commentsCount||1)-1,0)}):e)),u(e=>e.map(e=>(e._id||e.id)===t?o(o({},e),{},{commentsCount:Math.max((e.commentsCount||1)-1,0)}):e)),$i().fire({title:"Deleted",icon:"success",timer:1500,showConfirmButton:!1}))}catch(i){console.error(i),$i().fire("Error","Could not delete comment","error")}})(v._id||v.id,t._id),style:{background:"none",border:"none",color:"#d33",fontSize:"0.8rem",cursor:"pointer",marginTop:5,padding:0},children:"Delete"})]},e)}):C?(0,Wi.jsx)("p",{children:"Loading comments..."}):(0,Wi.jsx)("p",{children:"No comments yet."})})]})]})})]})},PC="http://localhost:5000/api/admin/users";function jC(){let t=null;try{t=JSON.parse(localStorage.getItem("user"))}catch(b){t=null}const n=t||{id:"dummy",role:"globaladmin",postalCode:"509001"},[i,r]=(0,e.useState)([]),[s,a]=(0,e.useState)(!1),[l,c]=(0,e.useState)(""),[u,h]=(0,e.useState)("users"),[d,f]=(0,e.useState)(1),[p,g]=(0,e.useState)(!0),m=(0,e.useRef)(null),v=(0,e.useRef)(null),y=(0,e.useCallback)(async function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l;if(!s){a(!0);try{const i=localStorage.getItem("token"),s="?page=".concat(t,"&limit=").concat(15,"&search=").concat(encodeURIComponent(n)),o=await qi.get("".concat(PC,"/users").concat(s),{headers:{Authorization:"Bearer ".concat(i)}});if(o.data.success){const t=o.data.users||[];t.length<15&&g(!1),r(e?t:e=>{const n=new Set(e.map(t=>t._id)),i=t.filter(t=>!n.has(t._id));return[...e,...i]})}}catch(i){console.error("Fetch error:",i)}finally{a(!1)}}},[s]);(0,e.useEffect)(()=>(v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{f(1),g(!0),y(1,!0,l)},500),()=>clearTimeout(v.current)),[l,u]);const w=i.filter(t=>{if("globaladmin"===n.role){if("users"===u&&"user"!==t.role)return!1;if("admins"===u&&"admin"!==t.role)return!1}else if("admin"===n.role){if("user"!==t.role)return!1;if(t.postalCode!==n.postalCode)return!1}if(l){const e=l.toLowerCase();return t.name.toLowerCase().includes(e)||t.email.toLowerCase().includes(e)||t.postalCode.includes(e)}return!0});return(0,Wi.jsx)("div",{className:"admin-users-page",children:(0,Wi.jsxs)("div",{className:"container",children:[(0,Wi.jsxs)("div",{className:"page-header",children:[(0,Wi.jsxs)("div",{className:"header-content",children:[(0,Wi.jsx)("h1",{children:"globaladmin"===n.role?"Admin Dashboard":"Region Manager"}),(0,Wi.jsx)("p",{children:"globaladmin"===n.role?"Manage users and administrators.":"Managing Region: ".concat(n.postalCode)})]}),(0,Wi.jsxs)("div",{className:"header-controls",children:["globaladmin"===n.role&&(0,Wi.jsxs)("div",{className:"tabs-container",children:[(0,Wi.jsx)("button",{className:"tab-btn ".concat("users"===u?"active":""),onClick:()=>h("users"),children:"Users"}),(0,Wi.jsx)("button",{className:"tab-btn ".concat("admins"===u?"active":""),onClick:()=>h("admins"),children:"Admins"})]}),(0,Wi.jsxs)("div",{className:"search-container",children:[(0,Wi.jsx)("i",{className:"bi bi-search search-icon"}),(0,Wi.jsx)("input",{type:"text",placeholder:"Search by name or email...",className:"search-input",value:l,onChange:t=>c(t.target.value)})]})]})]}),(0,Wi.jsx)("div",{className:"users-table-card",children:(0,Wi.jsxs)("div",{className:"table-scroll-container",ref:m,onScroll:()=>{if(!m.current||s||!p)return;const{scrollTop:t,scrollHeight:e,clientHeight:n}=m.current;if(t+n>=e-50){const t=d+1;f(t),y(t,!1,l)}},children:[(0,Wi.jsxs)("table",{className:"user-table",children:[(0,Wi.jsx)("thead",{children:(0,Wi.jsxs)("tr",{children:[(0,Wi.jsx)("th",{children:"User Details"}),"globaladmin"===n.role&&(0,Wi.jsx)("th",{children:"Role"}),(0,Wi.jsx)("th",{children:"Postal Code"}),(0,Wi.jsx)("th",{children:"Status"}),(0,Wi.jsx)("th",{style:{textAlign:"center"},children:"Actions"})]})}),(0,Wi.jsx)("tbody",{children:w.length>0?w.map(t=>(0,Wi.jsxs)("tr",{children:[(0,Wi.jsx)("td",{children:(0,Wi.jsxs)("div",{className:"user-info-cell",children:[(0,Wi.jsx)("span",{className:"user-name",children:t.name}),(0,Wi.jsx)("span",{className:"user-email",children:t.email})]})}),"globaladmin"===n.role&&(0,Wi.jsx)("td",{children:(0,Wi.jsx)("span",{className:"role-badge ".concat(t.role),children:t.role})}),(0,Wi.jsx)("td",{children:t.postalCode||"N/A"}),(0,Wi.jsx)("td",{children:(0,Wi.jsxs)("span",{className:"status-badge ".concat("ACTIVE"===t.status?"active":"blocked"),children:[(0,Wi.jsx)("span",{className:"status-dot"}),t.status]})}),(0,Wi.jsx)("td",{children:(0,Wi.jsxs)("div",{className:"actions-cell",style:{justifyContent:"center"},children:[(0,Wi.jsx)("button",{className:"actions-btn ".concat("ACTIVE"===t.status?"btn-block":"btn-unblock"),onClick:()=>(async(t,e)=>{const n="ACTIVE"===e?"Block":"Unblock";if((await $i().fire({title:"".concat(n," User?"),text:"Are you sure you want to ".concat(n.toLowerCase()," this user?"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#10b981",cancelButtonColor:"#d33",confirmButtonText:n})).isConfirmed){r(n=>n.map(n=>n._id===t?o(o({},n),{},{status:"ACTIVE"===e?"BLOCKED":"ACTIVE"}):n));try{const e=localStorage.getItem("token");await qi.put("".concat(PC,"/block/").concat(t),{},{headers:{Authorization:"Bearer ".concat(e)}}),$i().fire({title:"Updated!",icon:"success",timer:1500,showConfirmButton:!1})}catch(i){console.error(i),y(1,!0)}}})(t._id,t.status),title:"ACTIVE"===t.status?"Block":"Unblock",children:(0,Wi.jsx)("i",{className:"bi ".concat("ACTIVE"===t.status?"bi-lock-fill":"bi-unlock-fill")})}),"globaladmin"===n.role&&(0,Wi.jsx)("button",{className:"actions-btn btn-promote",onClick:()=>(async(t,e)=>{if("globaladmin"!==n.role)return;const i="user"===e?"admin":"user";if((await $i().fire({title:"Change Role?",text:"Promote this user to ".concat(i,"?"),icon:"question",showCancelButton:!0,confirmButtonColor:"#3b82f6",confirmButtonText:"Yes, promote"})).isConfirmed){r(e=>e.map(e=>e._id===t?o(o({},e),{},{role:i}):e));try{const e=localStorage.getItem("token");await qi.put("".concat(PC,"/role/").concat(t),{},{headers:{Authorization:"Bearer ".concat(e)}}),$i().fire({title:"Success!",icon:"success",timer:1500,showConfirmButton:!1})}catch(s){y(1,!0)}}})(t._id,t.role),title:"admin"===t.role?"Demote":"Promote",children:(0,Wi.jsx)("i",{className:"bi ".concat("admin"===t.role?"bi-arrow-down-circle-fill":"bi-arrow-up-circle")})}),(0,Wi.jsx)("button",{className:"actions-btn btn-delete",onClick:()=>(async t=>{if((await $i().fire({title:"Delete User?",text:"This action is permanent.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",confirmButtonText:"Delete"})).isConfirmed){r(e=>e.filter(e=>e._id!==t));try{const e=localStorage.getItem("token");await qi.delete("".concat(PC,"/").concat(t),{headers:{Authorization:"Bearer ".concat(e)}}),$i().fire({title:"Deleted!",icon:"success",timer:1500,showConfirmButton:!1})}catch(e){y(1,!0)}}})(t._id),title:"Delete",children:(0,Wi.jsx)("i",{className:"bi bi-trash3-fill"})})]})})]},t._id)):!s&&(0,Wi.jsx)("tr",{children:(0,Wi.jsx)("td",{colSpan:"5",style:{textAlign:"center",padding:"3rem",color:"#999"},children:"No users found."})})})]}),s&&(0,Wi.jsx)("div",{className:"loading-indicator",children:"Loading users..."}),!p&&w.length>0&&(0,Wi.jsx)("div",{className:"end-message",children:"End of list"})]})})]})})}const RC=["element"],TC=["element"],IC=t=>{let{element:e}=t,n=a(t,RC);const{user:i,loading:r}=Gi();return r?(0,Wi.jsx)("div",{className:"loading-screen",children:"Checking Authentication..."}):i?(0,Wi.jsx)(e,o({},n)):(0,Wi.jsx)(Lt,{to:"/login",replace:!0})},FC=t=>{let{element:e}=t,n=a(t,TC);const{user:i,loading:r}=Gi();return r?(0,Wi.jsx)("div",{className:"loading-screen",children:"Checking Authorization..."}):i&&["admin","globaladmin"].includes(i.role)?(0,Wi.jsx)(e,o({},n)):(0,Wi.jsx)(Lt,{to:"/",replace:!0})};const OC=function(){return(0,Wi.jsx)(Ki,{children:(0,Wi.jsx)(he,{children:(0,Wi.jsxs)("div",{className:"App",children:[(0,Wi.jsx)(Xi,{}),(0,Wi.jsx)("main",{className:"main-content",children:(0,Wi.jsxs)(Rt,{children:[(0,Wi.jsx)(Pt,{path:"/",element:(0,Wi.jsx)(Zi,{})}),(0,Wi.jsx)(Pt,{path:"/login",element:(0,Wi.jsx)(Ao,{})}),(0,Wi.jsx)(Pt,{path:"/register",element:(0,Wi.jsx)(Eo,{})}),(0,Wi.jsx)(Pt,{path:"/dashboard",element:(0,Wi.jsx)(IC,{element:Fm})}),(0,Wi.jsx)(Pt,{path:"/report-issue",element:(0,Wi.jsx)(IC,{element:Mm})}),(0,Wi.jsx)(Pt,{path:"/complaints",element:(0,Wi.jsx)(IC,{element:zm})}),(0,Wi.jsx)(Pt,{path:"/profile",element:(0,Wi.jsx)(IC,{element:Wm})}),(0,Wi.jsx)(Pt,{path:"/admin",element:(0,Wi.jsx)(FC,{element:Vm})}),(0,Wi.jsx)(Pt,{path:"/admin/reports",element:(0,Wi.jsx)(FC,{element:NC})}),(0,Wi.jsx)(Pt,{path:"/admin/complaints",element:(0,Wi.jsx)(FC,{element:LC})}),(0,Wi.jsx)(Pt,{path:"/admin/users",element:(0,Wi.jsx)(FC,{element:jC})}),(0,Wi.jsx)(Pt,{path:"/admin/*",element:(0,Wi.jsx)(FC,{element:Vm})}),(0,Wi.jsx)(Pt,{path:"*",element:(0,Wi.jsx)("div",{className:"container",children:(0,Wi.jsx)("h1",{children:"404 Not Found"})})})]})})]})})})};i.createRoot(document.getElementById("root")).render((0,Wi.jsx)(e.StrictMode,{children:(0,Wi.jsx)(OC,{})}))})()})();
//# sourceMappingURL=main.43f0d6a0.js.map